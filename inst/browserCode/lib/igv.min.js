!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).igv=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){var t={exports:{}};return e(t,t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),i=function(e){try{return!!e()}catch(e){return!0}},a=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c=s&&!o.call({1:2},1)?function(e){var t=s(this,e);return!!t&&t.enumerable}:o,u={f:c},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,f=function(e){return h.call(e).slice(8,-1)},d="".split,p=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==f(e)?d.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return p(g(e))},m=function(e){return"object"==typeof e?null!==e:"function"==typeof e},y=function(e,t){if(!m(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!m(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,w=function(e,t){return b.call(e,t)},x=r.document,k=m(x)&&m(x.createElement),_=function(e){return k?x.createElement(e):{}},S=!a&&!i((function(){return 7!=Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a})),C=Object.getOwnPropertyDescriptor,E={f:a?C:function(e,t){if(e=v(e),t=y(t,!0),S)try{return C(e,t)}catch(e){}if(w(e,t))return l(!u.f.call(e,t),e[t])}},A=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},R=Object.defineProperty,T={f:a?R:function(e,t,n){if(A(e),t=y(t,!0),A(n),S)try{return R(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},L=a?function(e,t,n){return T.f(e,t,l(1,n))}:function(e,t,n){return e[t]=n,e},M=function(e,t){try{L(r,e,t)}catch(n){r[e]=t}return t},I="__core-js_shared__",O=r[I]||M(I,{}),P=Function.toString;"function"!=typeof O.inspectSource&&(O.inspectSource=function(e){return P.call(e)});var N,F,D,B=O.inspectSource,z=r.WeakMap,H="function"==typeof z&&/native code/.test(B(z)),j=t((function(e){(e.exports=function(e,t){return O[e]||(O[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),V=0,U=Math.random(),q=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++V+U).toString(36)},W=j("keys"),G=function(e){return W[e]||(W[e]=q(e))},$={},Z=r.WeakMap;if(H){var Y=new Z,X=Y.get,K=Y.has,Q=Y.set;N=function(e,t){return Q.call(Y,e,t),t},F=function(e){return X.call(Y,e)||{}},D=function(e){return K.call(Y,e)}}else{var J=G("state");$[J]=!0,N=function(e,t){return L(e,J,t),t},F=function(e){return w(e,J)?e[J]:{}},D=function(e){return w(e,J)}}var ee,te,ne={set:N,get:F,has:D,enforce:function(e){return D(e)?F(e):N(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=F(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},re=t((function(e){var t=ne.get,n=ne.enforce,i=String(String).split("String");(e.exports=function(e,t,a,o){var s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof a&&("string"!=typeof t||w(a,"name")||L(a,"name",t),n(a).source=i.join("string"==typeof t?t:"")),e!==r?(s?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=a:L(e,t,a)):c?e[t]=a:M(t,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||B(this)}))})),ie=r,ae=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?ae(ie[e])||ae(r[e]):ie[e]&&ie[e][t]||r[e]&&r[e][t]},se=Math.ceil,ce=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?ce:se)(e)},le=Math.min,he=function(e){return e>0?le(ue(e),9007199254740991):0},fe=Math.max,de=Math.min,pe=function(e,t){var n=ue(e);return n<0?fe(n+t,0):de(n,t)},ge=function(e){return function(t,n,r){var i,a=v(t),o=he(a.length),s=pe(r,o);if(e&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},ve={includes:ge(!0),indexOf:ge(!1)},me=ve.indexOf,ye=function(e,t){var n,r=v(e),i=0,a=[];for(n in r)!w($,n)&&w(r,n)&&a.push(n);for(;t.length>i;)w(r,n=t[i++])&&(~me(a,n)||a.push(n));return a},be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=be.concat("length","prototype"),xe={f:Object.getOwnPropertyNames||function(e){return ye(e,we)}},ke={f:Object.getOwnPropertySymbols},_e=oe("Reflect","ownKeys")||function(e){var t=xe.f(A(e)),n=ke.f;return n?t.concat(n(e)):t},Se=function(e,t){for(var n=_e(t),r=T.f,i=E.f,a=0;a<n.length;a++){var o=n[a];w(e,o)||r(e,o,i(t,o))}},Ce=/#|\.prototype\./,Ee=function(e,t){var n=Re[Ae(e)];return n==Le||n!=Te&&("function"==typeof t?i(t):!!t)},Ae=Ee.normalize=function(e){return String(e).replace(Ce,".").toLowerCase()},Re=Ee.data={},Te=Ee.NATIVE="N",Le=Ee.POLYFILL="P",Me=Ee,Ie=E.f,Oe=function(e,t){var n,i,a,o,s,c=e.target,u=e.global,l=e.stat;if(n=u?r:l?r[c]||M(c,{}):(r[c]||{}).prototype)for(i in t){if(o=t[i],a=e.noTargetGet?(s=Ie(n,i))&&s.value:n[i],!Me(u?i:c+(l?".":"#")+i,e.forced)&&void 0!==a){if(typeof o==typeof a)continue;Se(o,a)}(e.sham||a&&a.sham)&&L(o,"sham",!0),re(n,i,o,e)}},Pe=Array.isArray||function(e){return"Array"==f(e)},Ne=function(e){return Object(g(e))},Fe=function(e,t,n){var r=y(t);r in e?T.f(e,r,l(0,n)):e[r]=n},De=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Be=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ze=j("wks"),He=r.Symbol,je=Be?He:He&&He.withoutSetter||q,Ve=function(e){return w(ze,e)||(De&&w(He,e)?ze[e]=He[e]:ze[e]=je("Symbol."+e)),ze[e]},Ue=Ve("species"),qe=function(e,t){var n;return Pe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Pe(n.prototype)?m(n)&&null===(n=n[Ue])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},We=oe("navigator","userAgent")||"",Ge=r.process,$e=Ge&&Ge.versions,Ze=$e&&$e.v8;Ze?te=(ee=Ze.split("."))[0]+ee[1]:We&&(!(ee=We.match(/Edge\/(\d+)/))||ee[1]>=74)&&(ee=We.match(/Chrome\/(\d+)/))&&(te=ee[1]);var Ye=te&&+te,Xe=Ve("species"),Ke=function(e){return Ye>=51||!i((function(){var t=[];return(t.constructor={})[Xe]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Qe=Ve("isConcatSpreadable"),Je=9007199254740991,et="Maximum allowed index exceeded",tt=Ye>=51||!i((function(){var e=[];return e[Qe]=!1,e.concat()[0]!==e})),nt=Ke("concat"),rt=function(e){if(!m(e))return!1;var t=e[Qe];return void 0!==t?!!t:Pe(e)};Oe({target:"Array",proto:!0,forced:!tt||!nt},{concat:function(e){var t,n,r,i,a,o=Ne(this),s=qe(o,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(rt(a=-1===t?o:arguments[t])){if(c+(i=he(a.length))>Je)throw TypeError(et);for(n=0;n<i;n++,c++)n in a&&Fe(s,c,a[n])}else{if(c>=Je)throw TypeError(et);Fe(s,c++,a)}return s.length=c,s}});var it,at=Object.keys||function(e){return ye(e,be)},ot=a?Object.defineProperties:function(e,t){A(e);for(var n,r=at(t),i=r.length,a=0;i>a;)T.f(e,n=r[a++],t[n]);return e},st=oe("document","documentElement"),ct=G("IE_PROTO"),ut=function(){},lt=function(e){return"<script>"+e+"</"+"script>"},ht=function(){try{it=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;ht=it?function(e){e.write(lt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(it):((t=_("iframe")).style.display="none",st.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(lt("document.F=Object")),e.close(),e.F);for(var n=be.length;n--;)delete ht.prototype[be[n]];return ht()};$[ct]=!0;var ft=Object.create||function(e,t){var n;return null!==e?(ut.prototype=A(e),n=new ut,ut.prototype=null,n[ct]=e):n=ht(),void 0===t?n:ot(n,t)},dt=Ve("unscopables"),pt=Array.prototype;null==pt[dt]&&T.f(pt,dt,{configurable:!0,value:ft(null)});var gt,vt,mt,yt=function(e){pt[dt][e]=!0},bt={},wt=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),xt=G("IE_PROTO"),kt=Object.prototype,_t=wt?Object.getPrototypeOf:function(e){return e=Ne(e),w(e,xt)?e[xt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?kt:null},St=Ve("iterator"),Ct=!1;[].keys&&("next"in(mt=[].keys())?(vt=_t(_t(mt)))!==Object.prototype&&(gt=vt):Ct=!0),null==gt&&(gt={}),w(gt,St)||L(gt,St,(function(){return this}));var Et={IteratorPrototype:gt,BUGGY_SAFARI_ITERATORS:Ct},At=T.f,Rt=Ve("toStringTag"),Tt=function(e,t,n){e&&!w(e=n?e:e.prototype,Rt)&&At(e,Rt,{configurable:!0,value:t})},Lt=Et.IteratorPrototype,Mt=function(){return this},It=function(e,t,n){var r=t+" Iterator";return e.prototype=ft(Lt,{next:l(1,n)}),Tt(e,r,!1),bt[r]=Mt,e},Ot=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return A(n),function(e){if(!m(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Pt=Et.IteratorPrototype,Nt=Et.BUGGY_SAFARI_ITERATORS,Ft=Ve("iterator"),Dt="keys",Bt="values",zt="entries",Ht=function(){return this},jt=function(e,t,n,r,i,a,o){It(n,t,r);var s,c,u,l=function(e){if(e===i&&g)return g;if(!Nt&&e in d)return d[e];switch(e){case Dt:case Bt:case zt:return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,d=e.prototype,p=d[Ft]||d["@@iterator"]||i&&d[i],g=!Nt&&p||l(i),v="Array"==t&&d.entries||p;if(v&&(s=_t(v.call(new e)),Pt!==Object.prototype&&s.next&&(_t(s)!==Pt&&(Ot?Ot(s,Pt):"function"!=typeof s[Ft]&&L(s,Ft,Ht)),Tt(s,h,!0))),i==Bt&&p&&p.name!==Bt&&(f=!0,g=function(){return p.call(this)}),d[Ft]!==g&&L(d,Ft,g),bt[t]=g,i)if(c={values:l(Bt),keys:a?g:l(Dt),entries:l(zt)},o)for(u in c)(Nt||f||!(u in d))&&re(d,u,c[u]);else Oe({target:t,proto:!0,forced:Nt||f},c);return c},Vt="Array Iterator",Ut=ne.set,qt=ne.getterFor(Vt),Wt=jt(Array,"Array",(function(e,t){Ut(this,{type:Vt,target:v(e),index:0,kind:t})}),(function(){var e=qt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");bt.Arguments=bt.Array,yt("keys"),yt("values"),yt("entries");var Gt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},$t=function(e,t,n){if(Gt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Zt=[].push,Yt=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=5==e||a;return function(s,c,u,l){for(var h,f,d=Ne(s),g=p(d),v=$t(c,u,3),m=he(g.length),y=0,b=l||qe,w=t?b(s,m):n?b(s,0):void 0;m>y;y++)if((o||y in g)&&(f=v(h=g[y],y,d),e))if(t)w[y]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:Zt.call(w,h)}else if(i)return!1;return a?-1:r||i?i:w}},Xt={forEach:Yt(0),map:Yt(1),filter:Yt(2),some:Yt(3),every:Yt(4),find:Yt(5),findIndex:Yt(6)},Kt=Object.defineProperty,Qt={},Jt=function(e){throw e},en=function(e,t){if(w(Qt,e))return Qt[e];t||(t={});var n=[][e],r=!!w(t,"ACCESSORS")&&t.ACCESSORS,o=w(t,0)?t[0]:Jt,s=w(t,1)?t[1]:void 0;return Qt[e]=!!n&&!i((function(){if(r&&!a)return!0;var e={length:-1};r?Kt(e,1,{enumerable:!0,get:Jt}):e[1]=1,n.call(e,o,s)}))},tn=Xt.map,nn=Ke("map"),rn=en("map");Oe({target:"Array",proto:!0,forced:!nn||!rn},{map:function(e){return tn(this,e,arguments.length>1?arguments[1]:void 0)}});var an=T.f,on=Function.prototype,sn=on.toString,cn=/^\s*function ([^ (]*)/,un="name";a&&!(un in on)&&an(on,un,{configurable:!0,get:function(){try{return sn.call(this).match(cn)[1]}catch(e){return""}}});var ln=function(e,t,n){var r,i;return Ot&&"function"==typeof(r=t.constructor)&&r!==n&&m(i=r.prototype)&&i!==n.prototype&&Ot(e,i),e},hn="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",fn="["+hn+"]",dn=RegExp("^"+fn+fn+"*"),pn=RegExp(fn+fn+"*$"),gn=function(e){return function(t){var n=String(g(t));return 1&e&&(n=n.replace(dn,"")),2&e&&(n=n.replace(pn,"")),n}},vn={start:gn(1),end:gn(2),trim:gn(3)},mn=xe.f,yn=E.f,bn=T.f,wn=vn.trim,xn="Number",kn=r.Number,_n=kn.prototype,Sn=f(ft(_n))==xn,Cn=function(e){var t,n,r,i,a,o,s,c,u=y(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=wn(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=(a=u.slice(2)).length,s=0;s<o;s++)if((c=a.charCodeAt(s))<48||c>i)return NaN;return parseInt(a,r)}return+u};if(Me(xn,!kn(" 0o1")||!kn("0b1")||kn("+0x1"))){for(var En,An=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof An&&(Sn?i((function(){_n.valueOf.call(n)})):f(n)!=xn)?ln(new kn(Cn(t)),n,An):Cn(t)},Rn=a?mn(kn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Tn=0;Rn.length>Tn;Tn++)w(kn,En=Rn[Tn])&&!w(An,En)&&bn(An,En,yn(kn,En));An.prototype=_n,_n.constructor=An,re(r,xn,An)}var Ln=vn.trim,Mn=r.parseInt,In=/^[+-]?0[Xx]/,On=8!==Mn(hn+"08")||22!==Mn(hn+"0x16")?function(e,t){var n=Ln(String(e));return Mn(n,t>>>0||(In.test(n)?16:10))}:Mn;Oe({target:"Number",stat:!0,forced:Number.parseInt!=On},{parseInt:On});var Pn={};Pn[Ve("toStringTag")]="z";var Nn="[object z]"===String(Pn),Fn=Ve("toStringTag"),Dn="Arguments"==f(function(){return arguments}()),Bn=Nn?f:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Fn))?n:Dn?f(t):"Object"==(r=f(t))&&"function"==typeof t.callee?"Arguments":r},zn=Nn?{}.toString:function(){return"[object "+Bn(this)+"]"};Nn||re(Object.prototype,"toString",zn,{unsafe:!0});var Hn=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),jn=t((function(e){var t=T.f,n=q("meta"),r=0,i=Object.isExtensible||function(){return!0},a=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},o=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!w(e,n)){if(!i(e))return"F";if(!t)return"E";a(e)}return e[n].objectID},getWeakData:function(e,t){if(!w(e,n)){if(!i(e))return!0;if(!t)return!1;a(e)}return e[n].weakData},onFreeze:function(e){return Hn&&o.REQUIRED&&i(e)&&!w(e,n)&&a(e),e}};$[n]=!0})),Vn=Ve("iterator"),Un=Array.prototype,qn=function(e){return void 0!==e&&(bt.Array===e||Un[Vn]===e)},Wn=Ve("iterator"),Gn=function(e){if(null!=e)return e[Wn]||e["@@iterator"]||bt[Bn(e)]},$n=function(e,t,n,r){try{return r?t(A(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&A(i.call(e)),t}},Zn=t((function(e){var t=function(e,t){this.stopped=e,this.result=t},n=e.exports=function(e,n,r,i,a){var o,s,c,u,l,h,f,d=$t(n,r,i?2:1);if(a)o=e;else{if("function"!=typeof(s=Gn(e)))throw TypeError("Target is not iterable");if(qn(s)){for(c=0,u=he(e.length);u>c;c++)if((l=i?d(A(f=e[c])[0],f[1]):d(e[c]))&&l instanceof t)return l;return new t(!1)}o=s.call(e)}for(h=o.next;!(f=h.call(o)).done;)if("object"==typeof(l=$n(o,d,f.value,i))&&l&&l instanceof t)return l;return new t(!1)};n.stop=function(e){return new t(!0,e)}})),Yn=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Xn=Ve("iterator"),Kn=!1;try{var Qn=0,Jn={next:function(){return{done:!!Qn++}},return:function(){Kn=!0}};Jn[Xn]=function(){return this},Array.from(Jn,(function(){throw 2}))}catch(e){}var er=function(e,t){if(!t&&!Kn)return!1;var n=!1;try{var r={};r[Xn]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},tr=function(e,t,n){var a=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=a?"set":"add",c=r[e],u=c&&c.prototype,l=c,h={},f=function(e){var t=u[e];re(u,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!m(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!m(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!m(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Me(e,"function"!=typeof c||!(o||u.forEach&&!i((function(){(new c).entries().next()})))))l=n.getConstructor(t,e,a,s),jn.REQUIRED=!0;else if(Me(e,!0)){var d=new l,p=d[s](o?{}:-0,1)!=d,g=i((function(){d.has(1)})),v=er((function(e){new c(e)})),y=!o&&i((function(){for(var e=new c,t=5;t--;)e[s](t,t);return!e.has(-0)}));v||((l=t((function(t,n){Yn(t,l,e);var r=ln(new c,t,l);return null!=n&&Zn(n,r[s],r,a),r}))).prototype=u,u.constructor=l),(g||y)&&(f("delete"),f("has"),a&&f("get")),(y||p)&&f(s),o&&u.clear&&delete u.clear}return h[e]=l,Oe({global:!0,forced:l!=c},h),Tt(l,e),o||n.setStrong(l,e,a),l},nr=function(e,t,n){for(var r in t)re(e,r,t[r],n);return e},rr=Ve("species"),ir=function(e){var t=oe(e),n=T.f;a&&t&&!t[rr]&&n(t,rr,{configurable:!0,get:function(){return this}})},ar=T.f,or=jn.fastKey,sr=ne.set,cr=ne.getterFor,ur={getConstructor:function(e,t,n,r){var i=e((function(e,o){Yn(e,i,t),sr(e,{type:t,index:ft(null),first:void 0,last:void 0,size:0}),a||(e.size=0),null!=o&&Zn(o,e[r],e,n)})),o=cr(t),s=function(e,t,n){var r,i,s=o(e),u=c(e,t);return u?u.value=n:(s.last=u={index:i=or(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=u),r&&(r.next=u),a?s.size++:e.size++,"F"!==i&&(s.index[i]=u)),e},c=function(e,t){var n,r=o(e),i=or(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return nr(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,a?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=c(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),a?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=$t(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),nr(i.prototype,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),a&&ar(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=cr(t),a=cr(r);jt(e,t,(function(e,t){sr(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ir(t)}};tr("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),ur);var lr=function(e){return function(t,n){var r,i,a=String(g(t)),o=ue(n),s=a.length;return o<0||o>=s?e?"":void 0:(r=a.charCodeAt(o))<55296||r>56319||o+1===s||(i=a.charCodeAt(o+1))<56320||i>57343?e?a.charAt(o):r:e?a.slice(o,o+2):i-56320+(r-55296<<10)+65536}},hr={codeAt:lr(!1),charAt:lr(!0)},fr=hr.charAt,dr="String Iterator",pr=ne.set,gr=ne.getterFor(dr);jt(String,"String",(function(e){pr(this,{type:dr,string:String(e),index:0})}),(function(){var e,t=gr(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=fr(n,r),t.index+=e.length,{value:e,done:!1})}));var vr,mr=Ve("match"),yr=function(e){var t;return m(e)&&(void 0!==(t=e[mr])?!!t:"RegExp"==f(e))},br=function(e){if(yr(e))throw TypeError("The method doesn't accept regular expressions");return e},wr=Ve("match"),xr=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[wr]=!1,"/./"[e](t)}catch(e){}}return!1},kr=E.f,_r="".startsWith,Sr=Math.min,Cr=xr("startsWith"),Er=!(Cr||(vr=kr(String.prototype,"startsWith"),!vr||vr.writable));Oe({target:"String",proto:!0,forced:!Er&&!Cr},{startsWith:function(e){var t=String(g(this));br(e);var n=he(Sr(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return _r?_r.call(t,r,n):t.slice(n,n+r.length)===r}});var Ar=vn.trim;Oe({target:"String",proto:!0,forced:function(e){return i((function(){return!!hn[e]()||"âÂá "!="âÂá "[e]()||hn[e].name!==e}))}("trim")},{trim:function(){return Ar(this)}});var Rr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Tr=Ve("iterator"),Lr=Ve("toStringTag"),Mr=Wt.values;for(var Ir in Rr){var Or=r[Ir],Pr=Or&&Or.prototype;if(Pr){if(Pr[Tr]!==Mr)try{L(Pr,Tr,Mr)}catch(e){Pr[Tr]=Mr}if(Pr[Lr]||L(Pr,Lr,Ir),Rr[Ir])for(var Nr in Wt)if(Pr[Nr]!==Wt[Nr])try{L(Pr,Nr,Wt[Nr])}catch(e){Pr[Nr]=Wt[Nr]}}}var Fr=xe.f,Dr={}.toString,Br="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zr={f:function(e){return Br&&"[object Window]"==Dr.call(e)?function(e){try{return Fr(e)}catch(e){return Br.slice()}}(e):Fr(v(e))}},Hr={f:Ve},jr=T.f,Vr=function(e){var t=ie.Symbol||(ie.Symbol={});w(t,e)||jr(t,e,{value:Hr.f(e)})},Ur=Xt.forEach,qr=G("hidden"),Wr="Symbol",Gr=Ve("toPrimitive"),$r=ne.set,Zr=ne.getterFor(Wr),Yr=Object.prototype,Xr=r.Symbol,Kr=oe("JSON","stringify"),Qr=E.f,Jr=T.f,ei=zr.f,ti=u.f,ni=j("symbols"),ri=j("op-symbols"),ii=j("string-to-symbol-registry"),ai=j("symbol-to-string-registry"),oi=j("wks"),si=r.QObject,ci=!si||!si.prototype||!si.prototype.findChild,ui=a&&i((function(){return 7!=ft(Jr({},"a",{get:function(){return Jr(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Qr(Yr,t);r&&delete Yr[t],Jr(e,t,n),r&&e!==Yr&&Jr(Yr,t,r)}:Jr,li=function(e,t){var n=ni[e]=ft(Xr.prototype);return $r(n,{type:Wr,tag:e,description:t}),a||(n.description=t),n},hi=Be?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Xr},fi=function(e,t,n){e===Yr&&fi(ri,t,n),A(e);var r=y(t,!0);return A(n),w(ni,r)?(n.enumerable?(w(e,qr)&&e[qr][r]&&(e[qr][r]=!1),n=ft(n,{enumerable:l(0,!1)})):(w(e,qr)||Jr(e,qr,l(1,{})),e[qr][r]=!0),ui(e,r,n)):Jr(e,r,n)},di=function(e,t){A(e);var n=v(t),r=at(n).concat(mi(n));return Ur(r,(function(t){a&&!pi.call(n,t)||fi(e,t,n[t])})),e},pi=function(e){var t=y(e,!0),n=ti.call(this,t);return!(this===Yr&&w(ni,t)&&!w(ri,t))&&(!(n||!w(this,t)||!w(ni,t)||w(this,qr)&&this[qr][t])||n)},gi=function(e,t){var n=v(e),r=y(t,!0);if(n!==Yr||!w(ni,r)||w(ri,r)){var i=Qr(n,r);return!i||!w(ni,r)||w(n,qr)&&n[qr][r]||(i.enumerable=!0),i}},vi=function(e){var t=ei(v(e)),n=[];return Ur(t,(function(e){w(ni,e)||w($,e)||n.push(e)})),n},mi=function(e){var t=e===Yr,n=ei(t?ri:v(e)),r=[];return Ur(n,(function(e){!w(ni,e)||t&&!w(Yr,e)||r.push(ni[e])})),r};if(De||(Xr=function(){if(this instanceof Xr)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=q(e),n=function(e){this===Yr&&n.call(ri,e),w(this,qr)&&w(this[qr],t)&&(this[qr][t]=!1),ui(this,t,l(1,e))};return a&&ci&&ui(Yr,t,{configurable:!0,set:n}),li(t,e)},re(Xr.prototype,"toString",(function(){return Zr(this).tag})),re(Xr,"withoutSetter",(function(e){return li(q(e),e)})),u.f=pi,T.f=fi,E.f=gi,xe.f=zr.f=vi,ke.f=mi,Hr.f=function(e){return li(Ve(e),e)},a&&(Jr(Xr.prototype,"description",{configurable:!0,get:function(){return Zr(this).description}}),re(Yr,"propertyIsEnumerable",pi,{unsafe:!0}))),Oe({global:!0,wrap:!0,forced:!De,sham:!De},{Symbol:Xr}),Ur(at(oi),(function(e){Vr(e)})),Oe({target:Wr,stat:!0,forced:!De},{for:function(e){var t=String(e);if(w(ii,t))return ii[t];var n=Xr(t);return ii[t]=n,ai[n]=t,n},keyFor:function(e){if(!hi(e))throw TypeError(e+" is not a symbol");if(w(ai,e))return ai[e]},useSetter:function(){ci=!0},useSimple:function(){ci=!1}}),Oe({target:"Object",stat:!0,forced:!De,sham:!a},{create:function(e,t){return void 0===t?ft(e):di(ft(e),t)},defineProperty:fi,defineProperties:di,getOwnPropertyDescriptor:gi}),Oe({target:"Object",stat:!0,forced:!De},{getOwnPropertyNames:vi,getOwnPropertySymbols:mi}),Oe({target:"Object",stat:!0,forced:i((function(){ke.f(1)}))},{getOwnPropertySymbols:function(e){return ke.f(Ne(e))}}),Kr){var yi=!De||i((function(){var e=Xr();return"[null]"!=Kr([e])||"{}"!=Kr({a:e})||"{}"!=Kr(Object(e))}));Oe({target:"JSON",stat:!0,forced:yi},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(m(t)||void 0!==e)&&!hi(e))return Pe(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!hi(t))return t}),i[1]=t,Kr.apply(null,i)}})}Xr.prototype[Gr]||L(Xr.prototype,Gr,Xr.prototype.valueOf),Tt(Xr,Wr),$[qr]=!0;var bi=T.f,wi=r.Symbol;if(a&&"function"==typeof wi&&(!("description"in wi.prototype)||void 0!==wi().description)){var xi={},ki=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof ki?new wi(e):void 0===e?wi():wi(e);return""===e&&(xi[t]=!0),t};Se(ki,wi);var _i=ki.prototype=wi.prototype;_i.constructor=ki;var Si=_i.toString,Ci="Symbol(test)"==String(wi("test")),Ei=/^Symbol\((.*)\)[^)]+$/;bi(_i,"description",{configurable:!0,get:function(){var e=m(this)?this.valueOf():this,t=Si.call(e);if(w(xi,e))return"";var n=Ci?t.slice(7,-1):t.replace(Ei,"$1");return""===n?void 0:n}}),Oe({global:!0,forced:!0},{Symbol:ki})}Vr("iterator");var Ai=Xt.filter,Ri=Ke("filter"),Ti=en("filter");Oe({target:"Array",proto:!0,forced:!Ri||!Ti},{filter:function(e){return Ai(this,e,arguments.length>1?arguments[1]:void 0)}});var Li=Xt.find,Mi="find",Ii=!0,Oi=en(Mi);Mi in[]&&Array(1).find((function(){Ii=!1})),Oe({target:"Array",proto:!0,forced:Ii||!Oi},{find:function(e){return Li(this,e,arguments.length>1?arguments[1]:void 0)}}),yt(Mi);var Pi=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))},Ni=ve.indexOf,Fi=[].indexOf,Di=!!Fi&&1/[1].indexOf(1,-0)<0,Bi=Pi("indexOf"),zi=en("indexOf",{ACCESSORS:!0,1:0});Oe({target:"Array",proto:!0,forced:Di||!Bi||!zi},{indexOf:function(e){return Di?Fi.apply(this,arguments)||0:Ni(this,e,arguments.length>1?arguments[1]:void 0)}});var Hi=[].join,ji=p!=Object,Vi=Pi("join",",");Oe({target:"Array",proto:!0,forced:ji||!Vi},{join:function(e){return Hi.call(v(this),void 0===e?",":e)}});var Ui=Ke("slice"),qi=en("slice",{ACCESSORS:!0,0:0,1:2}),Wi=Ve("species"),Gi=[].slice,$i=Math.max;Oe({target:"Array",proto:!0,forced:!Ui||!qi},{slice:function(e,t){var n,r,i,a=v(this),o=he(a.length),s=pe(e,o),c=pe(void 0===t?o:t,o);if(Pe(a)&&("function"!=typeof(n=a.constructor)||n!==Array&&!Pe(n.prototype)?m(n)&&null===(n=n[Wi])&&(n=void 0):n=void 0,n===Array||void 0===n))return Gi.call(a,s,c);for(r=new(void 0===n?Array:n)($i(c-s,0)),i=0;s<c;s++,i++)s in a&&Fe(r,i,a[s]);return r.length=i,r}});var Zi=Ke("splice"),Yi=en("splice",{ACCESSORS:!0,0:0,1:2}),Xi=Math.max,Ki=Math.min,Qi=9007199254740991,Ji="Maximum allowed length exceeded";Oe({target:"Array",proto:!0,forced:!Zi||!Yi},{splice:function(e,t){var n,r,i,a,o,s,c=Ne(this),u=he(c.length),l=pe(e,u),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=u-l):(n=h-2,r=Ki(Xi(ue(t),0),u-l)),u+n-r>Qi)throw TypeError(Ji);for(i=qe(c,r),a=0;a<r;a++)(o=l+a)in c&&Fe(i,a,c[o]);if(i.length=r,n<r){for(a=l;a<u-r;a++)s=a+n,(o=a+r)in c?c[s]=c[o]:delete c[s];for(a=u;a>u-r+n;a--)delete c[a-1]}else if(n>r)for(a=u-r;a>l;a--)s=a+n-1,(o=a+r-1)in c?c[s]=c[o]:delete c[s];for(a=0;a<n;a++)c[a+l]=arguments[a+2];return c.length=u-r+n,i}});var ea=i((function(){_t(1)}));Oe({target:"Object",stat:!0,forced:ea,sham:!wt},{getPrototypeOf:function(e){return _t(Ne(e))}});var ta=function(){var e=A(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function na(e,t){return RegExp(e,t)}var ra={UNSUPPORTED_Y:i((function(){var e=na("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:i((function(){var e=na("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ia=T.f,aa=xe.f,oa=ne.set,sa=Ve("match"),ca=r.RegExp,ua=ca.prototype,la=/a/g,ha=/a/g,fa=new ca(la)!==la,da=ra.UNSUPPORTED_Y;if(a&&Me("RegExp",!fa||da||i((function(){return ha[sa]=!1,ca(la)!=la||ca(ha)==ha||"/a/i"!=ca(la,"i")})))){for(var pa=function(e,t){var n,r=this instanceof pa,i=yr(e),a=void 0===t;if(!r&&i&&e.constructor===pa&&a)return e;fa?i&&!a&&(e=e.source):e instanceof pa&&(a&&(t=ta.call(e)),e=e.source),da&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var o=ln(fa?new ca(e,t):ca(e,t),r?this:ua,pa);return da&&n&&oa(o,{sticky:n}),o},ga=function(e){e in pa||ia(pa,e,{configurable:!0,get:function(){return ca[e]},set:function(t){ca[e]=t}})},va=aa(ca),ma=0;va.length>ma;)ga(va[ma++]);ua.constructor=pa,pa.prototype=ua,re(r,"RegExp",pa)}ir("RegExp");var ya=RegExp.prototype.exec,ba=String.prototype.replace,wa=ya,xa=function(){var e=/a/,t=/b*/g;return ya.call(e,"a"),ya.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ka=ra.UNSUPPORTED_Y||ra.BROKEN_CARET,_a=void 0!==/()??/.exec("")[1];(xa||_a||ka)&&(wa=function(e){var t,n,r,i,a=this,o=ka&&a.sticky,s=ta.call(a),c=a.source,u=0,l=e;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),_a&&(n=new RegExp("^"+c+"$(?!\\s)",s)),xa&&(t=a.lastIndex),r=ya.call(o?n:a,l),o?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:xa&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),_a&&r&&r.length>1&&ba.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Sa=wa;Oe({target:"RegExp",proto:!0,forced:/./.exec!==Sa},{exec:Sa});var Ca="toString",Ea=RegExp.prototype,Aa=Ea.toString,Ra=i((function(){return"/a/b"!=Aa.call({source:"a",flags:"b"})})),Ta=Aa.name!=Ca;(Ra||Ta)&&re(RegExp.prototype,Ca,(function(){var e=A(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Ea)?ta.call(e):n)}),{unsafe:!0});var La=Ve("species"),Ma=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Ia="$0"==="a".replace(/./,"$0"),Oa=Ve("replace"),Pa=!!/./[Oa]&&""===/./[Oa]("a","$0"),Na=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Fa=function(e,t,n,r){var a=Ve(e),o=!i((function(){var t={};return t[a]=function(){return 7},7!=""[e](t)})),s=o&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[La]=function(){return n},n.flags="",n[a]=/./[a]),n.exec=function(){return t=!0,null},n[a](""),!t}));if(!o||!s||"replace"===e&&(!Ma||!Ia||Pa)||"split"===e&&!Na){var c=/./[a],u=n(a,""[e],(function(e,t,n,r,i){return t.exec===Sa?o&&!i?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ia,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Pa}),l=u[0],h=u[1];re(String.prototype,e,l),re(RegExp.prototype,a,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)})}r&&L(RegExp.prototype[a],"sham",!0)},Da=hr.charAt,Ba=function(e,t,n){return t+(n?Da(e,t).length:1)},za=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(e))throw TypeError("RegExp#exec called on incompatible receiver");return Sa.call(e,t)};Fa("match",1,(function(e,t,n){return[function(t){var n=g(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=A(e),a=String(this);if(!i.global)return za(i,a);var o=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=za(i,a));){var l=String(s[0]);c[u]=l,""===l&&(i.lastIndex=Ba(a,he(i.lastIndex),o)),u++}return 0===u?null:c}]}));var Ha=Math.max,ja=Math.min,Va=Math.floor,Ua=/\$([$&'`]|\d\d?|<[^>]*>)/g,qa=/\$([$&'`]|\d\d?)/g;Fa("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,a=r.REPLACE_KEEPS_$0,o=i?"$":"$0";return[function(n,r){var i=g(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&a||"string"==typeof r&&-1===r.indexOf(o)){var c=n(t,e,this,r);if(c.done)return c.value}var u=A(e),l=String(this),h="function"==typeof r;h||(r=String(r));var f=u.global;if(f){var d=u.unicode;u.lastIndex=0}for(var p=[];;){var g=za(u,l);if(null===g)break;if(p.push(g),!f)break;""===String(g[0])&&(u.lastIndex=Ba(l,he(u.lastIndex),d))}for(var v,m="",y=0,b=0;b<p.length;b++){g=p[b];for(var w=String(g[0]),x=Ha(ja(ue(g.index),l.length),0),k=[],_=1;_<g.length;_++)k.push(void 0===(v=g[_])?v:String(v));var S=g.groups;if(h){var C=[w].concat(k,x,l);void 0!==S&&C.push(S);var E=String(r.apply(void 0,C))}else E=s(w,l,x,k,S,r);x>=y&&(m+=l.slice(y,x)+E,y=x+w.length)}return m+l.slice(y)}];function s(e,n,r,i,a,o){var s=r+e.length,c=i.length,u=qa;return void 0!==a&&(a=Ne(a),u=Ua),t.call(o,u,(function(t,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>c){var h=Va(l/10);return 0===h?t:h<=c?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}u=i[l-1]}return void 0===u?"":u}))}}));var Wa=Ve("species"),Ga=function(e,t){var n,r=A(e).constructor;return void 0===r||null==(n=A(r)[Wa])?t:Gt(n)},$a=[].push,Za=Math.min,Ya=4294967295,Xa=!i((function(){return!RegExp(Ya,"y")}));function Ka(e){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(e)}function Qa(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ja(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Qa(a,r,i,o,s,"next",e)}function s(e){Qa(a,r,i,o,s,"throw",e)}o(void 0)}))}}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t,n){return t&&to(e.prototype,t),n&&to(e,n),e}function ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},io(e)}function ao(e,t){return ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ao(e,t)}function oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?oo(e):t}function co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=io(e);if(t){var i=io(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return so(this,n)}}function uo(e,t,n){return uo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=io(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},uo(e,t,n||e)}function lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||fo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||fo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){if(e){if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=fo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}
/*!
	 * jQuery JavaScript Library v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2018-01-20T17:24Z
	 */Fa("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(g(this)),i=void 0===n?Ya:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!yr(e))return t.call(r,e,i);for(var a,o,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,h=new RegExp(e.source,u+"g");(a=Sa.call(h,r))&&!((o=h.lastIndex)>l&&(c.push(r.slice(l,a.index)),a.length>1&&a.index<r.length&&$a.apply(c,a.slice(1)),s=a[0].length,l=o,c.length>=i));)h.lastIndex===a.index&&h.lastIndex++;return l===r.length?!s&&h.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=g(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var o=A(e),s=String(this),c=Ga(o,RegExp),u=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Xa?"y":"g"),h=new c(Xa?o:"^(?:"+o.source+")",l),f=void 0===i?Ya:i>>>0;if(0===f)return[];if(0===s.length)return null===za(h,s)?[s]:[];for(var d=0,p=0,g=[];p<s.length;){h.lastIndex=Xa?p:0;var v,m=za(h,Xa?s:s.slice(p));if(null===m||(v=Za(he(h.lastIndex+(Xa?0:p)),s.length))===d)p=Ba(s,p,u);else{if(g.push(s.slice(d,p)),g.length===f)return g;for(var y=1;y<=m.length-1;y++)if(g.push(m[y]),g.length===f)return g;p=d=v}}return g.push(s.slice(d)),g}]}),!Xa);var vo=[],mo=window.document,yo=Object.getPrototypeOf,bo=vo.slice,wo=vo.concat,xo=vo.push,ko=vo.indexOf,_o={},So=_o.toString,Co=_o.hasOwnProperty,Eo=Co.toString,Ao=Eo.call(Object),Ro={},To=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Lo=function(e){return null!=e&&e===e.window},Mo={type:!0,src:!0,noModule:!0};function Io(e,t,n){var r,i=(t=t||mo).createElement("script");if(i.text=e,n)for(r in Mo)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function Oo(e){return null==e?e+"":"object"===Ka(e)||"function"==typeof e?_o[So.call(e)]||"object":Ka(e)}var Po="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",No=function e(t,n){return new e.fn.init(t,n)},Fo=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Do(e){var t=!!e&&"length"in e&&e.length,n=Oo(e);return!To(e)&&!Lo(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}No.fn=No.prototype={jquery:Po,constructor:No,length:0,toArray:function(){return bo.call(this)},get:function(e){return null==e?bo.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=No.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return No.each(this,e)},map:function(e){return this.pushStack(No.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(bo.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:xo,sort:vo.sort,splice:vo.splice},No.extend=No.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"===Ka(o)||To(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(r=e[t])&&(u&&r&&(No.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,a=n&&Array.isArray(n)?n:[]):a=n&&No.isPlainObject(n)?n:{},o[t]=No.extend(u,a,r)):void 0!==r&&(o[t]=r));return o},No.extend({expando:"jQuery"+(Po+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==So.call(e))&&(!(t=yo(e))||"function"==typeof(n=Co.call(t,"constructor")&&t.constructor)&&Eo.call(n)===Ao)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){Io(e)},each:function(e,t){var n,r=0;if(Do(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Fo,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(Do(Object(e))?No.merge(n,"string"==typeof e?[e]:e):xo.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ko.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,o=[];if(Do(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&o.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&o.push(i);return wo.apply([],o)},guid:1,support:Ro}),"function"==typeof Symbol&&(No.fn[Symbol.iterator]=vo[Symbol.iterator]),No.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){_o["[object "+t+"]"]=t.toLowerCase()}));var Bo=
/*!
	* Sizzle CSS Selector Engine v2.3.3
	* https://sizzlejs.com/
	*
	* Copyright jQuery Foundation and other contributors
	* Released under the MIT license
	* http://jquery.org/license
	*
	* Date: 2016-08-08
	*/
function(e){var t,n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w="sizzle"+1*new Date,x=e.document,k=0,_=0,S=oe(),C=oe(),E=oe(),A=function(e,t){return e===t&&(h=!0),0},R={}.hasOwnProperty,T=[],L=T.pop,M=T.push,I=T.push,O=T.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",D="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\[[\\x20\\t\\r\\n\\f]*("+D+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+F+"*\\]",z=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),j=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),q=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),W=new RegExp(z),G=new RegExp("^"+D+"$"),$={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},ie=me((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{I.apply(T=O.call(x.childNodes),x.childNodes),T[x.childNodes.length].nodeType}catch(e){I={apply:T.length?function(e,t){M.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var a,s,u,l,h,p,m,y=t&&t.ownerDocument,k=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return r;if(!i&&((t?t.ownerDocument||t:x)!==d&&f(t),t=t||d,g)){if(11!==k&&(h=K.exec(e)))if(a=h[1]){if(9===k){if(!(u=t.getElementById(a)))return r;if(u.id===a)return r.push(u),r}else if(y&&(u=y.getElementById(a))&&b(t,u)&&u.id===a)return r.push(u),r}else{if(h[2])return I.apply(r,t.getElementsByTagName(e)),r;if((a=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&!E[e+" "]&&(!v||!v.test(e))){if(1!==k)y=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(te,ne):t.setAttribute("id",l=w),s=(p=o(e)).length;s--;)p[s]="#"+l+" "+ve(p[s]);m=p.join(","),y=Q.test(e)&&pe(t.parentNode)||t}if(m)try{return I.apply(r,y.querySelectorAll(m)),r}catch(e){}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(j,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[w]=!0,e}function ce(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se((function(t){return t=+t,se((function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))}))}))}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:x;return o!==d&&9===o.nodeType&&o.documentElement?(p=(d=o).documentElement,g=!a(d),x!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(d.getElementsByClassName),n.getById=ce((function(e){return p.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=X.test(d.querySelectorAll))&&(ce((function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+N+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=X.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",z)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=X.test(p.compareDocumentPosition),b=t||X.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===x&&b(x,e)?-1:t===d||t.ownerDocument===x&&b(x,t)?1:l?P(l,e)-P(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e===d?-1:t===d?1:i?-1:a?1:l?P(l,e)-P(l,t):0;if(i===a)return ue(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?ue(o[r],s[r]):o[r]===x?-1:s[r]===x?1:0},d):d},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&f(e),t=t.replace(q,"='$1']"),n.matchesSelector&&g&&!E[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ae(t,d,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==d&&f(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==d&&f(e);var i=r.attrHandle[t.toLowerCase()],a=i&&R.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==a?a:n.attributes||!g?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,ne)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,a=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(A),h){for(;t=e[a++];)t===e[a]&&(i=r.push(a));for(;i--;)e.splice(r[i],1)}return l=null,e},i=ae.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=ae.selectors={cacheLength:50,createPseudo:se,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var u,l,h,f,d,p,g=a!==o?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(v){if(a){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&y){for(b=(d=(u=(l=(h=(f=v)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===k&&u[1])&&u[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[k,d,b];break}}else if(y&&(b=d=(u=(l=(h=(f=t)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===k&&u[1]),!1===b)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&((l=(h=f[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[k,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,a=i(e,t),o=a.length;o--;)e[r=P(e,a[o])]=!(n[r]=a[o])})):function(e){return i(e,0,n)}):i}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace(j,"$1"));return r[w]?se((function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return ae(e,t).length>0}})),contains:se((function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:se((function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ge(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,a=i||r,o=n&&"parentNode"===a,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,c){var u,l,h,f=[k,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(l=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[a])&&u[0]===k&&u[1]===s)return f[2]=u[2];if(l[a]=f,f[2]=e(t,n,c))return!0}return!1}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var a,o=[],s=0,c=e.length,u=null!=t;s<c;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),u&&t.push(s)));return o}function we(e,t,n,r,i,a){return r&&!r[w]&&(r=we(r)),i&&!i[w]&&(i=we(i,a)),se((function(a,o,s,c){var u,l,h,f=[],d=[],p=o.length,g=a||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!a&&t?g:be(g,f,e,s,c),m=n?i||(a?e:p||r)?[]:o:v;if(n&&n(v,m,s,c),r)for(u=be(m,d),r(u,[],s,c),l=u.length;l--;)(h=u[l])&&(m[d[l]]=!(v[d[l]]=h));if(a){if(i||e){if(i){for(u=[],l=m.length;l--;)(h=m[l])&&u.push(v[l]=h);i(null,m=[],u,c)}for(l=m.length;l--;)(h=m[l])&&(u=i?P(a,h):f[l])>-1&&(a[u]=!(o[u]=h))}}else m=be(m===o?m.splice(p,m.length):m),i?i(null,o,m,c):I.apply(o,m)}))}function xe(e){for(var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],c=o?1:0,l=me((function(e){return e===t}),s,!0),h=me((function(e){return P(t,e)>-1}),s,!0),f=[function(e,n,r){var i=!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):h(e,n,r));return t=null,i}];c<a;c++)if(n=r.relative[e[c].type])f=[me(ye(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(i=++c;i<a&&!r.relative[e[i].type];i++);return we(c>1&&ye(f),c>1&&ve(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(j,"$1"),n,c<i&&xe(e.slice(c,i)),i<a&&xe(e=e.slice(i)),i<a&&ve(e))}f.push(n)}return ye(f)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,o=ae.tokenize=function(e,t){var n,i,a,o,s,c,u,l=C[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=r.preFilter;s;){for(o in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(a=[])),n=!1,(i=U.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(j," ")}),s=s.slice(n.length)),r.filter)!(i=$[o].exec(s))||u[o]&&!(i=u[o](i))||(n=i.shift(),a.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):C(e,c).slice(0)},s=ae.compile=function(e,t){var n,i=[],a=[],s=E[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=xe(t[n]))[w]?i.push(s):a.push(s);s=E(e,function(e,t){var n=t.length>0,i=e.length>0,a=function(a,o,s,c,l){var h,p,v,m=0,y="0",b=a&&[],w=[],x=u,_=a||i&&r.find.TAG("*",l),S=k+=null==x?1:Math.random()||.1,C=_.length;for(l&&(u=o===d||o||l);y!==C&&null!=(h=_[y]);y++){if(i&&h){for(p=0,o||h.ownerDocument===d||(f(h),s=!g);v=e[p++];)if(v(h,o||d,s)){c.push(h);break}l&&(k=S)}n&&((h=!v&&h)&&m--,a&&b.push(h))}if(m+=y,n&&y!==m){for(p=0;v=t[p++];)v(b,w,o,s);if(a){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=L.call(c));w=be(w)}I.apply(c,w),l&&!a&&w.length>0&&m+t.length>1&&ae.uniqueSort(c)}return l&&(k=S,u=x),b};return n?se(a):a}(a,i)),s.selector=e}return s},c=ae.select=function(e,t,n,i){var a,c,u,l,h,f="function"==typeof e&&e,d=!i&&o(e=f.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&g&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(J,ee),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(a=$.needsContext.test(e)?0:c.length;a--&&(u=c[a],!r.relative[l=u.type]);)if((h=r.find[l])&&(i=h(u.matches[0].replace(J,ee),Q.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(a,1),!(e=i.length&&ve(c)))return I.apply(n,i),n;break}}return(f||s(e,d))(i,t,!g,n,!t||Q.test(e)&&pe(t.parentNode)||t),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!h,f(),ae}(window);No.find=Bo,(No.expr=Bo.selectors)[":"]=No.expr.pseudos,No.uniqueSort=No.unique=Bo.uniqueSort,No.text=Bo.getText,No.isXMLDoc=Bo.isXML,No.contains=Bo.contains,No.escapeSelector=Bo.escape;var zo=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&No(e).is(n))break;r.push(e)}return r},Ho=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},jo=No.expr.match.needsContext;function Vo(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Uo=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function qo(e,t,n){return To(t)?No.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?No.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?No.grep(e,(function(e){return ko.call(t,e)>-1!==n})):No.filter(t,e,n)}No.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?No.find.matchesSelector(r,e)?[r]:[]:No.find.matches(e,No.grep(t,(function(e){return 1===e.nodeType})))},No.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(No(e).filter((function(){for(t=0;t<r;t++)if(No.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)No.find(e,i[t],n);return r>1?No.uniqueSort(n):n},filter:function(e){return this.pushStack(qo(this,e||[],!1))},not:function(e){return this.pushStack(qo(this,e||[],!0))},is:function(e){return!!qo(this,"string"==typeof e&&jo.test(e)?No(e):e||[],!1).length}});var Wo,Go=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,$o=No.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Wo,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Go.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof No?t[0]:t,No.merge(this,No.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:mo,!0)),Uo.test(r[1])&&No.isPlainObject(t))for(r in t)To(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=mo.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):To(e)?void 0!==n.ready?n.ready(e):e(No):No.makeArray(e,this)};$o.prototype=No.fn,Wo=No(mo);var Zo=/^(?:parents|prev(?:Until|All))/,Yo={children:!0,contents:!0,next:!0,prev:!0};function Xo(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}No.fn.extend({has:function(e){var t=No(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(No.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,a=[],o="string"!=typeof e&&No(e);if(!jo.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&No.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?No.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?ko.call(No(e),this[0]):ko.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(No.uniqueSort(No.merge(this.get(),No(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),No.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return zo(e,"parentNode")},parentsUntil:function(e,t,n){return zo(e,"parentNode",n)},next:function(e){return Xo(e,"nextSibling")},prev:function(e){return Xo(e,"previousSibling")},nextAll:function(e){return zo(e,"nextSibling")},prevAll:function(e){return zo(e,"previousSibling")},nextUntil:function(e,t,n){return zo(e,"nextSibling",n)},prevUntil:function(e,t,n){return zo(e,"previousSibling",n)},siblings:function(e){return Ho((e.parentNode||{}).firstChild,e)},children:function(e){return Ho(e.firstChild)},contents:function(e){return Vo(e,"iframe")?e.contentDocument:(Vo(e,"template")&&(e=e.content||e),No.merge([],e.childNodes))}},(function(e,t){No.fn[e]=function(n,r){var i=No.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=No.filter(r,i)),this.length>1&&(Yo[e]||No.uniqueSort(i),Zo.test(e)&&i.reverse()),this.pushStack(i)}}));var Ko=/[^\x20\t\r\n\f]+/g;function Qo(e){return e}function Jo(e){throw e}function es(e,t,n,r){var i;try{e&&To(i=e.promise)?i.call(e).done(t).fail(n):e&&To(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}No.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return No.each(e.match(Ko)||[],(function(e,n){t[n]=!0})),t}(e):No.extend({},e);var t,n,r,i,a=[],o=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){No.each(n,(function(n,r){To(r)?e.unique&&u.has(r)||a.push(r):r&&r.length&&"string"!==Oo(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return No.each(arguments,(function(e,t){for(var n;(n=No.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(e){return e?No.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=o=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},No.extend({Deferred:function(e){var t=[["notify","progress",No.Callbacks("memory"),No.Callbacks("memory"),2],["resolve","done",No.Callbacks("once memory"),No.Callbacks("once memory"),0,"resolved"],["reject","fail",No.Callbacks("once memory"),No.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return No.Deferred((function(n){No.each(t,(function(t,r){var a=To(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=a&&a.apply(this,arguments);e&&To(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,a?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function a(e,t,n,r){return function(){var o=this,s=arguments,c=function(){var c,u;if(!(e<i)){if((c=n.apply(o,s))===t.promise())throw new TypeError("Thenable self-resolution");u=c&&("object"===Ka(c)||"function"==typeof c)&&c.then,To(u)?r?u.call(c,a(i,t,Qo,r),a(i,t,Jo,r)):(i++,u.call(c,a(i,t,Qo,r),a(i,t,Jo,r),a(i,t,Qo,t.notifyWith))):(n!==Qo&&(o=void 0,s=[c]),(r||t.resolveWith)(o,s))}},u=r?c:function(){try{c()}catch(r){No.Deferred.exceptionHook&&No.Deferred.exceptionHook(r,u.stackTrace),e+1>=i&&(n!==Jo&&(o=void 0,s=[r]),t.rejectWith(o,s))}};e?u():(No.Deferred.getStackHook&&(u.stackTrace=No.Deferred.getStackHook()),window.setTimeout(u))}}return No.Deferred((function(i){t[0][3].add(a(0,i,To(r)?r:Qo,i.notifyWith)),t[1][3].add(a(0,i,To(e)?e:Qo)),t[2][3].add(a(0,i,To(n)?n:Jo))})).promise()},promise:function(e){return null!=e?No.extend(e,r):r}},i={};return No.each(t,(function(e,a){var o=a[2],s=a[5];r[a[1]]=o.add,s&&o.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(a[3].fire),i[a[0]]=function(){return i[a[0]+"With"](this===i?void 0:this,arguments),this},i[a[0]+"With"]=o.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=bo.call(arguments),a=No.Deferred(),o=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?bo.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(es(e,a.done(o(n)).resolve,a.reject,!t),"pending"===a.state()||To(i[n]&&i[n].then)))return a.then();for(;n--;)es(i[n],o(n),a.reject);return a.promise()}});var ts=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;No.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&ts.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},No.readyException=function(e){window.setTimeout((function(){throw e}))};var ns=No.Deferred();function rs(){mo.removeEventListener("DOMContentLoaded",rs),window.removeEventListener("load",rs),No.ready()}No.fn.ready=function(e){return ns.then(e).catch((function(e){No.readyException(e)})),this},No.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--No.readyWait:No.isReady)||(No.isReady=!0,!0!==e&&--No.readyWait>0||ns.resolveWith(mo,[No]))}}),No.ready.then=ns.then,"complete"===mo.readyState||"loading"!==mo.readyState&&!mo.documentElement.doScroll?window.setTimeout(No.ready):(mo.addEventListener("DOMContentLoaded",rs),window.addEventListener("load",rs));var is=function e(t,n,r,i,a,o,s){var c=0,u=t.length,l=null==r;if("object"===Oo(r))for(c in a=!0,r)e(t,n,c,r[c],!0,o,s);else if(void 0!==i&&(a=!0,To(i)||(s=!0),l&&(s?(n.call(t,i),n=null):(l=n,n=function(e,t,n){return l.call(No(e),n)})),n))for(;c<u;c++)n(t[c],r,s?i:i.call(t[c],c,n(t[c],r)));return a?t:l?n.call(t):u?n(t[0],r):o},as=/^-ms-/,os=/-([a-z])/g;function ss(e,t){return t.toUpperCase()}function cs(e){return e.replace(as,"ms-").replace(os,ss)}var us=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ls(){this.expando=No.expando+ls.uid++}ls.uid=1,ls.prototype={cache:function(e){var t=e[this.expando];return t||(t={},us(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[cs(t)]=n;else for(r in t)i[cs(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][cs(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(cs):(t=cs(t))in r?[t]:t.match(Ko)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||No.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!No.isEmptyObject(t)}};var hs=new ls,fs=new ls,ds=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ps=/[A-Z]/g;function gs(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ps,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ds.test(e)?JSON.parse(e):e)}(n)}catch(e){}fs.set(e,t,n)}else n=void 0;return n}No.extend({hasData:function(e){return fs.hasData(e)||hs.hasData(e)},data:function(e,t,n){return fs.access(e,t,n)},removeData:function(e,t){fs.remove(e,t)},_data:function(e,t,n){return hs.access(e,t,n)},_removeData:function(e,t){hs.remove(e,t)}}),No.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=fs.get(a),1===a.nodeType&&!hs.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=cs(r.slice(5)),gs(a,r,i[r]));hs.set(a,"hasDataAttrs",!0)}return i}return"object"===Ka(e)?this.each((function(){fs.set(this,e)})):is(this,(function(t){var n;if(a&&void 0===t)return void 0!==(n=fs.get(a,e))||void 0!==(n=gs(a,e))?n:void 0;this.each((function(){fs.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){fs.remove(this,e)}))}}),No.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=hs.get(e,t),n&&(!r||Array.isArray(n)?r=hs.access(e,t,No.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=No.queue(e,t=t||"fx"),r=n.length,i=n.shift(),a=No._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,(function(){No.dequeue(e,t)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return hs.get(e,n)||hs.access(e,n,{empty:No.Callbacks("once memory").add((function(){hs.remove(e,[t+"queue",n])}))})}}),No.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?No.queue(this[0],e):void 0===t?this:this.each((function(){var n=No.queue(this,e,t);No._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&No.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){No.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=No.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=hs.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var vs=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ms=new RegExp("^(?:([+-])=|)("+vs+")([a-z%]*)$","i"),ys=["Top","Right","Bottom","Left"],bs=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&No.contains(e.ownerDocument,e)&&"none"===No.css(e,"display")},ws=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,r||[]),t)e.style[a]=o[a];return i};var xs={};function ks(e){var t,n=e.ownerDocument,r=e.nodeName,i=xs[r];return i||(t=n.body.appendChild(n.createElement(r)),i=No.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),xs[r]=i,i)}function _s(e,t){for(var n,r,i=[],a=0,o=e.length;a<o;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(i[a]=hs.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&bs(r)&&(i[a]=ks(r))):"none"!==n&&(i[a]="none",hs.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}No.fn.extend({show:function(){return _s(this,!0)},hide:function(){return _s(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){bs(this)?No(this).show():No(this).hide()}))}});var Ss=/^(?:checkbox|radio)$/i,Cs=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Es=/^$|^module$|\/(?:java|ecma)script/i,As={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Rs(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&Vo(e,t)?No.merge([e],n):n}function Ts(e,t){for(var n=0,r=e.length;n<r;n++)hs.set(e[n],"globalEval",!t||hs.get(t[n],"globalEval"))}As.optgroup=As.option,As.tbody=As.tfoot=As.colgroup=As.caption=As.thead,As.th=As.td;var Ls=/<|&#?\w+;/;function Ms(e,t,n,r,i){for(var a,o,s,c,u,l,h=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((a=e[d])||0===a)if("object"===Oo(a))No.merge(f,a.nodeType?[a]:a);else if(Ls.test(a)){for(o=o||h.appendChild(t.createElement("div")),s=(Cs.exec(a)||["",""])[1].toLowerCase(),c=As[s]||As._default,o.innerHTML=c[1]+No.htmlPrefilter(a)+c[2],l=c[0];l--;)o=o.lastChild;No.merge(f,o.childNodes),(o=h.firstChild).textContent=""}else f.push(t.createTextNode(a));for(h.textContent="",d=0;a=f[d++];)if(r&&No.inArray(a,r)>-1)i&&i.push(a);else if(u=No.contains(a.ownerDocument,a),o=Rs(h.appendChild(a),"script"),u&&Ts(o),n)for(l=0;a=o[l++];)Es.test(a.type||"")&&n.push(a);return h}!function(){var e=mo.createDocumentFragment().appendChild(mo.createElement("div")),t=mo.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),Ro.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Ro.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Is=mo.documentElement,Os=/^key/,Ps=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ns=/^([^.]*)(?:\.(.+)|)/;function Fs(){return!0}function Ds(){return!1}function Bs(){try{return mo.activeElement}catch(e){}}function zs(e,t,n,r,i,a){var o,s;if("object"===Ka(t)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)zs(e,s,n,r,t[s],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ds;else if(!i)return e;return 1===a&&(o=i,i=function(e){return No().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=No.guid++)),e.each((function(){No.event.add(this,t,i,r,n)}))}No.event={global:{},add:function(e,t,n,r,i){var a,o,s,c,u,l,h,f,d,p,g,v=hs.get(e);if(v)for(n.handler&&(n=(a=n).handler,i=a.selector),i&&No.find.matchesSelector(Is,i),n.guid||(n.guid=No.guid++),(c=v.events)||(c=v.events={}),(o=v.handle)||(o=v.handle=function(t){return No.event.triggered!==t.type?No.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Ko)||[""]).length;u--;)d=g=(s=Ns.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=No.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=No.event.special[d]||{},l=No.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&No.expr.match.needsContext.test(i),namespace:p.join(".")},a),(f=c[d])||((f=c[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,o)||e.addEventListener&&e.addEventListener(d,o)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),No.event.global[d]=!0)},remove:function(e,t,n,r,i){var a,o,s,c,u,l,h,f,d,p,g,v=hs.hasData(e)&&hs.get(e);if(v&&(c=v.events)){for(u=(t=(t||"").match(Ko)||[""]).length;u--;)if(d=g=(s=Ns.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=No.event.special[d]||{},f=c[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)l=f[a],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(a,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(e,l));o&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,p,v.handle)||No.removeEvent(e,d,v.handle),delete c[d])}else for(d in c)No.event.remove(e,d+t[u],n,r,!0);No.isEmptyObject(c)&&hs.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,o,s=No.event.fix(e),c=new Array(arguments.length),u=(hs.get(this,"events")||{})[s.type]||[],l=No.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(o=No.event.handlers.call(this,s,u),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(r=((No.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,c))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,a,o,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},n=0;n<c;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?No(i,this).index(u)>-1:No.find(i,this,null,[u]).length),o[i]&&a.push(r);a.length&&s.push({elem:u,handlers:a})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(No.Event.prototype,e,{enumerable:!0,configurable:!0,get:To(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[No.expando]?e:new No.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Bs()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Bs()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Vo(this,"input"))return this.click(),!1},_default:function(e){return Vo(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},No.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(No.Event=function(e,t){if(!(this instanceof No.Event))return new No.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fs:Ds,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&No.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[No.expando]=!0}).prototype={constructor:No.Event,isDefaultPrevented:Ds,isPropagationStopped:Ds,isImmediatePropagationStopped:Ds,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fs,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fs,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fs,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},No.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Os.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ps.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},No.event.addProp),No.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){No.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===r||No.contains(r,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),No.fn.extend({on:function(e,t,n,r){return zs(this,e,t,n,r)},one:function(e,t,n,r){return zs(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,No(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===Ka(e)){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ds),this.each((function(){No.event.remove(this,e,n,t)}))}});var Hs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,js=/<script|<style|<link/i,Vs=/checked\s*(?:[^=]|=\s*.checked.)/i,Us=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qs(e,t){return Vo(e,"table")&&Vo(11!==t.nodeType?t:t.firstChild,"tr")&&No(e).children("tbody")[0]||e}function Ws(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Gs(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function $s(e,t){var n,r,i,a,o,s,c,u;if(1===t.nodeType){if(hs.hasData(e)&&(a=hs.access(e),o=hs.set(t,a),u=a.events))for(i in delete o.handle,o.events={},u)for(n=0,r=u[i].length;n<r;n++)No.event.add(t,i,u[i][n]);fs.hasData(e)&&(s=fs.access(e),c=No.extend({},s),fs.set(t,c))}}function Zs(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ss.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ys(e,t,n,r){t=wo.apply([],t);var i,a,o,s,c,u,l=0,h=e.length,f=h-1,d=t[0],p=To(d);if(p||h>1&&"string"==typeof d&&!Ro.checkClone&&Vs.test(d))return e.each((function(i){var a=e.eq(i);p&&(t[0]=d.call(this,i,a.html())),Ys(a,t,n,r)}));if(h&&(a=(i=Ms(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(s=(o=No.map(Rs(i,"script"),Ws)).length;l<h;l++)c=i,l!==f&&(c=No.clone(c,!0,!0),s&&No.merge(o,Rs(c,"script"))),n.call(e[l],c,l);if(s)for(u=o[o.length-1].ownerDocument,No.map(o,Gs),l=0;l<s;l++)c=o[l],Es.test(c.type||"")&&!hs.access(c,"globalEval")&&No.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?No._evalUrl&&No._evalUrl(c.src):Io(c.textContent.replace(Us,""),u,c))}return e}function Xs(e,t,n){for(var r,i=t?No.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||No.cleanData(Rs(r)),r.parentNode&&(n&&No.contains(r.ownerDocument,r)&&Ts(Rs(r,"script")),r.parentNode.removeChild(r));return e}No.extend({htmlPrefilter:function(e){return e.replace(Hs,"<$1></$2>")},clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(!0),c=No.contains(e.ownerDocument,e);if(!(Ro.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||No.isXMLDoc(e)))for(o=Rs(s),r=0,i=(a=Rs(e)).length;r<i;r++)Zs(a[r],o[r]);if(t)if(n)for(a=a||Rs(e),o=o||Rs(s),r=0,i=a.length;r<i;r++)$s(a[r],o[r]);else $s(e,s);return(o=Rs(s,"script")).length>0&&Ts(o,!c&&Rs(e,"script")),s},cleanData:function(e){for(var t,n,r,i=No.event.special,a=0;void 0!==(n=e[a]);a++)if(us(n)){if(t=n[hs.expando]){if(t.events)for(r in t.events)i[r]?No.event.remove(n,r):No.removeEvent(n,r,t.handle);n[hs.expando]=void 0}n[fs.expando]&&(n[fs.expando]=void 0)}}}),No.fn.extend({detach:function(e){return Xs(this,e,!0)},remove:function(e){return Xs(this,e)},text:function(e){return is(this,(function(e){return void 0===e?No.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ys(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qs(this,e).appendChild(e)}))},prepend:function(){return Ys(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qs(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ys(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ys(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(No.cleanData(Rs(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return No.clone(this,e,t)}))},html:function(e){return is(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!js.test(e)&&!As[(Cs.exec(e)||["",""])[1].toLowerCase()]){e=No.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(No.cleanData(Rs(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ys(this,arguments,(function(t){var n=this.parentNode;No.inArray(this,e)<0&&(No.cleanData(Rs(this)),n&&n.replaceChild(t,this))}),e)}}),No.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){No.fn[e]=function(e){for(var n,r=[],i=No(e),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),No(i[o])[t](n),xo.apply(r,n.get());return this.pushStack(r)}}));var Ks=new RegExp("^("+vs+")(?!px)[a-z%]+$","i"),Qs=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},Js=new RegExp(ys.join("|"),"i");function ec(e,t,n){var r,i,a,o,s=e.style;return(n=n||Qs(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||No.contains(e.ownerDocument,e)||(o=No.style(e,t)),!Ro.pixelBoxStyles()&&Ks.test(o)&&Js.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function tc(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Is.appendChild(s).appendChild(c);var e=window.getComputedStyle(c);n="1%"!==e.top,o=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),r=36===t(e.width),c.style.position="absolute",i=36===c.offsetWidth||"absolute",Is.removeChild(s),c=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,a,o,s=mo.createElement("div"),c=mo.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",Ro.clearCloneStyle="content-box"===c.style.backgroundClip,No.extend(Ro,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),i}}))}();var nc,rc,ic=/^(none|table(?!-c[ea]).+)/,ac=/^--/,oc={position:"absolute",visibility:"hidden",display:"block"},sc={letterSpacing:"0",fontWeight:"400"},cc=["Webkit","Moz","ms"],uc=mo.createElement("div").style;function lc(e){var t=No.cssProps[e];return t||(t=No.cssProps[e]=function(e){if(e in uc)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=cc.length;n--;)if((e=cc[n]+t)in uc)return e}(e)||e),t}function hc(e,t,n){var r=ms.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function fc(e,t,n,r,i,a){var o="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=No.css(e,n+ys[o],!0,i)),r?("content"===n&&(c-=No.css(e,"padding"+ys[o],!0,i)),"margin"!==n&&(c-=No.css(e,"border"+ys[o]+"Width",!0,i))):(c+=No.css(e,"padding"+ys[o],!0,i),"padding"!==n?c+=No.css(e,"border"+ys[o]+"Width",!0,i):s+=No.css(e,"border"+ys[o]+"Width",!0,i));return!r&&a>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-c-s-.5))),c}function dc(e,t,n){var r=Qs(e),i=ec(e,t,r),a="border-box"===No.css(e,"boxSizing",!1,r),o=a;if(Ks.test(i)){if(!n)return i;i="auto"}return o=o&&(Ro.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===No.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(i=parseFloat(i)||0)+fc(e,t,n||(a?"border":"content"),o,r,i)+"px"}No.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ec(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=cs(t),c=ac.test(t),u=e.style;if(c||(t=lc(s)),o=No.cssHooks[t]||No.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:u[t];"string"===(a=Ka(n))&&(i=ms.exec(n))&&i[1]&&(n=function(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return No.css(e,t,"")},c=s(),u=n&&n[3]||(No.cssNumber[t]?"":"px"),l=(No.cssNumber[t]||"px"!==u&&+c)&&ms.exec(No.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;o--;)No.style(e,t,l+u),(1-a)*(1-(a=s()/c||.5))<=0&&(o=0),l/=a;No.style(e,t,(l*=2)+u),n=n||[]}return n&&(l=+l||+c||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=i)),i}(e,t,i),a="number"),null!=n&&n==n&&("number"===a&&(n+=i&&i[3]||(No.cssNumber[s]?"":"px")),Ro.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,a,o,s=cs(t);return ac.test(t)||(t=lc(s)),(o=No.cssHooks[t]||No.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=ec(e,t,r)),"normal"===i&&t in sc&&(i=sc[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),No.each(["height","width"],(function(e,t){No.cssHooks[t]={get:function(e,n,r){if(n)return!ic.test(No.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?dc(e,t,r):ws(e,oc,(function(){return dc(e,t,r)}))},set:function(e,n,r){var i,a=Qs(e),o="border-box"===No.css(e,"boxSizing",!1,a),s=r&&fc(e,t,r,o,a);return o&&Ro.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-fc(e,t,"border",!1,a)-.5)),s&&(i=ms.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=No.css(e,t)),hc(0,n,s)}}})),No.cssHooks.marginLeft=tc(Ro.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ec(e,"marginLeft"))||e.getBoundingClientRect().left-ws(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),No.each({margin:"",padding:"",border:"Width"},(function(e,t){No.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ys[r]+t]=a[r]||a[r-2]||a[0];return i}},"margin"!==e&&(No.cssHooks[e+t].set=hc)})),No.fn.extend({css:function(e,t){return is(this,(function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){for(r=Qs(e),i=t.length;o<i;o++)a[t[o]]=No.css(e,t[o],!1,r);return a}return void 0!==n?No.style(e,t,n):No.css(e,t)}),e,t,arguments.length>1)}}),No.fn.delay=function(e,t){return e=No.fx&&No.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}}))},nc=mo.createElement("input"),rc=mo.createElement("select").appendChild(mo.createElement("option")),nc.type="checkbox",Ro.checkOn=""!==nc.value,Ro.optSelected=rc.selected,(nc=mo.createElement("input")).value="t",nc.type="radio",Ro.radioValue="t"===nc.value;var pc,gc=No.expr.attrHandle;No.fn.extend({attr:function(e,t){return is(this,No.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){No.removeAttr(this,e)}))}}),No.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?No.prop(e,t,n):(1===a&&No.isXMLDoc(e)||(i=No.attrHooks[t.toLowerCase()]||(No.expr.match.bool.test(t)?pc:void 0)),void 0!==n?null===n?void No.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=No.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!Ro.radioValue&&"radio"===t&&Vo(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Ko);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),pc={set:function(e,t,n){return!1===t?No.removeAttr(e,n):e.setAttribute(n,n),n}},No.each(No.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=gc[t]||No.find.attr;gc[t]=function(e,t,r){var i,a,o=t.toLowerCase();return r||(a=gc[o],gc[o]=i,i=null!=n(e,t,r)?o:null,gc[o]=a),i}}));var vc=/^(?:input|select|textarea|button)$/i,mc=/^(?:a|area)$/i;function yc(e){return(e.match(Ko)||[]).join(" ")}function bc(e){return e.getAttribute&&e.getAttribute("class")||""}function wc(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Ko)||[]}No.fn.extend({prop:function(e,t){return is(this,No.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[No.propFix[e]||e]}))}}),No.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&No.isXMLDoc(e)||(t=No.propFix[t]||t,i=No.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=No.find.attr(e,"tabindex");return t?parseInt(t,10):vc.test(e.nodeName)||mc.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ro.optSelected||(No.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),No.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){No.propFix[this.toLowerCase()]=this})),No.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,c=0;if(To(e))return this.each((function(t){No(this).addClass(e.call(this,t,bc(this)))}));if((t=wc(e)).length)for(;n=this[c++];)if(i=bc(n),r=1===n.nodeType&&" "+yc(i)+" "){for(o=0;a=t[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i!==(s=yc(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,a,o,s,c=0;if(To(e))return this.each((function(t){No(this).removeClass(e.call(this,t,bc(this)))}));if(!arguments.length)return this.attr("class","");if((t=wc(e)).length)for(;n=this[c++];)if(i=bc(n),r=1===n.nodeType&&" "+yc(i)+" "){for(o=0;a=t[o++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");i!==(s=yc(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=Ka(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):To(e)?this.each((function(n){No(this).toggleClass(e.call(this,n,bc(this),t),t)})):this.each((function(){var t,i,a,o;if(r)for(i=0,a=No(this),o=wc(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=bc(this))&&hs.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":hs.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+yc(bc(n))+" ").indexOf(t)>-1)return!0;return!1}});var xc=/\r/g;No.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=To(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,No(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=No.map(i,(function(e){return null==e?"":e+""}))),(t=No.valHooks[this.type]||No.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=No.valHooks[i.type]||No.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(xc,""):null==n?"":n:void 0}}),No.extend({valHooks:{option:{get:function(e){var t=No.find.attr(e,"value");return null!=t?t:yc(No.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],c=o?a+1:i.length;for(r=a<0?c:o?a:0;r<c;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!Vo(n.parentNode,"optgroup"))){if(t=No(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,a=No.makeArray(t),o=i.length;o--;)((r=i[o]).selected=No.inArray(No.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),No.each(["radio","checkbox"],(function(){No.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=No.inArray(No(e).val(),t)>-1}},Ro.checkOn||(No.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),Ro.focusin="onfocusin"in window;var kc=/^(?:focusinfocus|focusoutblur)$/,_c=function(e){e.stopPropagation()};No.extend(No.event,{trigger:function(e,t,n,r){var i,a,o,s,c,u,l,h,f=[n||mo],d=Co.call(e,"type")?e.type:e,p=Co.call(e,"namespace")?e.namespace.split("."):[];if(a=h=o=n=n||mo,3!==n.nodeType&&8!==n.nodeType&&!kc.test(d+No.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,(e=e[No.expando]?e:new No.Event(d,"object"===Ka(e)&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:No.makeArray(t,[e]),l=No.event.special[d]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!Lo(n)){for(s=l.delegateType||d,kc.test(s+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(n.ownerDocument||mo)&&f.push(o.defaultView||o.parentWindow||window)}for(i=0;(a=f[i++])&&!e.isPropagationStopped();)h=a,e.type=i>1?s:l.bindType||d,(u=(hs.get(a,"events")||{})[e.type]&&hs.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&us(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!us(n)||c&&To(n[d])&&!Lo(n)&&((o=n[c])&&(n[c]=null),No.event.triggered=d,e.isPropagationStopped()&&h.addEventListener(d,_c),n[d](),e.isPropagationStopped()&&h.removeEventListener(d,_c),No.event.triggered=void 0,o&&(n[c]=o)),e.result}},simulate:function(e,t,n){var r=No.extend(new No.Event,n,{type:e,isSimulated:!0});No.event.trigger(r,null,t)}}),No.fn.extend({trigger:function(e,t){return this.each((function(){No.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return No.event.trigger(e,t,n,!0)}}),Ro.focusin||No.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){No.event.simulate(t,e.target,No.event.fix(e))};No.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=hs.access(r,t);i||r.addEventListener(e,n,!0),hs.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=hs.access(r,t)-1;i?hs.access(r,t,i):(r.removeEventListener(e,n,!0),hs.remove(r,t))}}}));var Sc,Cc=/\[\]$/,Ec=/\r?\n/g,Ac=/^(?:submit|button|image|reset|file)$/i,Rc=/^(?:input|select|textarea|keygen)/i;function Tc(e,t,n,r){var i;if(Array.isArray(t))No.each(t,(function(t,i){n||Cc.test(e)?r(e,i):Tc(e+"["+("object"===Ka(i)&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==Oo(t))r(e,t);else for(i in t)Tc(e+"["+i+"]",t[i],n,r)}No.param=function(e,t){var n,r=[],i=function(e,t){var n=To(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!No.isPlainObject(e))No.each(e,(function(){i(this.name,this.value)}));else for(n in e)Tc(n,e[n],t,i);return r.join("&")},No.fn.extend({serialize:function(){return No.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=No.prop(this,"elements");return e?No.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!No(this).is(":disabled")&&Rc.test(this.nodeName)&&!Ac.test(e)&&(this.checked||!Ss.test(e))})).map((function(e,t){var n=No(this).val();return null==n?null:Array.isArray(n)?No.map(n,(function(e){return{name:t.name,value:e.replace(Ec,"\r\n")}})):{name:t.name,value:n.replace(Ec,"\r\n")}})).get()}}),No.fn.extend({wrapAll:function(e){var t;return this[0]&&(To(e)&&(e=e.call(this[0])),t=No(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return To(e)?this.each((function(t){No(this).wrapInner(e.call(this,t))})):this.each((function(){var t=No(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=To(e);return this.each((function(n){No(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){No(this).replaceWith(this.childNodes)})),this}}),No.expr.pseudos.hidden=function(e){return!No.expr.pseudos.visible(e)},No.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ro.createHTMLDocument=((Sc=mo.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Sc.childNodes.length),No.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(Ro.createHTMLDocument?((r=(t=mo.implementation.createHTMLDocument("")).createElement("base")).href=mo.location.href,t.head.appendChild(r)):t=mo),a=!n&&[],(i=Uo.exec(e))?[t.createElement(i[1])]:(i=Ms([e],t,a),a&&a.length&&No(a).remove(),No.merge([],i.childNodes)));var r,i,a},No.offset={setOffset:function(e,t,n){var r,i,a,o,s,c,u=No.css(e,"position"),l=No(e),h={};"static"===u&&(e.style.position="relative"),s=l.offset(),a=No.css(e,"top"),c=No.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+c).indexOf("auto")>-1?(o=(r=l.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(c)||0),To(t)&&(t=t.call(e,n,No.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):l.css(h)}},No.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){No.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===No.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===No.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=No(e).offset()).top+=No.css(e,"borderTopWidth",!0),i.left+=No.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-No.css(r,"marginTop",!0),left:t.left-i.left-No.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===No.css(e,"position");)e=e.offsetParent;return e||Is}))}}),No.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;No.fn[e]=function(r){return is(this,(function(e,r,i){var a;if(Lo(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i}),e,r,arguments.length)}})),No.each(["top","left"],(function(e,t){No.cssHooks[t]=tc(Ro.pixelPosition,(function(e,n){if(n)return n=ec(e,t),Ks.test(n)?No(e).position()[t]+"px":n}))})),No.each({Height:"height",Width:"width"},(function(e,t){No.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){No.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return is(this,(function(t,n,i){var a;return Lo(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?No.css(t,n,s):No.style(t,n,i,s)}),t,o?i:void 0,o)}}))})),No.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){No.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),No.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),No.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),No.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),To(e))return r=bo.call(arguments,2),i=function(){return e.apply(t||this,r.concat(bo.call(arguments)))},i.guid=e.guid=e.guid||No.guid++,i},No.holdReady=function(e){e?No.readyWait++:No.ready(!0)},No.isArray=Array.isArray,No.parseJSON=JSON.parse,No.nodeName=Vo,No.isFunction=To,No.isWindow=Lo,No.camelCase=cs,No.type=Oo,No.now=Date.now,No.isNumeric=function(e){var t=No.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var Lc=No;function Mc(e){return function(e,t){const n=document.createElement(e);t&&(t.class&&n.classList.add(t.class),t.id&&(n.id=t.id),t.style&&function(e,t){for(let n of Object.keys(t))e.style[n]=t[n]}(n,t.style));return n}("div",e)}function Ic(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function Oc(e){if(e.type.startsWith("touch")){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function Pc(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function Nc(e,t){const{clientX:n,clientY:r}=e;return((e,{clientX:t,clientY:n})=>{const{left:r,top:i,width:a,height:o}=e.getBoundingClientRect(),s=t-r,c=n-i;return{x:s,y:c,xNormalized:s/a,yNormalized:c/o,width:a,height:o}})(t,{clientX:n,clientY:r})}function Fc(e,t){return function(e,t){t=t||"currentColor";let n=Dc[e];n||(console.error(`No icon named: ${e}`),n=Dc.question);const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"viewBox","0 0 "+n[0]+" "+n[1]);const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"fill",t),i.setAttributeNS(null,"d",n[4]),r.appendChild(i),r}(e,t)}const Dc={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function Bc(e,t){var n=document.createElement("div");e.appendChild(n),n.appendChild(Fc("times")),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))}function zc(e){return"string"==typeof e||e instanceof String}function Hc(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce((function(e,t,n){return n%3==0?e+","+t:e+t})).split("").reverse().join("")+(t[1]?"."+t[1]:"")}const jc=function(e){return e.split(/\n|\r\n|\r/g)};function Vc(e,t){var n,r,i=[],a=e.length,o=0,s=!1;if(a>0)for(i[o]=e.charAt(0),n=1;n<a;n++)'"'===(r=e.charAt(n))?s=!s:s||r!==t?i[o]+=r:i[++o]="";return i}function Uc(e){return e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e}function qc(e){return e.includes("googleapis")&&!e.includes("urlshortener")||Wc(e)||Gc(e)}function Wc(e){return e.startsWith("gs://")||e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")}function Gc(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0}function $c(e){let{bucket:t,object:n}=function(e){let t,n;if(e.startsWith("gs://")){const r=e.indexOf("/",5);if(r>=0){t=e.substring(5,r);const i=e.indexOf("?");n=i<0?e.substring(r+1):e.substring(r+1,i)}}else if(e.startsWith("https://storage.googleapis.com")||e.startsWith("https://storage.cloud.google.com")){const r=e.indexOf("/v1/b/",8);if(r>0){const i=e.indexOf("/o/",r);if(i>0){const a=e.indexOf("?",i);t=e.substring(r+6,i),n=a>0?e.substring(i+3,a):e.substring(i+3)}}else{const r=e.indexOf("/",8),i=e.indexOf("/",r+1),a=e.indexOf("?",i);i>0&&(t=e.substring(r+1,i),n=a<0?e.substring(i+1):e.substring(i+1,a))}}else if(e.startsWith("https://www.googleapis.com/storage/v1/b")){const r=e.indexOf("/v1/b/",8),i=e.indexOf("/o/",r);if(i>0){const a=e.indexOf("?",i);t=e.substring(r+6,i),n=a>0?e.substring(i+3,a):e.substring(i+3)}}if(t&&n)return{bucket:t,object:n};throw Error(`Unrecognized Google Storage URI: ${e}`)}(e);n=function(e){let t="";return e.split("").forEach((function(e){Xc.has(e)?t+=Xc.get(e):t+=e})),t}(n);const r=e.indexOf("?");return`https://storage.googleapis.com/storage/v1/b/${t}/o/${n}${r>0?e.substring(r)+"&alt=media":"?alt=media"}`}function Zc(e){var t=Yc(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e}function Yc(e){if(e.includes("/open?id=")){const t=e.indexOf("/open?id=")+9,n=e.indexOf("&");if(t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else{if(e.includes("/file/d/")){const t=e.indexOf("/file/d/")+8,n=e.lastIndexOf("/");return e.substring(t,n)}if(e.startsWith("https://www.googleapis.com/drive")){let t=e.indexOf("/files/");const n=e.indexOf("?");if(t>0)return t+=7,n>0?e.substring(t,n):e.substring(t)}}throw Error("Unknown Google Drive url format: "+e)}const Xc=new Map;Xc.set("!","%21"),Xc.set("#","%23"),Xc.set("$","%24"),Xc.set("%","%25"),Xc.set("&","%26"),Xc.set("'","%27"),Xc.set("(","%28"),Xc.set(")","%29"),Xc.set("*","%2A"),Xc.set("+","%2B"),Xc.set(",","%2C"),Xc.set("/","%2F"),Xc.set(":","%3A"),Xc.set(";","%3B"),Xc.set("=","%3D"),Xc.set("?","%3F"),Xc.set("@","%40"),Xc.set("[","%5B"),Xc.set("]","%5D"),Xc.set(" ","%20");async function Kc(e){if(Qc())return void console.warn("oAuth has already been initialized");gapi.apiKey=e.apiKey;const t=Object.assign({},e);return t.scope||(t.scope="profile"),e.client_id||(e.client_id=e.clientId),await async function(e){return new Promise((function(t,n){gapi.load(e,{callback:t,onerror:n})}))}("auth2"),new Promise((function(e,n){gapi.auth2.init(t).then(e,n)}))}function Qc(){return"undefined"!=typeof gapi&&gapi.auth2&&gapi.auth2.getAuthInstance()}let Jc=!1;async function eu(e){if("undefined"==typeof gapi)throw Error("Google authentication requires the 'gapi' library");if(!gapi.auth2)throw Error("Google 'auth2' has not been initialized");if(Jc)return new Promise((function(t,n){let r;r=setInterval((()=>{try{!1===Jc&&(t(eu(e)),clearInterval(r))}catch(e){clearInterval(r),n(e)}}),100)}));Jc=!0;try{let t,n=gapi.auth2.getAuthInstance().currentUser.get();if(n.isSignedIn()){n.hasGrantedScopes(e)||await n.grant({scope:e});const{access_token:r,expires_at:i}=n.getAuthResponse();if(Date.now()<i-3e5)t={access_token:r,expires_at:i};else{const{access_token:e,expires_at:r}=n.reloadAuthResponse();t={access_token:e,expires_at:r}}}else{n=await async function(e){const t=new gapi.auth2.SigninOptionsBuilder;return t.setPrompt("select_account"),t.setScope(e),gapi.auth2.getAuthInstance().signIn(t)}(e);const{access_token:r,expires_at:i}=n.getAuthResponse();t={access_token:r,expires_at:i}}return t}finally{Jc=!1}}function tu(){return gapi.apiKey}async function nu(e){let t="https://www.googleapis.com/drive/v3/files/"+Yc(e)+"?supportsTeamDrives=true";const n=tu();n&&(t+="&key="+n);const r=await fetch(t);let i=await r.json();if(i.error&&404===i.error.code){const{access_token:e}=await eu("https://www.googleapis.com/auth/drive.readonly");if(!e)throw Error(i.error);{const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(i=await n.json(),i.error)throw Error(i.error)}}return i}function ru(e){for(var t=iu,n=t.parser.loose.exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,(function(e,n,i){n&&(r[t.q.name][n]=i)})),r}"object"==typeof process&&"undefined"==typeof window&&(global.atob=function(e){return Buffer.from(e,"base64").toString("binary")});const iu={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};async function au(e){return"function"==typeof e?e():e}function ou(e){if(e instanceof File)return e.name;if(zc(e)){let t=e.lastIndexOf("/"),n=t<0?e:e.substr(t+1);return t=n.indexOf("?"),t>0&&(n=n.substr(0,t)),n}throw Error("Expected File or string, got "+typeof e)}function su(e){return e instanceof File}function cu(e,t){const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function uu(e){let t=e.length;for(;--t>=0;)e[t]=0}const lu=256,hu=286,fu=30,du=15,pu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),mu=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yu=new Array(576);uu(yu);const bu=new Array(60);uu(bu);const wu=new Array(512);uu(wu);const xu=new Array(256);uu(xu);const ku=new Array(29);uu(ku);const _u=new Array(fu);function Su(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Cu,Eu,Au;function Ru(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}uu(_u);const Tu=e=>e<256?wu[e]:wu[256+(e>>>7)],Lu=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Mu=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Lu(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Iu=(e,t,n)=>{Mu(e,n[2*t],n[2*t+1])},Ou=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Pu=(e,t,n)=>{const r=new Array(16);let i,a,o=0;for(i=1;i<=du;i++)r[i]=o=o+n[i-1]<<1;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=Ou(r[t]++,t))}},Nu=e=>{let t;for(t=0;t<hu;t++)e.dyn_ltree[2*t]=0;for(t=0;t<fu;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Fu=e=>{e.bi_valid>8?Lu(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Du=(e,t,n,r)=>{const i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},Bu=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Du(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Du(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},zu=(e,t,n)=>{let r,i,a,o,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?Iu(e,i,t):(a=xu[i],Iu(e,a+lu+1,t),o=pu[a],0!==o&&(i-=ku[a],Mu(e,i,o)),r--,a=Tu(r),Iu(e,a,n),o=gu[a],0!==o&&(r-=_u[a],Mu(e,r,o)))}while(s<e.last_lit);Iu(e,256,t)},Hu=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,c,u=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<a;o++)0!==n[2*o]?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[2*c+1]);for(t.max_code=u,o=e.heap_len>>1;o>=1;o--)Bu(e,n,o);c=a;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Bu(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*c]=n[2*o]+n[2*s],e.depth[c]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=c,e.heap[1]=c++,Bu(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,l,h,f,d,p,g=0;for(f=0;f<=du;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)l=e.heap[u],f=n[2*n[2*l+1]+1]+1,f>c&&(f=c,g++),n[2*l+1]=f,l>r||(e.bl_count[f]++,d=0,l>=s&&(d=o[l-s]),p=n[2*l],e.opt_len+=p*(f+d),a&&(e.static_len+=p*(i[2*l+1]+d)));if(0!==g){do{for(f=c-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(f=c;0!==f;f--)for(l=e.bl_count[f];0!==l;)h=e.heap[--u],h>r||(n[2*h+1]!==f&&(e.opt_len+=(f-n[2*h+1])*n[2*h],n[2*h+1]=f),l--)}})(e,t),Pu(n,u,e.bl_count)},ju=(e,t,n)=>{let r,i,a=-1,o=t[1],s=0,c=7,u=4;for(0===o&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<c&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))},Vu=(e,t,n)=>{let r,i,a=-1,o=t[1],s=0,c=7,u=4;for(0===o&&(c=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<c&&i===o)){if(s<u)do{Iu(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(Iu(e,i,e.bl_tree),s--),Iu(e,16,e.bl_tree),Mu(e,s-3,2)):s<=10?(Iu(e,17,e.bl_tree),Mu(e,s-3,3)):(Iu(e,18,e.bl_tree),Mu(e,s-11,7));s=0,a=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}};let Uu=!1;const qu=(e,t,n,r)=>{Mu(e,0+(r?1:0),3),((e,t,n,r)=>{Fu(e),r&&(Lu(e,n),Lu(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var Wu=(e,t,n,r)=>{let i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<lu;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Hu(e,e.l_desc),Hu(e,e.d_desc),o=(e=>{let t;for(ju(e,e.dyn_ltree,e.l_desc.max_code),ju(e,e.dyn_dtree,e.d_desc.max_code),Hu(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*mu[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?qu(e,t,n,r):4===e.strategy||a===i?(Mu(e,2+(r?1:0),3),zu(e,yu,bu)):(Mu(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(Mu(e,t-257,5),Mu(e,n-1,5),Mu(e,r-4,4),i=0;i<r;i++)Mu(e,e.bl_tree[2*mu[i]+1],3);Vu(e,e.dyn_ltree,t-1),Vu(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),zu(e,e.dyn_ltree,e.dyn_dtree)),Nu(e),r&&Fu(e)},Gu={_tr_init:e=>{Uu||((()=>{let e,t,n,r,i;const a=new Array(16);for(n=0,r=0;r<28;r++)for(ku[r]=n,e=0;e<1<<pu[r];e++)xu[n++]=r;for(xu[n-1]=r,i=0,r=0;r<16;r++)for(_u[r]=i,e=0;e<1<<gu[r];e++)wu[i++]=r;for(i>>=7;r<fu;r++)for(_u[r]=i<<7,e=0;e<1<<gu[r]-7;e++)wu[256+i++]=r;for(t=0;t<=du;t++)a[t]=0;for(e=0;e<=143;)yu[2*e+1]=8,e++,a[8]++;for(;e<=255;)yu[2*e+1]=9,e++,a[9]++;for(;e<=279;)yu[2*e+1]=7,e++,a[7]++;for(;e<=287;)yu[2*e+1]=8,e++,a[8]++;for(Pu(yu,287,a),e=0;e<fu;e++)bu[2*e+1]=5,bu[2*e]=Ou(e,5);Cu=new Su(yu,pu,257,hu,du),Eu=new Su(bu,gu,0,fu,du),Au=new Su(new Array(0),vu,0,19,7)})(),Uu=!0),e.l_desc=new Ru(e.dyn_ltree,Cu),e.d_desc=new Ru(e.dyn_dtree,Eu),e.bl_desc=new Ru(e.bl_tree,Au),e.bi_buf=0,e.bi_valid=0,Nu(e)},_tr_stored_block:qu,_tr_flush_block:Wu,_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(xu[n]+lu+1)]++,e.dyn_dtree[2*Tu(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{Mu(e,2,3),Iu(e,256,yu),(e=>{16===e.bi_valid?(Lu(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var $u=(e,t,n,r)=>{let i=65535&e|0,a=e>>>16&65535|0,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{i=i+t[r++]|0,a=a+i|0}while(--o);i%=65521,a%=65521}return i|a<<16|0};const Zu=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Yu=(e,t,n,r)=>{const i=Zu,a=r+n;e^=-1;for(let n=r;n<a;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},Xu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ku={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Qu,_tr_stored_block:Ju,_tr_flush_block:el,_tr_tally:tl,_tr_align:nl}=Gu,{Z_NO_FLUSH:rl,Z_PARTIAL_FLUSH:il,Z_FULL_FLUSH:al,Z_FINISH:ol,Z_BLOCK:sl,Z_OK:cl,Z_STREAM_END:ul,Z_STREAM_ERROR:ll,Z_DATA_ERROR:hl,Z_BUF_ERROR:fl,Z_DEFAULT_COMPRESSION:dl,Z_FILTERED:pl,Z_HUFFMAN_ONLY:gl,Z_RLE:vl,Z_FIXED:ml,Z_DEFAULT_STRATEGY:yl,Z_UNKNOWN:bl,Z_DEFLATED:wl}=Ku,xl=258,kl=262,_l=103,Sl=113,Cl=666,El=(e,t)=>(e.msg=Xu[t],t),Al=e=>(e<<1)-(e>4?9:0),Rl=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Tl=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ll=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ml=(e,t)=>{el(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ll(e.strm)},Il=(e,t)=>{e.pending_buf[e.pending++]=t},Ol=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Pl=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=$u(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Yu(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Nl=(e,t)=>{let n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-kl?e.strstart-(e.w_size-kl):0,u=e.window,l=e.w_mask,h=e.prev,f=e.strstart+xl;let d=u[a+o-1],p=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,u[n+o]===p&&u[n+o-1]===d&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<f);if(r=xl-(f-a),a=f-xl,r>o){if(e.match_start=t,o=r,r>=s)break;d=u[a+o-1],p=u[a+o]}}}while((t=h[t&l])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead},Fl=e=>{const t=e.w_size;let n,r,i,a,o;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-kl)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);a+=t}if(0===e.strm.avail_in)break;if(r=Pl(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Tl(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Tl(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<kl&&0!==e.strm.avail_in)},Dl=(e,t)=>{let n,r;for(;;){if(e.lookahead<kl){if(Fl(e),e.lookahead<kl&&t===rl)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Tl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-kl&&(e.match_length=Nl(e,n)),e.match_length>=3)if(r=tl(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Tl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Tl(e,e.ins_h,e.window[e.strstart+1]);else r=tl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ol?(Ml(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ml(e,!1),0===e.strm.avail_out)?1:2},Bl=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<kl){if(Fl(e),e.lookahead<kl&&t===rl)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Tl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-kl&&(e.match_length=Nl(e,n),e.match_length<=5&&(e.strategy===pl||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=tl(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Tl(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ml(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=tl(e,0,e.window[e.strstart-1]),r&&Ml(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=tl(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ol?(Ml(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ml(e,!1),0===e.strm.avail_out)?1:2};function zl(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Hl=[new zl(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fl(e),0===e.lookahead&&t===rl)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ml(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-kl&&(Ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ol?(Ml(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ml(e,!1),e.strm.avail_out),1)})),new zl(4,4,8,4,Dl),new zl(4,5,16,8,Dl),new zl(4,6,32,32,Dl),new zl(4,4,16,16,Bl),new zl(8,16,32,32,Bl),new zl(8,16,128,128,Bl),new zl(8,32,128,256,Bl),new zl(32,128,258,1024,Bl),new zl(32,258,258,4096,Bl)];function jl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Rl(this.dyn_ltree),Rl(this.dyn_dtree),Rl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Rl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Rl(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vl=e=>{if(!e||!e.state)return El(e,ll);e.total_in=e.total_out=0,e.data_type=bl;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Sl,e.adler=2===t.wrap?0:1,t.last_flush=rl,Qu(t),cl},Ul=e=>{const t=Vl(e);var n;return t===cl&&((n=e.state).window_size=2*n.w_size,Rl(n.head),n.max_lazy_match=Hl[n.level].max_lazy,n.good_match=Hl[n.level].good_length,n.nice_match=Hl[n.level].nice_length,n.max_chain_length=Hl[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},ql=(e,t,n,r,i,a)=>{if(!e)return ll;let o=1;if(t===dl&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||n!==wl||r<8||r>15||t<0||t>9||a<0||a>ml)return El(e,ll);8===r&&(r=9);const s=new jl;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,Ul(e)};var Wl=(e,t)=>e&&e.state?2!==e.state.wrap?ll:(e.state.gzhead=t,cl):ll,Gl=(e,t)=>{let n,r;if(!e||!e.state||t>sl||t<0)return e?El(e,ll):ll;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===Cl&&t!==ol)return El(e,0===e.avail_out?fl:ll);i.strm=e;const a=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Il(i,31),Il(i,139),Il(i,8),i.gzhead?(Il(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Il(i,255&i.gzhead.time),Il(i,i.gzhead.time>>8&255),Il(i,i.gzhead.time>>16&255),Il(i,i.gzhead.time>>24&255),Il(i,9===i.level?2:i.strategy>=gl||i.level<2?4:0),Il(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Il(i,255&i.gzhead.extra.length),Il(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Yu(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Il(i,0),Il(i,0),Il(i,0),Il(i,0),Il(i,0),Il(i,9===i.level?2:i.strategy>=gl||i.level<2?4:0),Il(i,3),i.status=Sl);else{let t=wl+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=gl||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=Sl,Ol(i,t),0!==i.strstart&&(Ol(i,e.adler>>>16),Ol(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=Yu(e.adler,i.pending_buf,i.pending-n,n)),Ll(e),n=i.pending,i.pending!==i.pending_buf_size));)Il(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=Yu(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Yu(e.adler,i.pending_buf,i.pending-n,n)),Ll(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Il(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Yu(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Yu(e.adler,i.pending_buf,i.pending-n,n)),Ll(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Il(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Yu(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=_l)}else i.status=_l;if(i.status===_l&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ll(e),i.pending+2<=i.pending_buf_size&&(Il(i,255&e.adler),Il(i,e.adler>>8&255),e.adler=0,i.status=Sl)):i.status=Sl),0!==i.pending){if(Ll(e),0===e.avail_out)return i.last_flush=-1,cl}else if(0===e.avail_in&&Al(t)<=Al(a)&&t!==ol)return El(e,fl);if(i.status===Cl&&0!==e.avail_in)return El(e,fl);if(0!==e.avail_in||0!==i.lookahead||t!==rl&&i.status!==Cl){let n=i.strategy===gl?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Fl(e),0===e.lookahead)){if(t===rl)return 1;break}if(e.match_length=0,n=tl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ol?(Ml(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ml(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===vl?((e,t)=>{let n,r,i,a;const o=e.window;for(;;){if(e.lookahead<=xl){if(Fl(e),e.lookahead<=xl&&t===rl)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+xl;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=xl-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=tl(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=tl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ml(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ol?(Ml(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ml(e,!1),0===e.strm.avail_out)?1:2})(i,t):Hl[i.level].func(i,t);if(3!==n&&4!==n||(i.status=Cl),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),cl;if(2===n&&(t===il?nl(i):t!==sl&&(Ju(i,0,0,!1),t===al&&(Rl(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ll(e),0===e.avail_out))return i.last_flush=-1,cl}return t!==ol?cl:i.wrap<=0?ul:(2===i.wrap?(Il(i,255&e.adler),Il(i,e.adler>>8&255),Il(i,e.adler>>16&255),Il(i,e.adler>>24&255),Il(i,255&e.total_in),Il(i,e.total_in>>8&255),Il(i,e.total_in>>16&255),Il(i,e.total_in>>24&255)):(Ol(i,e.adler>>>16),Ol(i,65535&e.adler)),Ll(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?cl:ul)},$l=(e,t)=>{let n=t.length;if(!e||!e.state)return ll;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return ll;if(1===i&&(e.adler=$u(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Rl(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Fl(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Tl(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Fl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,r.wrap=i,cl},Zl={deflateInit:(e,t)=>ql(e,t,wl,15,8,yl),deflateInit2:ql,deflateReset:Ul,deflateResetKeep:Vl,deflateSetHeader:Wl,deflate:Gl,deflateEnd:e=>{if(!e||!e.state)return ll;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==_l&&t!==Sl&&t!==Cl?El(e,ll):(e.state=null,t===Sl?El(e,hl):cl)},deflateSetDictionary:$l,deflateInfo:"pako deflate (from Nodeca project)"};const Yl=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Xl=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Yl(n,t)&&(e[t]=n[t])}}return e},Kl=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let Ql=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ql=!1}const Jl=new Uint8Array(256);for(let e=0;e<256;e++)Jl[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Jl[254]=Jl[254]=1;var eh=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},th=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const a=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){a[i++]=t;continue}let o=Jl[t];if(o>4)a[i++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?a[i++]=65533:t<65536?a[i++]=t:(t-=65536,a[i++]=55296|t>>10&1023,a[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Ql)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(a,i)},nh=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Jl[e[n]]>t?n:t};var rh=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ih=Object.prototype.toString,{Z_NO_FLUSH:ah,Z_SYNC_FLUSH:oh,Z_FULL_FLUSH:sh,Z_FINISH:ch,Z_OK:uh,Z_STREAM_END:lh,Z_DEFAULT_COMPRESSION:hh,Z_DEFAULT_STRATEGY:fh,Z_DEFLATED:dh}=Ku;function ph(e){this.options=Xl({level:hh,method:dh,chunkSize:16384,windowBits:15,memLevel:8,strategy:fh},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rh,this.strm.avail_out=0;let n=Zl.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==uh)throw new Error(Xu[n]);if(t.header&&Zl.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?eh(t.dictionary):"[object ArrayBuffer]"===ih.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Zl.deflateSetDictionary(this.strm,e),n!==uh)throw new Error(Xu[n]);this._dict_set=!0}}function gh(e,t){const n=new ph(t);if(n.push(e,!0),n.err)throw n.msg||Xu[n.err];return n.result}ph.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ch:ah,"string"==typeof e?n.input=eh(e):"[object ArrayBuffer]"===ih.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===oh||a===sh)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Zl.deflate(n,a),i===lh)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Zl.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===uh;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ph.prototype.onData=function(e){this.chunks.push(e)},ph.prototype.onEnd=function(e){e===uh&&(this.result=Kl(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var vh=function(e,t){return(t=t||{}).raw=!0,gh(e,t)},mh=function(e,t){return(t=t||{}).gzip=!0,gh(e,t)},yh={Deflate:ph,deflate:gh,deflateRaw:vh,gzip:mh,constants:Ku};var bh=function(e,t){let n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C;const E=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),i=e.next_out,C=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),s=E.dmax,c=E.wsize,u=E.whave,l=E.wnext,h=E.window,f=E.hold,d=E.bits,p=E.lencode,g=E.distcode,v=(1<<E.lenbits)-1,m=(1<<E.distbits)-1;e:do{d<15&&(f+=S[n++]<<d,d+=8,f+=S[n++]<<d,d+=8),y=p[f&v];t:for(;;){if(b=y>>>24,f>>>=b,d-=b,b=y>>>16&255,0===b)C[i++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=p[(65535&y)+(f&(1<<b)-1)];continue t}if(32&b){E.mode=12;break e}e.msg="invalid literal/length code",E.mode=30;break e}w=65535&y,b&=15,b&&(d<b&&(f+=S[n++]<<d,d+=8),w+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=S[n++]<<d,d+=8,f+=S[n++]<<d,d+=8),y=g[f&m];n:for(;;){if(b=y>>>24,f>>>=b,d-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=g[(65535&y)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",E.mode=30;break e}if(x=65535&y,b&=15,d<b&&(f+=S[n++]<<d,d+=8,d<b&&(f+=S[n++]<<d,d+=8)),x+=f&(1<<b)-1,x>s){e.msg="invalid distance too far back",E.mode=30;break e}if(f>>>=b,d-=b,b=i-a,x>b){if(b=x-b,b>u&&E.sane){e.msg="invalid distance too far back",E.mode=30;break e}if(k=0,_=h,0===l){if(k+=c-b,b<w){w-=b;do{C[i++]=h[k++]}while(--b);k=i-x,_=C}}else if(l<b){if(k+=c+l-b,b-=l,b<w){w-=b;do{C[i++]=h[k++]}while(--b);if(k=0,l<w){b=l,w-=b;do{C[i++]=h[k++]}while(--b);k=i-x,_=C}}}else if(k+=l-b,b<w){w-=b;do{C[i++]=h[k++]}while(--b);k=i-x,_=C}for(;w>2;)C[i++]=_[k++],C[i++]=_[k++],C[i++]=_[k++],w-=3;w&&(C[i++]=_[k++],w>1&&(C[i++]=_[k++]))}else{k=i-x;do{C[i++]=C[k++],C[i++]=C[k++],C[i++]=C[k++],w-=3}while(w>2);w&&(C[i++]=C[k++],w>1&&(C[i++]=C[k++]))}break}}break}}while(n<r&&i<o);w=d>>3,n-=w,d-=w<<3,f&=(1<<d)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<o?o-i+257:257-(i-o),E.hold=f,E.bits=d};const wh=15,xh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_h=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ch=(e,t,n,r,i,a,o,s)=>{const c=s.bits;let u,l,h,f,d,p,g=0,v=0,m=0,y=0,b=0,w=0,x=0,k=0,_=0,S=0,C=null,E=0;const A=new Uint16Array(16),R=new Uint16Array(16);let T,L,M,I=null,O=0;for(g=0;g<=wh;g++)A[g]=0;for(v=0;v<r;v++)A[t[n+v]]++;for(b=c,y=wh;y>=1&&0===A[y];y--);if(b>y&&(b=y),0===y)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(m=1;m<y&&0===A[m];m++);for(b<m&&(b=m),k=1,g=1;g<=wh;g++)if(k<<=1,k-=A[g],k<0)return-1;if(k>0&&(0===e||1!==y))return-1;for(R[1]=0,g=1;g<wh;g++)R[g+1]=R[g]+A[g];for(v=0;v<r;v++)0!==t[n+v]&&(o[R[t[n+v]]++]=v);if(0===e?(C=I=o,p=19):1===e?(C=xh,E-=257,I=kh,O-=257,p=256):(C=_h,I=Sh,p=-1),S=0,v=0,g=m,d=a,w=b,x=0,h=-1,_=1<<b,f=_-1,1===e&&_>852||2===e&&_>592)return 1;for(;;){T=g-x,o[v]<p?(L=0,M=o[v]):o[v]>p?(L=I[O+o[v]],M=C[E+o[v]]):(L=96,M=0),u=1<<g-x,l=1<<w,m=l;do{l-=u,i[d+(S>>x)+l]=T<<24|L<<16|M|0}while(0!==l);for(u=1<<g-1;S&u;)u>>=1;if(0!==u?(S&=u-1,S+=u):S=0,v++,0==--A[g]){if(g===y)break;g=t[n+o[v]]}if(g>b&&(S&f)!==h){for(0===x&&(x=b),d+=m,w=g-x,k=1<<w;w+x<y&&(k-=A[w+x],!(k<=0));)w++,k<<=1;if(_+=1<<w,1===e&&_>852||2===e&&_>592)return 1;h=S&f,i[h]=b<<24|w<<16|d-a|0}}return 0!==S&&(i[d+S]=g-x<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:Eh,Z_BLOCK:Ah,Z_TREES:Rh,Z_OK:Th,Z_STREAM_END:Lh,Z_NEED_DICT:Mh,Z_STREAM_ERROR:Ih,Z_DATA_ERROR:Oh,Z_MEM_ERROR:Ph,Z_BUF_ERROR:Nh,Z_DEFLATED:Fh}=Ku,Dh=12,Bh=30,zh=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Hh(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jh=e=>{if(!e||!e.state)return Ih;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Th},Vh=e=>{if(!e||!e.state)return Ih;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jh(e)},Uh=(e,t)=>{let n;if(!e||!e.state)return Ih;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ih:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Vh(e))},qh=(e,t)=>{if(!e)return Ih;const n=new Hh;e.state=n,n.window=null;const r=Uh(e,t);return r!==Th&&(e.state=null),r};let Wh,Gh,$h=!0;const Zh=e=>{if($h){Wh=new Int32Array(512),Gh=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ch(1,e.lens,0,288,Wh,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ch(2,e.lens,0,32,Gh,0,e.work,{bits:5}),$h=!1}e.lencode=Wh,e.lenbits=9,e.distcode=Gh,e.distbits=5},Yh=(e,t,n,r)=>{let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),(r-=i)?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var Xh=(e,t)=>{let n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S=0;const C=new Uint8Array(4);let E,A;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Ih;n=e.state,n.mode===Dh&&(n.mode=13),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,h=s,f=c,_=Th;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(2&n.wrap&&35615===u){n.check=0,C[0]=255&u,C[1]=u>>>8&255,n.check=Yu(n.check,C,2,0),u=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Bh;break}if((15&u)!==Fh){e.msg="unknown compression method",n.mode=Bh;break}if(u>>>=4,l-=4,k=8+(15&u),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=Bh;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&u?10:Dh,u=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Fh){e.msg="unknown compression method",n.mode=Bh;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Bh;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,n.check=Yu(n.check,C,2,0)),u=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,C[2]=u>>>16&255,C[3]=u>>>24&255,n.check=Yu(n.check,C,4,0)),u=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,n.check=Yu(n.check,C,2,0)),u=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,n.check=Yu(n.check,C,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(d=n.length,d>s&&(d=s),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+d),k)),512&n.flags&&(n.check=Yu(n.check,r,d,a)),s-=d,a+=d,n.length-=d),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;d=0;do{k=r[a+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&d<s);if(512&n.flags&&(n.check=Yu(n.check,r,d,a)),s-=d,a+=d,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;d=0;do{k=r[a+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&d<s);if(512&n.flags&&(n.check=Yu(n.check,r,d,a)),s-=d,a+=d,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Bh;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Dh;break;case 10:for(;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}e.adler=n.check=zh(u),u=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=l,Mh;e.adler=n.check=1,n.mode=Dh;case Dh:if(t===Ah||t===Rh)break e;case 13:if(n.last){u>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=14;break;case 1:if(Zh(n),n.mode=20,t===Rh){u>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Bh}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Bh;break}if(n.length=65535&u,u=0,l=0,n.mode=15,t===Rh)break e;case 15:n.mode=16;case 16:if(d=n.length,d){if(d>s&&(d=s),d>c&&(d=c),0===d)break e;i.set(r.subarray(a,a+d),o),s-=d,a+=d,c-=d,o+=d,n.length-=d;break}n.mode=Dh;break;case 17:for(;l<14;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Bh;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.lens[R[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},_=Ch(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,_){e.msg="invalid code lengths set",n.mode=Bh;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[u&(1<<n.lenbits)-1],v=S>>>24,m=S>>>16&255,y=65535&S,!(v<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(y<16)u>>>=v,l-=v,n.lens[n.have++]=y;else{if(16===y){for(A=v+2;l<A;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(u>>>=v,l-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=Bh;break}k=n.lens[n.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===y){for(A=v+3;l<A;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=v,l-=v,k=0,d=3+(7&u),u>>>=3,l-=3}else{for(A=v+7;l<A;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=v,l-=v,k=0,d=11+(127&u),u>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Bh;break}for(;d--;)n.lens[n.have++]=k}}if(n.mode===Bh)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Bh;break}if(n.lenbits=9,E={bits:n.lenbits},_=Ch(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,_){e.msg="invalid literal/lengths set",n.mode=Bh;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},_=Ch(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,_){e.msg="invalid distances set",n.mode=Bh;break}if(n.mode=20,t===Rh)break e;case 20:n.mode=21;case 21:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=l,bh(e,f),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,n.mode===Dh&&(n.back=-1);break}for(n.back=0;S=n.lencode[u&(1<<n.lenbits)-1],v=S>>>24,m=S>>>16&255,y=65535&S,!(v<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(m&&0==(240&m)){for(b=v,w=m,x=y;S=n.lencode[x+((u&(1<<b+w)-1)>>b)],v=S>>>24,m=S>>>16&255,y=65535&S,!(b+v<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,n.length=y,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=Dh;break}if(64&m){e.msg="invalid literal/length code",n.mode=Bh;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(A=n.extra;l<A;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=n.distcode[u&(1<<n.distbits)-1],v=S>>>24,m=S>>>16&255,y=65535&S,!(v<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(0==(240&m)){for(b=v,w=m,x=y;S=n.distcode[x+((u&(1<<b+w)-1)>>b)],v=S>>>24,m=S>>>16&255,y=65535&S,!(b+v<=l);){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,64&m){e.msg="invalid distance code",n.mode=Bh;break}n.offset=y,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(A=n.extra;l<A;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Bh;break}n.mode=25;case 25:if(0===c)break e;if(d=f-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Bh;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=i,p=o-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do{i[o++]=g[p++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===c)break e;i[o++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,u|=r[a++]<<l,l+=8}if(f-=c,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?Yu(n.check,i,f,o-f):$u(n.check,i,f,o-f)),f=c,(n.flags?u:zh(u))!==n.check){e.msg="incorrect data check",n.mode=Bh;break}u=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,u+=r[a++]<<l,l+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Bh;break}u=0,l=0}n.mode=29;case 29:_=Lh;break e;case Bh:_=Oh;break e;case 31:return Ph;default:return Ih}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=u,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<Bh&&(n.mode<27||t!==Eh))&&Yh(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?Yu(n.check,i,f,e.next_out-f):$u(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Dh?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===f||t===Eh)&&_===Th&&(_=Nh),_},Kh=(e,t)=>{if(!e||!e.state)return Ih;const n=e.state;return 0==(2&n.wrap)?Ih:(n.head=t,t.done=!1,Th)},Qh={inflateReset:Vh,inflateReset2:Uh,inflateResetKeep:jh,inflateInit:e=>qh(e,15),inflateInit2:qh,inflate:Xh,inflateEnd:e=>{if(!e||!e.state)return Ih;let t=e.state;return t.window&&(t.window=null),e.state=null,Th},inflateGetHeader:Kh,inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,a;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?Ih:11===r.mode&&(i=1,i=$u(i,t,n,0),i!==r.check)?Oh:(a=Yh(e,t,n,n),a?(r.mode=31,Ph):(r.havedict=1,Th))):Ih},inflateInfo:"pako inflate (from Nodeca project)"};var Jh=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ef=Object.prototype.toString,{Z_NO_FLUSH:tf,Z_FINISH:nf,Z_OK:rf,Z_STREAM_END:af,Z_NEED_DICT:of,Z_STREAM_ERROR:sf,Z_DATA_ERROR:cf,Z_MEM_ERROR:uf}=Ku;function lf(e){this.options=Xl({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rh,this.strm.avail_out=0;let n=Qh.inflateInit2(this.strm,t.windowBits);if(n!==rf)throw new Error(Xu[n]);if(this.header=new Jh,Qh.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=eh(t.dictionary):"[object ArrayBuffer]"===ef.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Qh.inflateSetDictionary(this.strm,t.dictionary),n!==rf)))throw new Error(Xu[n])}function hf(e,t){const n=new lf(t);if(n.push(e),n.err)throw n.msg||Xu[n.err];return n.result}lf.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?nf:tf,"[object ArrayBuffer]"===ef.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Qh.inflate(n,o),a===of&&i&&(a=Qh.inflateSetDictionary(n,i),a===rf?a=Qh.inflate(n,o):a===cf&&(a=of));n.avail_in>0&&a===af&&n.state.wrap>0&&0!==e[n.next_in];)Qh.inflateReset(n),a=Qh.inflate(n,o);switch(a){case sf:case cf:case of:case uf:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||a===af))if("string"===this.options.to){let e=nh(n.output,n.next_out),t=n.next_out-e,i=th(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==rf||0!==s){if(a===af)return a=Qh.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},lf.prototype.onData=function(e){this.chunks.push(e)},lf.prototype.onEnd=function(e){e===rf&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Kl(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ff=function(e,t){return(t=t||{}).raw=!0,hf(e,t)},df={Inflate:lf,inflate:hf,inflateRaw:ff,ungzip:hf,constants:Ku};const{Deflate:pf,deflate:gf,deflateRaw:vf,gzip:mf}=yh,{Inflate:yf,inflate:bf,inflateRaw:wf,ungzip:xf}=df;var kf={Deflate:pf,deflate:gf,deflateRaw:vf,gzip:mf,Inflate:yf,inflate:bf,inflateRaw:wf,ungzip:xf,constants:Ku};kf.deflateRaw,kf.deflate,kf.inflateRaw;const _f=kf.inflate;kf.gzip;function Sf(e,t){const n=[];let r=0,i=0;for(t=t||e.byteLength-18;r<t;)try{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e,r,18),a=t[11]<<8|t[10],o=(t[3],t[12],t[13],t[15],t[14],1+(t[17]<<8|t[16])),s=12+a+r,c=e.byteLength-s,u=o-a-19;if(c<u||u<=0)break;const l=new Uint8Array(e,s,u),h=kf.inflateRaw(l);r+=u-1+26,i+=h.byteLength,n.push(h)}catch(e){console.error(e);break}if(1===n.length)return n[0];{const e=new Uint8Array(i);let t=0;for(let r=0;r<n.length;++r){var a=new Uint8Array(n[r]);Af(a,0,e,t,a.length),t+=a.length}return e}}function Cf(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 1+(t[17]<<8|t[16])}const Ef="function"==typeof new Uint8Array(1).subarray;function Af(e,t,n,r,i){if(0!==i){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&i===e.length?Rf(e,n,r):Ef?Rf(e.subarray(t,t+i),n,r):1===e.BYTES_PER_ELEMENT&&i>100?Rf(new Uint8Array(e.buffer,e.byteOffset+t,i),n,r):function(e,t,n,r,i){for(let a=0;a<i;++a)n[r+a]=e[t+a]}(e,t,n,r,i)}}function Rf(e,t,n){t.set(e,n)}function Tf(e,t){const n=e.split(","),r=n[0].split(":")[1];let i=n[1];if(r.indexOf("base64")>=0){i=atob(i);const e=new Uint8Array(i.length);for(let t=0;t<i.length;t++)e[t]=i.charCodeAt(t);let n;return n=t||r.indexOf("gzip")>0?kf.ungzip(e):e,n}return decodeURIComponent(i)}const Lf=function(e,t){if(0!==e.length){var n=Math.floor(e.length*((100-t)/100));return 0===n?(e.sort((function(e,t){return t-e})),e[n]):function(e,t){var n,r=new Of;for(n=0;n<e.length;n++){var i=e[n];(r.content.length<t||i>r.content[0])&&(r.content.length===t&&r.pop(),r.push(i))}return r.content[0]}(e,n)}},Mf=function(e,t,n){return Math.min(Math.max(e,t),n)},If=function(e){return Math.log(e)/Math.LN2};function Of(){this.content=[]}function Pf(e,t){return Math.random()*(t-e)+e}Of.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();if(n===t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=i)break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=n;;){var i=2*(e+1),a=i-1,o=null;if(a<t){var s=this.content[a],c=s;s<r&&(o=a)}if(i<t)this.content[i]<(null==o?r:c)&&(o=i);if(null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}};const Nf={rgbListFromHSV:()=>{let e=[];for(let t=1;t>=.5;t-=.1)for(let n=0;n<1;n+=1/28){const r="rgb("+Nf.hsvToRgb(n,1,t).join(",")+")";e.push(r)}return e.pop(),e.push(Nf.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,n){var r,i,a,o=Math.floor(6*e),s=6*e-o,c=n*(1-t),u=n*(1-s*t),l=n*(1-(1-s)*t);switch(o%6){case 0:r=n,i=l,a=c;break;case 1:r=u,i=n,a=c;break;case 2:r=c,i=n,a=l;break;case 3:r=c,i=u,a=n;break;case 4:r=l,i=c,a=n;break;case 5:r=n,i=c,a=u}return[Math.floor(255*r),Math.floor(255*i),Math.floor(255*a)]},hslToRgb:function(e,t,n){var r,i,a;if(0===t)r=i=a=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=Nf.hue2rgb(s,o,e+1/3),i=Nf.hue2rgb(s,o,e),a=Nf.hue2rgb(s,o,e-1/3)}return[255*r,255*i,255*a]},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),rgbaColor:function(e,t,n,r){return"rgba("+(e=Mf(e,0,255))+","+(t=Mf(t,0,255))+","+(n=Mf(n,0,255))+","+(r=Mf(r,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=Mf(e,0,255))+","+(t=Mf(t,0,255))+","+(n=Mf(n,0,255))+")"},greyScale:function(e){var t=Mf(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Mf(e,0,255),t=Mf(t,0,255);var n=Math.round(Pf(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=Mf(e,0,255),t=Mf(t,0,255),"rgb("+Math.round(Pf(e,t)).toString(10)+","+Math.round(Pf(e,t)).toString(10)+","+Math.round(Pf(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=Mf(e,0,255),t=Mf(t,0,255),"rgba("+Math.round(Pf(e,t)).toString(10)+","+Math.round(Pf(e,t)).toString(10)+","+Math.round(Pf(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){if("0"===e||"."===e)e="rgb(0,0,0)";else{const t=this.colorNameToHex(e);t&&(e=t)}var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);if(e.startsWith("rgba")){const n=e.lastIndexOf(",");return e.substring(0,n+1)+t.toString()+")"}return n&&(e=Nf.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):(console.log(e+" is not an rgb style string"),e)},rgbComponents:function(e){if("0"===e||"."===e)return[0,0,0];if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e))e=Nf.hexToRgb(e);else if(!e.startsWith("rgb")){const t=this.colorNameToHex(e);e=this.hexToRgb(t)}if(e.startsWith("rgb("))return e.substring(4,e.length-1).split(",").map((e=>Number.parseInt(e.trim())));if(e.startsWith("rgba("))return e.substring(5,e.length-1).split(",").map(((e,t)=>(e=e.trim(),3===t?Number.parseFloat(e):Number.parseInt(e))));throw Error("Unrecognized color string: color")},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return(e=function(e){return void 0===e||((e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1))),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){let n,r=this.colorNameToHex(e);n=r?Nf.hexToRgb(r):e.startsWith("rgb(")?e:Nf.hexToRgb(e);const i=n.replace(")","").substring(4).split(","),a=Math.max(0,Math.min(255,Number.parseInt(i[0].trim())+t)),o=Math.max(0,Math.min(255,Number.parseInt(i[1].trim())+t)),s=Math.max(0,Math.min(255,Number.parseInt(i[2].trim())+t));return"rgb("+a.toString()+","+o.toString()+","+s.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};let Ff;function Df(e,t){t.addEventListener("mousedown",Bf.bind(e))}function Bf(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;t.top,n.pageYOffset,t.left,n.pageXOffset}(this);const t=zf.bind(this),n=Hf.bind(this),r=getComputedStyle(this),i=parseInt(r.top.replace("px","")),a=parseInt(r.left.replace("px",""));Ff={dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:i,left:a},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}function zf(e){if(!Ff)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=e.screenX-Ff.screenX,n=e.screenY-Ff.screenY;this.style.left=`${Ff.left+t}px`,this.style.top=`${Ff.top+n}px`}function Hf(e){if(!Ff)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=Ff.dragFunction,n=Ff.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),document.removeEventListener("mouseleave",n),document.removeEventListener("mouseexit",n),Ff=void 0}const jf={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},Vf="googleapis",Uf={oauthTokens:{},setToken:function(e,t){t=t||Vf,this.oauthTokens[t]=e,t===Vf&&(this.google.access_token=e)},getToken:function(e){let t;e=e||Vf;for(let n of Object.keys(this.oauthTokens)){if(qf(n).test(e)){t=this.oauthTokens[n];break}}return t},removeToken:function(e){e=e||Vf;for(let t of Object.keys(this.oauthTokens)){qf(t).test(e)&&(this.oauthTokens[t]=void 0)}e===Vf&&(this.google.access_token=void 0)},google:{setToken:function(e){Uf.setToken(e)}}};function qf(e){return new RegExp("^"+e.split(/\*+/).map(Wf).join(".*")+"$")}function Wf(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}const Gf=new class{constructor(e){this.requestsPerSecond=e.requestsPerSecond||10,this.lastStartTime=0,this.queued=[]}add(e,t){var n=this;return new Promise((function(t,r){n.queued.push({resolve:t,reject:r,asyncFunction:e}),n.dequeue()}))}addAll(e,t){var n=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(n)}dequeue(){if(this.queued.length>0){var e=new Date,t=1e3/this.requestsPerSecond+1,n=e-this.lastStartTime;n>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-n)}}async _execute(){this.lastStartTime=new Date;var e=this.queued.shift();const t=e.asyncFunction;try{const n=await t();e.resolve(n)}catch(t){e.reject(t)}}}({requestsPerSecond:8}),$f={apiKey:void 0,setApiKey:function(e){this.apiKey=e},load:Zf,loadArrayBuffer:async function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?Xf(e,t):Zf(e,t)},loadJson:async function(e,t){"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json");const n=await this.loadString(e,t);return n?JSON.parse(n):n},loadString:async function(e,t){return t=t||{},e instanceof File?async function(e,t){const n=t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return Jf(await Kf(n))}(e,t):async function(e,t){(t=t||{}).responseType="arraybuffer";return Jf(await $f.load(e,t))}(e,t)}};async function Zf(e,t){t=t||{};const n=typeof e;if((e=await("function"==typeof e?e():e))instanceof File)return Xf(e,t);if("function"==typeof e.startsWith){if(e.startsWith("data:")){const n=Tf(e).buffer;if(t.range){const e=t.range.size?t.range.start+t.range.size:n.byteLength;return n.slice(t.range.start,e)}return n}return e.startsWith("https://drive.google.com")&&(e=Zc(e)),Gc(e)||e.startsWith("https://www.dropbox.com")?Gf.add((async function(){return Yf(e,t)})):Yf(e,t)}throw Error(`url must be either a 'File', 'string', 'function', or 'Promise'.  Actual type: ${n}`)}async function Yf(e,t){e=function(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?Zc(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}(e);let n=(t=t||{}).oauthToken||function(e){const t=qc(e)?void 0:ru(e).host;let n=Uf.getToken(t);if(n)return n;if(void 0===t){const e=Qf();if(e&&e.expires_at>Date.now())return e.access_token}}(e);return n&&(n=await("function"==typeof n?n():n)),new Promise((function(r,i){qc(e)&&(Wc(e)&&(e=$c(e)),e=function(e){let t=$f.apiKey;t||"undefined"==typeof gapi||(t=gapi.apiKey);if(void 0!==t&&!e.includes("key=")){const n=e.includes("?")?"&":"?";e=e+n+"key="+t}return e}(e),Gc(e)&&function(e){if(e.includes("supportsTeamDrive"))return e;{const t=e.includes("?")?"&":"?";e=e+t+"supportsTeamDrive=true"}}(e),n||(n=Qf()));const a=t.headers||{};n&&function(e,t){t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t)}(a,n);const o=t.range,s=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),o&&s&&!function(e){return e.indexOf("X-Amz-Signature")>-1}(e)&&(e+=e.includes("?")?"&":"?",e+="someRandomSeed="+Math.random().toString(36));const c=new XMLHttpRequest,u=t.sendData||t.body,l=t.method||(u?"POST":"GET"),h=t.responseType,f=t.contentType,d=t.mimeType;if(c.open(l,e),t.timeout&&(c.timeout=t.timeout),o){var p=o.size?o.start+o.size-1:"";c.setRequestHeader("Range","bytes="+o.start+"-"+p)}if(f&&c.setRequestHeader("Content-Type",f),d&&c.overrideMimeType(d),h&&(c.responseType=h),a)for(let e of Object.keys(a)){const t=a[e];c.setRequestHeader(e,t)}!0===t.withCredentials&&(c.withCredentials=!0),c.onload=async function(n){0===c.status||c.status>=200&&c.status<=300?o&&206!==c.status&&0!==o.start?(c.response.length>1e5&&alert(`Warning: Range header ignored for URL: ${e}.  This can have performance impacts.`),r(c.response.slice(o.start,o.start+o.size))):r(c.response):"undefined"==typeof gapi||404!==c.status&&401!==c.status&&403!==c.status||!qc(e)||t.retries?403===c.status?g("Access forbidden: "+e):416===c.status?g("Unsatisfiable range"):g(c.status):v()},c.onerror=function(n){qc(e)&&!t.retries&&v(),g("Error accessing resource: "+e+" Status: "+c.status)},c.ontimeout=function(e){g("Timed out")},c.onabort=function(e){console.log("Aborted"),i(e)};try{c.send(u)}catch(e){i(e)}function g(e){if(!i)throw e;i(e)}async function v(){try{const n=await async function(e){if(console.log("Fetch token for "+e),Qc()){const t=function(e){return Gc(e)?"https://www.googleapis.com/auth/drive.file":Wc(e)?"https://www.googleapis.com/auth/devstorage.read_only":"https://www.googleapis.com/auth/userinfo.profile"}(e),n=await eu(t);return n?n.access_token:void 0}throw Error("Authorization is required, but Google oAuth has not been initalized. Contact your site administrator for assistance.")}(e);t.retries=1,t.oauthToken=n;const i=await Zf(e,t);r(i)}catch(e){if(e.error){const t=e.error.startsWith("popup_blocked")?"Google login popup blocked by browser.":e.error;alert(t)}else g(e)}}}))}async function Xf(e,t){let n=t&&t.range?e.slice(t.range.start,t.range.start+t.range.size):e;return"arraybuffer"===t.responseType?Kf(n):new Promise((function(t,r){const i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(t){console.error("reject uploading local file "+e.name),r(null,i)},i.readAsBinaryString(n),console.warn("Deprecated method used: readAsBinaryString")}))}async function Kf(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((function(t,n){const r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(e){console.error("reject uploading local file "+localfile.name),n(null,r)},r.readAsArrayBuffer(e)}))}function Qf(){if(Qc()){const e=function(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e&&e.isSignedIn()){const{access_token:t,expires_at:n}=e.getAuthResponse();return{access_token:t,expires_at:n}}}();return e?e.access_token:void 0}}function Jf(e){let t;return t=function(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 31===t[0]&&139===t[1]}(e)?function(e){const t=ArrayBuffer.isView(e)?e:new Uint8Array(e);return 0!=(4&t[3])&&66===t[12]&&67===t[13]?Sf(t.buffer):kf.ungzip(t)}(e):new Uint8Array(e),"TextDecoder"in function(){if("undefined"!=typeof self)return self;return"undefined"!=typeof global?global:window}()?(new TextDecoder).decode(t):function(e){var t="",n=0;for(;n<e.length;){var r=e[n],i=0,a=0;if(r<=127?(i=0,a=255&r):r<=223?(i=1,a=31&r):r<=239?(i=2,a=15&r):r<=244&&(i=3,a=7&r),e.length-n-i>0)for(var o=0;o<i;)a=a<<6|63&(r=e[n+o+1]),o+=1;else a=65533,i=e.length-n;t+=String.fromCodePoint(a),n+=i+1}return t}(t)}var ed={color:1};ed.parent=ed,ed.left=ed,ed.right=ed;class td{constructor(){this.root=ed}insert(e,t,n){var r=new sd(new od(e,t,n));for(this.treeInsert(r),r.color=2;r!==this.root&&2===r.parent.color;)if(r.parent===r.parent.parent.left){let e=r.parent.parent.right;2===e.color?(r.parent.color=1,e.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,rd.call(this,r)),r.parent.color=1,r.parent.parent.color=2,id.call(this,r.parent.parent))}else{let e=r.parent.parent.left;2===e.color?(r.parent.color=1,e.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,id.call(this,r)),r.parent.color=1,r.parent.parent.color=2,rd.call(this,r.parent.parent))}this.root.color=1}findOverlapping(e,t){var n=new od(e,t,0);if(this.root===ed)return[];var r=nd.call(this,n,this.root,[]);return r.length>1&&r.sort((function(e,t){return e.low-t.low})),r}logIntervals(){!function e(t,n){for(var r="",i=0;i<n;i++)r+=" ";console.log(r+t.interval.low+" "+t.interval.high),n+=5,t.left!==ed&&e(t.left,n);t.right!==ed&&e(t.right,n)}(this.root,0)}mapIntervals(e){!function t(n){e(n.interval),n.left!==ed&&t(n.left);n.right!==ed&&t(n.right)}(this.root)}treeInsert(e){for(var t=this.root,n=ed;t!==ed;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===ed?(this.root=e,e.left=e.right=ed):e.interval.low<=n.interval.low?n.left=e:n.right=e,ad.call(this,e)}}function nd(e,t,n){return t.interval.overlaps(e)&&n.push(t.interval),t.left!==ed&&t.left.max>=e.low&&nd.call(this,e,t.left,n),t.right!==ed&&t.right.min<=e.high&&nd.call(this,e,t.right,n),n}function rd(e){var t=e.right;e.right=t.left,t.left!==ed&&(t.left.parent=e),t.parent=e.parent,e.parent===ed?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,ad.call(this,e)}function id(e){var t=e.left;e.left=t.right,t.right!==ed&&(t.right.parent=e),t.parent=e.parent,e.parent===ed?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,ad.call(this,e)}function ad(e){for(;e!==ed;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var r=e.left.min<e.right.min?e.left.min:e.right.min,i=e.interval.low;e.min=r<i?r:i,e=e.parent}}class od{constructor(e,t,n){this.low=e,this.high=t,this.value=n}equals(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)}compareTo(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0}overlaps(e){return this.low<=e.high&&e.low<=this.high}}function sd(e){this.parent=ed,this.left=ed,this.right=ed,this.interval=e,this.color=2}class cd{constructor(e,t,n){e=e||[],this.treeMap=this.buildTreeMap(e,t),this.range=n,this.count=e.length}containsRange(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)}queryFeatures(e,t,n){const r=this.treeMap[e];if(!r)return[];const i=r.findOverlapping(t,n);if(0===i.length)return[];{const r=[],a=this.allFeatures[e];if(a){for(let e of i){const i=e.value;for(let e=i.start;e<i.end;e++){let i=a[e];if(i.start>n)break;i.end>=t&&r.push(i)}}r.sort((function(e,t){return e.start-t.start}))}return r}}getAllFeatures(){return this.allFeatures}buildTreeMap(e,t){const n={},r=[];if(this.allFeatures={},e){for(let n of e){let e=n.chr;t&&(e=t.getChromosomeName(e));let i=this.allFeatures[e];i||(r.push(e),i=[],this.allFeatures[e]=i),i.push(n)}for(let e of r){const t=this.allFeatures[e];t.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1})),n[e]=ud(t)}}return n}}function ud(e){const t=new td,n=e.length,r=Math.max(10,Math.round(n/10));for(let i=0;i<n;i+=r){const a=Math.min(n,i+r),o=new ld(i,a),s=e[i].start;let c=s;for(let t=i;t<a;t++)c=Math.max(c,e[t].end);t.insert(s,c,o)}return t}class ld{constructor(e,t){this.start=e,this.end=t}}const hd=function(e,t,n){if(e&&0!==e.length){const r=function(e){const t=new td,n=e.length,r=Math.max(10,Math.round(n/100));e.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}));for(let i=0;i<n;i+=r){const a=Math.min(n,i+r),o=e.slice(i,a),s=o[0].start;let c=s;o.forEach((function(e){c=Math.max(c,e.end)})),t.insert(s,c,o)}return t}(e),i=r.findOverlapping(t,n);return 0===i.length?[]:(e=[],i.forEach((function(r){const i=r.value,a=i.length;for(let r=0;r<a;r++){const a=i[r];if(a.start>n)break;a.end>t&&e.push(a)}})),e.sort((function(e,t){return e.start-t.start})),e)}return[]};function fd(e,t){var n=Mc({class:"igv-menu-popup-check-container"}),r=Mc();n.appendChild(r);var i=Fc("check",!0===t?"#444":"transparent");r.appendChild(i);var a=Mc();return a.innerText=e,n.appendChild(a),n}var dd={trackMenuItemList:function(e){var t=new Set(["alignment","annotation","variant","eqtl","snp"]),n=e.track.config&&void 0!==e.track.config.visibilityWindow,r=[];return"sequence"!==e.track.config.type&&(r.push(function(e){var t=function(t){var n=function(){var t=e.browser.inputDialog.input.value;t=""===t||void 0===t?"untitled":t.trim(),e.track.name=t},r={label:"Track Name",value:gd(e.track)||"unnamed",callback:n};e.browser.inputDialog.present(r,t)},n=Lc("<div>");return n.text("Set track name"),{object:n,click:t}}(e)),r.push(function(e){var t=function(t){var n=function(){var t=parseFloat(e.browser.inputDialog.input.value,10);void 0!==t&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0),e.checkContentHeight(),e.repaintViews(),e.track.autoHeight=!1)},r={label:"Track Height",value:e.track.height,callback:n};e.browser.inputDialog.present(r,t)},n=Lc("<div>");return n.text("Set track height"),{object:n,click:t}}(e))),this.showColorPicker(e.track)&&(r.push("<hr/>"),r.push(pd({trackView:e,label:"Set track color",option:"color"})),r.push(function(e){var t=e.trackView,n=e.label,r=Lc("<div>");return r.text(n),{object:r,click:function(){t.track.color=void 0,t.repaintViews()}}}({trackView:e,label:"Unset track color"})),r.push(pd({trackView:e,label:"Set alt color",option:"altColor"}))),e.track.menuItemList&&(r=r.concat(e.track.menuItemList())),(n||t.has(e.track.type))&&(r.push("<hr/>"),r.push(function(e){var t=function(t){var n=function(){var t=e.browser.inputDialog.input.value;t=""===t||void 0===t?-1:t.trim(),e.track.visibilityWindow=Number.parseInt(t),e.track.config.visibilityWindow=Number.parseInt(t),e.updateViews()},r={label:"Visibility Window",value:e.track.visibilityWindow,callback:n};e.browser.inputDialog.present(r,t)},n=Lc("<div>");return n.text("Set visibility window"),{object:n,click:t}}(e))),!1!==e.track.removable&&(r.push("<hr/>"),r.push(function(e){var t=Lc("<div>");return t.text("Remove track"),{object:t,click:function(){return e.browser.removeTrack(e.track)}}}(e))),r},numericDataMenuItems:function(e){var t=[];t.push("<hr/>");var n=Lc("<div>");n.text("Set data range");return t.push({object:n,click:function(){e.browser.dataRangeDialog.configure(e),e.browser.dataRangeDialog.present(Lc(e.browser.columnContainer))}}),void 0!==e.track.logScale&&t.push({object:Lc(fd("Log scale",e.track.logScale)),click:function(){e.track.logScale=!e.track.logScale,e.repaintViews()}}),t.push({object:Lc(fd("Autoscale",e.track.autoscale)),click:function(){e.track.autoscale=!e.track.autoscale,e.updateViews()}}),t},trackMenuItemListHelper:function(e,t){var n=[];return e.length>0&&(n=e.map((function(e,n){var r;if(e.name?(r=Lc("<div>")).text(e.name):e.object?r=e.object:"string"==typeof e.label?(r=Lc("<div>")).html(e.label):"string"==typeof e&&(r=e.startsWith("<")?Lc(e):Lc("<div>"+e+"</div>")),0===n&&r.addClass("igv-track-menu-border-top"),e.click){function n(n){e.click(n),t.hide(),n.preventDefault(),n.stopPropagation()}r.on("click",n),r.on("touchend",(function(e){n(e)})),r.on("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}return{object:r,init:e.init||void 0}}))),n},showColorPicker:function(e){return void 0===e.type||"bedtype"===e.type||"alignment"===e.type||"annotation"===e.type||"variant"===e.type||"wig"===e.type},createMenuItem:function(e,t){var n=Lc("<div>");return n.text(e),{object:n,click:t}}};function pd(e){var t=e.trackView,n=e.label,r=e.option,i=Lc("<div>");return i.text(n),{object:i,click:function(){return t.presentColorPicker(r)}}}function gd(e){return e.trackView.viewports[0].$trackLabel.text()}function vd(e){return function(e,t){const n=document.createElement(e);t&&(t.class&&n.classList.add(t.class),t.id&&(n.id=t.id),t.style&&function(e,t){for(let n of Object.keys(t))e.style[n]=t[n]}(n,t.style));return n}("div",e)}function md(e){const t=getComputedStyle(e);"none"!==t.display&&(e._initialDisplay=t.display),e.style.display="none"}function yd(e){if("none"===getComputedStyle(e).display){const t=e._initialDisplay||"block";e.style.display=t}}function bd(e,t){t=t||"currentColor";let n=wd[e];n||(console.error(`No icon named: ${e}`),n=wd.question);const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"viewBox","0 0 "+n[0]+" "+n[1]);const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"fill",t),i.setAttributeNS(null,"d",n[4]),r.appendChild(i),r}const wd={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]};function xd(e,t){var n,r=document.createElement("div");e.appendChild(r),r.appendChild(bd("times",n)),r.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))}let kd;function _d(e,t){t.addEventListener("mousedown",Sd.bind(e))}function Sd(e){e.stopPropagation(),e.preventDefault(),function(e){if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;t.top,n.pageYOffset,t.left,n.pageXOffset}(this);const t=Cd.bind(this),n=Ed.bind(this),r=getComputedStyle(this),i=parseInt(r.top.replace("px","")),a=parseInt(r.left.replace("px",""));kd={dragFunction:t,dragEndFunction:n,screenX:e.screenX,screenY:e.screenY,top:i,left:a},document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("mouseexit",n)}function Cd(e){if(!kd)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=e.screenX-kd.screenX,n=e.screenY-kd.screenY;this.style.left=`${kd.left+t}px`,this.style.top=`${kd.top+n}px`}function Ed(e){if(!kd)return void console.log("No drag data!");e.stopPropagation(),e.preventDefault();const t=kd.dragFunction,n=kd.dragEndFunction;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),document.removeEventListener("mouseleave",n),document.removeEventListener("mouseexit",n),kd=void 0}const Ad={401:"Access unauthorized",403:"Access forbidden",404:"Not found"};class Rd{constructor(e){this.container=vd({class:"igv-ui-alert-dialog-container"}),e.appendChild(this.container),this.container.setAttribute("tabIndex","-1");const t=vd();this.container.appendChild(t),this.errorHeadline=vd(),t.appendChild(this.errorHeadline),this.errorHeadline.textContent="";let n=vd({id:"igv-ui-alert-dialog-body"});this.container.appendChild(n),this.body=vd({id:"igv-ui-alert-dialog-body-copy"}),n.appendChild(this.body);let r=vd();this.container.appendChild(r),this.ok=vd(),r.appendChild(this.ok),this.ok.textContent="OK";const i=()=>{"function"==typeof this.callback&&(this.callback("OK"),this.callback=void 0),this.body.innerHTML="",md(this.container)};this.ok.addEventListener("click",(e=>{e.stopPropagation(),i()})),this.container.addEventListener("keypress",(e=>{e.stopPropagation(),"Enter"===e.key&&i()})),_d(this.container,t),md(this.container)}present(e,t){this.errorHeadline.textContent=e.message?"ERROR":"";let n=e.message||e;Ad.hasOwnProperty(n)&&(n=Ad[n]),this.body.innerHTML=n,this.callback=t,yd(this.container),this.container.focus()}}let Td;const Ld={init(e){Td||(Td=new Rd(e))},presentAlert(e,t){Td||this.init(document.body),Td.present(e,t)}};class Md{constructor(e){this.parent=e,this.container=vd({class:"igv-ui-generic-dialog-container"}),e.appendChild(this.container);const t=vd({class:"igv-ui-generic-dialog-header"});this.container.appendChild(t),this.label=vd({class:"igv-ui-generic-dialog-one-liner"}),this.container.appendChild(this.label),this.label.text="Unlabeled",this.input_container=vd({class:"igv-ui-generic-dialog-input"}),this.container.appendChild(this.input_container),this.input=document.createElement("input"),this.input_container.appendChild(this.input);const n=vd({class:"igv-ui-generic-dialog-ok-cancel"});this.container.appendChild(n),this.ok=vd(),n.appendChild(this.ok),this.ok.textContent="OK",this.cancel=vd(),n.appendChild(this.cancel),this.cancel.textContent="Cancel",md(this.container),this.input.addEventListener("keyup",(e=>{13===e.keyCode&&("function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,md(this.container))})),this.ok.addEventListener("click",(()=>{"function"==typeof this.callback&&(this.callback(this.input.value),this.callback=void 0),this.input.value=void 0,md(this.container)}));const r=()=>{this.input.value="",md(this.container)};this.cancel.addEventListener("click",r),xd(t,r),_d(this.container,t)}present(e,t){this.label.textContent=e.label,this.input.value=e.value,this.callback=e.callback||e.click,yd(this.container);const{x:n,y:r}=function(e){if(e.type.startsWith("touch")){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}(t);this.clampLocation(n,r)}clampLocation(e,t){const{width:n,height:r}=this.container.getBoundingClientRect();console.log(`InputDialog - clampLocation() - width ${n} height ${r}`);const{x:i,y:a,width:o,height:s}=this.parent.getBoundingClientRect(),c=Math.min(Math.max(t,a),a+s-r),u=Math.min(Math.max(e,i),i+o-n);this.container.style.left=`${u}px`,this.container.style.top=`${c}px`}}const Id={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"#ffffff",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"};class Od{constructor({parent:e,top:t,left:n,width:r,height:i,border:a,closeHandler:o}){let s=vd({class:"igv-ui-generic-container"});e.appendChild(s),md(s),this.container=s,void 0!==t&&(this.container.style.top=`${t}px`),void 0!==n&&(this.container.style.left=`${n}px`),void 0!==r&&(this.container.style.width=`${r}px`),void 0!==i&&(this.container.style.height=`${i}px`),a&&(this.container.style.border=a);const c=vd();this.container.appendChild(c),xd(c,(e=>{md(this.container),"function"==typeof o&&o(e)})),_d(this.container,c)}show(){yd(this.container)}hide(){md(this.container)}dispose(){this.container.parent&&this.container.parent.removeChild(this.container)}}class Pd extends Od{constructor({parent:e,top:t,left:n,width:r,height:i,defaultColors:a,colorHandler:o}){super({parent:e,top:t,left:n,width:r,height:i,border:"1px solid gray"}),Nd(this.container,o,a)}}const Nd=(e,t,n)=>{const r=Object.values(Id);for(let n of r){const r=vd({class:"igv-ui-color-swatch"});e.appendChild(r),Fd(r,n,t)}if(n)for(let r of n){const n=vd({class:"igv-ui-color-swatch"});e.appendChild(n),Fd(n,r,t)}},Fd=(e,t,n)=>{e.style.backgroundColor=t,e.addEventListener("mouseenter",(n=>e.style.borderColor=t)),e.addEventListener("mouseleave",(t=>e.style.borderColor="white")),e.addEventListener("click",(e=>{e.stopPropagation(),n(t)})),e.addEventListener("touchend",(e=>{e.stopPropagation(),n(t)}))};class Dd{constructor(e,t){this.parent=e,this.popover=vd({class:"igv-ui-popover"}),e.appendChild(this.popover);const n=vd();this.popover.appendChild(n);const r=vd();n.appendChild(r),t&&(r.textContent=t),xd(n,(()=>this.hide())),_d(this.popover,n),this.popoverContent=vd(),this.popover.appendChild(this.popoverContent),this.popover.style.display="none"}presentContentWithEvent(e,t){this.popover.style.display="block",this.popoverContent.innerHTML=t,Bd(e,this.popover)}presentMenu(e,t){if(0===t.length)return;this.popover.style.display="block";const n=function(e,t){const n=e.map((function(e,n){let r;if("string"==typeof e)r=vd(),r.innerHTML=e;else if("Node"==typeof e)r=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)r=function(e,t){const n=vd({class:"igv-ui-trackgear-popover-check-container"}),r=bd("check",!0===t?"#444":"transparent");r.style.borderColor="gray",r.style.borderWidth="1px",r.style.borderStyle="solid",n.appendChild(r);let i=vd();return i.textContent=e,n.appendChild(i),n}("Show all bases",e.value);else if("color"===e.type){const n=new Pd({parent:t.parentElement,width:364,colorHandler:t=>e.click(t)});r=vd(),"string"==typeof e.label&&(r.innerHTML=e.label);const i=e=>{n.show(),md(t),e.preventDefault(),e.stopPropagation()};r.addEventListener("click",i),r.addEventListener("touchend",i),r.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}else r=vd(),"string"==typeof e.label&&(r.innerHTML=e.label);if(e.click&&"color"!==e.type){function n(n){e.click(),md(t),n.preventDefault(),n.stopPropagation()}r.addEventListener("click",n),r.addEventListener("touchend",n),r.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}}return{object:r,init:e.init}}));return n}(t,this.popover);for(let e of n)this.popoverContent.appendChild(e.object);Bd(e,this.popover)}hide(){this.popover.style.display="none",this.dispose()}dispose(){this.popover&&this.popover.parentNode.removeChild(this.popover);const e=Object.keys(this);for(let t of e)this[t]=void 0}}function Bd(e,t){const{x:n,y:r}=function(e,t){const{clientX:n,clientY:r}=e;return((e,{clientX:t,clientY:n})=>{const{left:r,top:i,width:a,height:o}=e.getBoundingClientRect(),s=t-r,c=n-i;return{x:s,y:c,xNormalized:s/a,yNormalized:c/o,width:a,height:o}})(t,{clientX:n,clientY:r})}(e,t.parentNode),{width:i}=t.parentNode.getBoundingClientRect(),{width:a}=t.getBoundingClientRect(),o=n+a;console.log(`popover-parent width ${i}. popover x ${n} width ${a} xmax ${o}.`),t.style.left=`${o>i?n-(o-i):n}px`,t.style.top=`${r}px`}if("undefined"!=typeof document){function e(e){for(let t of document.styleSheets)if(t=t.href?t.href.replace(/^.*[\\\/]/,""):"",t===e)return!0;return!1}e("igv-ui.css")||((zd=document.createElement("style")).setAttribute("type","text/css"),zd.innerHTML='.igv-ui-popover {\n  cursor: default;\n  position: absolute;\n  z-index: 2048;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  background-color: white; }\n  .igv-ui-popover > div:first-child {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-popover > div:first-child > div:first-child {\n      margin-left: 4px; }\n    .igv-ui-popover > div:first-child > div:last-child {\n      margin-right: 4px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-popover > div:first-child > div:last-child:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-popover > div:last-child {\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 400px;\n    max-width: 1500px;\n    background-color: white; }\n    .igv-ui-popover > div:last-child > div {\n      -webkit-user-select: all;\n      /* Chrome/Safari */\n      -moz-user-select: all;\n      /* Firefox */\n      margin-left: 4px;\n      margin-right: 4px;\n      min-width: 220px;\n      overflow-x: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n      .igv-ui-popover > div:last-child > div > span {\n        font-weight: bolder; }\n    .igv-ui-popover > div:last-child hr {\n      width: 100%; }\n\n.igv-ui-alert-dialog-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  top: 50%;\n  left: 50%;\n  width: 400px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  outline: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center; }\n  .igv-ui-alert-dialog-container > div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-alert-dialog-container > div:first-child div:first-child {\n      padding-left: 8px; }\n  .igv-ui-alert-dialog-container #igv-ui-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-ui-alert-dialog-container #igv-ui-alert-dialog-body #igv-ui-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-ui-alert-dialog-container > div:last-child {\n    width: 100%;\n    margin-bottom: 10px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-ui-alert-dialog-container > div:last-child div {\n      margin: unset;\n      width: 40px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: small;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-alert-dialog-container > div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-ui-color-swatch {\n  position: relative;\n  box-sizing: content-box;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-ui-color-swatch:hover {\n  border-color: dimgray; }\n\n.igv-ui-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-ui-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-ui-colorpicker-menu-close-button i.fa:hover,\n  .igv-ui-colorpicker-menu-close-button i.fa:focus,\n  .igv-ui-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-ui-generic-dialog-container {\n  box-sizing: content-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-generic-dialog-container .igv-ui-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-ui-generic-container {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ui-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-ui-generic-container div:first-child div {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-ui-dialog {\n  z-index: 2048;\n  position: fixed;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400; }\n  .igv-ui-dialog .igv-ui-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-ui-dialog .igv-ui-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-ui-dialog .igv-ui-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-ui-dialog .igv-ui-dialog-one-liner {\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin: 8px;\n    overflow-wrap: break-word;\n    background-color: white;\n    font-weight: bold; }\n  .igv-ui-dialog .igv-ui-dialog-ok-cancel {\n    width: 100%;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div {\n      margin: 16px;\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child {\n      background-color: #5ea4e0; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child {\n      background-color: #c4c4c4; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-ui-dialog .igv-ui-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-ui-dialog .igv-ui-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-ui-dialog .igv-ui-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-ui-dialog .igv-ui-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-ui-panel, .igv-ui-panel-column, .igv-ui-panel-row {\n  z-index: 2048;\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n.igv-ui-panel-column {\n  display: flex;\n  flex-direction: column; }\n\n.igv-ui-panel-row {\n  display: flex;\n  flex-direction: row; }\n\n.igv-ui-textbox {\n  background-color: white;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start; }\n\n/*# sourceMappingURL=igv-ui.css.map */\n',document.head.insertBefore(zd,document.head.childNodes[document.head.childNodes.length-1]))}var zd,Hd=function(){function e(t,n){var r=this;eo(this,e),this.$container=Lc("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0});var i=Lc("<div>",{class:"igv-generic-dialog-header"});this.$container.append(i),Bc(i[0],(function(){r.$minimum_input.val(void 0),r.$maximum_input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),this.$minimum=Lc("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum);var a=Lc("<div>");a.text("Minimum"),this.$minimum.append(a),this.$minimum_input=Lc("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=Lc("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum);var o=Lc("<div>");o.text("Maximum"),this.$maximum.append(o),this.$maximum_input=Lc("<input>"),this.$maximum.append(this.$maximum_input);var s=Lc("<div>",{class:"igv-generic-dialog-ok-cancel"});this.$container.append(s),this.$ok=Lc("<div>"),s.append(this.$ok),this.$ok.text("OK"),this.$cancel=Lc("<div>"),s.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){r.$minimum_input.val(void 0),r.$maximum_input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),Df(this.$container.get(0),i.get(0)),this.$container.hide()}return no(e,[{key:"configure",value:function(e){var t,n,r=this,i=e.dataRange();i?(t=i.min,n=i.max):(t=0,n=100),this.$minimum_input.val(t),this.$maximum_input.val(n),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",(function(t){13===t.keyCode&&r.processResults(e)})),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",(function(t){13===t.keyCode&&r.processResults(e)})),this.$ok.unbind(),this.$ok.on("click",(function(t){r.processResults(e)}))}},{key:"processResults",value:function(e){var t=parseFloat(this.$minimum_input.val()),n=parseFloat(this.$maximum_input.val());isNaN(t)||isNaN(n)?Ld.presentAlert(new Error("Must input numeric values"),void 0):e.setDataRange(t,n),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}},{key:"present",value:function(e){var t=e.offset().top,n=Lc("body").scrollTop();this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()}}]),e}(),jd=function(e){for(var t=Ne(this),n=he(t.length),r=arguments.length,i=pe(r>1?arguments[1]:void 0,n),a=r>2?arguments[2]:void 0,o=void 0===a?n:pe(a,n);o>i;)t[i++]=e;return t};Oe({target:"Array",proto:!0},{fill:jd}),yt("fill");var Vd={configureHighDPICanvas:function(e,t,n){var r=window.devicePixelRatio;e.canvas.style.width="".concat(t,"px"),e.canvas.width=Math.floor(r*t),e.canvas.style.height="".concat(n,"px"),e.canvas.height=Math.floor(r*n),e.scale(r,r)},setProperties:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]=r}},strokeLine:function(e,t,n,r,i,a){t=Math.floor(t)+.5,n=Math.floor(n)+.5,r=Math.floor(r)+.5,i=Math.floor(i)+.5,a&&(e.save(),Vd.setProperties(e,a)),e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),a&&e.restore()},fillRect:function(e,t,n,r,i,a){t=Math.round(t),n=Math.round(n),a&&(e.save(),Vd.setProperties(e,a)),e.fillRect(t,n,r,i),a&&e.restore()},fillPolygon:function(e,t,n,r){r&&(e.save(),Vd.setProperties(e,r)),Ud(e,t,n),e.fill(),r&&e.restore()},strokePolygon:function(e,t,n,r){r&&(e.save(),Vd.setProperties(e,r)),Ud(e,t,n),e.stroke(),r&&e.restore()},fillText:function(e,t,n,r,i,a){if((i||a)&&e.save(),i&&Vd.setProperties(e,i),a){for(var o in e.translate(n,r),a){var s=a[o];"translate"===o&&e.translate(s.x,s.y),"rotate"===o&&e.rotate(s.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,r);(i||a)&&e.restore()},strokeText:function(e,t,n,r,i,a){if((i||a)&&e.save(),i&&Vd.setProperties(e,i),a){for(var o in e.translate(n,r),a){var s=a[o];"translate"===o&&e.translate(s.x,s.y),"rotate"===o&&e.rotate(s.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,r);(i||a)&&e.restore()},strokeCircle:function(e,t,n,r,i){i&&(e.save(),Vd.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.stroke(),i&&e.restore()},fillCircle:function(e,t,n,r,i){i&&(e.save(),Vd.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.restore()},drawArrowhead:function(e,t,n,r,i){e.save(),r||(r=5),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t,n-r/2),e.lineTo(t,n+r/2),e.lineTo(t+r,n),e.lineTo(t,n-r/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};void 0===a&&(a=2),e.setLineDash([a,a]),Vd.strokeLine(e,t,n,r,i,o),e.setLineDash([])},roundRect:function(e,t,n,r,i,a,o,s){void 0===s&&(s=!0),void 0===a&&(a=5),e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),s&&e.stroke(),o&&e.fill()},polygon:function(e,t,n,r,i){void 0===i&&(i=!0),e.beginPath();var a=t.length;e.moveTo(t[0],n[0]);for(var o=1;o<a;o++)e.lineTo(t[o],n[o]);e.closePath(),i&&e.stroke(),r&&e.fill()}};function Ud(e,t,n){var r,i=t.length;for(r=0;r<i;r++)t[r]=Math.round(t[r]),n[r]=Math.round(n[r]);for(e.beginPath(),e.moveTo(t[0],n[0]),r=1;r<i;r++)e.lineTo(t[r],n[r]);e.closePath()}var qd=Math.min,Wd=[].lastIndexOf,Gd=!!Wd&&1/[1].lastIndexOf(1,-0)<0,$d=Pi("lastIndexOf"),Zd=en("indexOf",{ACCESSORS:!0,1:0}),Yd=Gd||!$d||!Zd?function(e){if(Gd)return Wd.apply(this,arguments)||0;var t=v(this),n=he(t.length),r=n-1;for(arguments.length>1&&(r=qd(r,ue(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:Wd;Oe({target:"Array",proto:!0,forced:Yd!==[].lastIndexOf},{lastIndexOf:Yd});var Xd=E.f,Kd="".endsWith,Qd=Math.min,Jd=xr("endsWith"),ep=!Jd&&!!function(){var e=Xd(String.prototype,"endsWith");return e&&!e.writable}();Oe({target:"String",proto:!0,forced:!ep&&!Jd},{endsWith:function(e){var t=String(g(this));br(e);var n=arguments.length>1?arguments[1]:void 0,r=he(t.length),i=void 0===n?r:Qd(he(n),r),a=String(e);return Kd?Kd.call(t,a,i):t.slice(i-a.length,i)===a}}),t((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new R(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return L()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&r.call(x,a)&&(b=x);var k=y.prototype=v.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:L}}function L(){return{value:t,done:!0}}return m.prototype=k.constructor=y,y.constructor=m,m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},_(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(k),c(k,s,"Generator"),k[a]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var tp=Xt.forEach,np=Pi("forEach"),rp=en("forEach"),ip=np&&rp?[].forEach:function(e){return tp(this,e,arguments.length>1?arguments[1]:void 0)};Oe({target:"Array",proto:!0,forced:[].forEach!=ip},{forEach:ip}),Oe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var ap=u.f,op=function(e){return function(t){for(var n,r=v(t),i=at(r),o=i.length,s=0,c=[];o>s;)n=i[s++],a&&!ap.call(r,n)||c.push(e?[n,r[n]]:r[n]);return c}},sp={entries:op(!0),values:op(!1)},cp=sp.entries;Oe({target:"Object",stat:!0},{entries:function(e){return cp(e)}});var up=zr.f,lp=i((function(){return!Object.getOwnPropertyNames(1)}));Oe({target:"Object",stat:!0,forced:lp},{getOwnPropertyNames:up});var hp=i((function(){at(1)}));Oe({target:"Object",stat:!0,forced:hp},{keys:function(e){return at(Ne(e))}});var fp,dp,pp,gp=r.Promise,vp=/(iphone|ipod|ipad).*applewebkit/i.test(We),mp=r.location,yp=r.setImmediate,bp=r.clearImmediate,wp=r.process,xp=r.MessageChannel,kp=r.Dispatch,_p=0,Sp={},Cp="onreadystatechange",Ep=function(e){if(Sp.hasOwnProperty(e)){var t=Sp[e];delete Sp[e],t()}},Ap=function(e){return function(){Ep(e)}},Rp=function(e){Ep(e.data)},Tp=function(e){r.postMessage(e+"",mp.protocol+"//"+mp.host)};yp&&bp||(yp=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Sp[++_p]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},fp(_p),_p},bp=function(e){delete Sp[e]},"process"==f(wp)?fp=function(e){wp.nextTick(Ap(e))}:kp&&kp.now?fp=function(e){kp.now(Ap(e))}:xp&&!vp?(pp=(dp=new xp).port2,dp.port1.onmessage=Rp,fp=$t(pp.postMessage,pp,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(Tp)||"file:"===mp.protocol?fp=Cp in _("script")?function(e){st.appendChild(_("script")).onreadystatechange=function(){st.removeChild(this),Ep(e)}}:function(e){setTimeout(Ap(e),0)}:(fp=Tp,r.addEventListener("message",Rp,!1)));var Lp,Mp,Ip,Op,Pp,Np,Fp,Dp,Bp={set:yp,clear:bp},zp=E.f,Hp=Bp.set,jp=r.MutationObserver||r.WebKitMutationObserver,Vp=r.process,Up=r.Promise,qp="process"==f(Vp),Wp=zp(r,"queueMicrotask"),Gp=Wp&&Wp.value;Gp||(Lp=function(){var e,t;for(qp&&(e=Vp.domain)&&e.exit();Mp;){t=Mp.fn,Mp=Mp.next;try{t()}catch(e){throw Mp?Op():Ip=void 0,e}}Ip=void 0,e&&e.enter()},qp?Op=function(){Vp.nextTick(Lp)}:jp&&!vp?(Pp=!0,Np=document.createTextNode(""),new jp(Lp).observe(Np,{characterData:!0}),Op=function(){Np.data=Pp=!Pp}):Up&&Up.resolve?(Fp=Up.resolve(void 0),Dp=Fp.then,Op=function(){Dp.call(Fp,Lp)}):Op=function(){Hp.call(r,Lp)});var $p,Zp,Yp,Xp,Kp=Gp||function(e){var t={fn:e,next:void 0};Ip&&(Ip.next=t),Mp||(Mp=t,Op()),Ip=t},Qp=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Gt(t),this.reject=Gt(n)},Jp={f:function(e){return new Qp(e)}},eg=function(e,t){if(A(e),m(t)&&t.constructor===e)return t;var n=Jp.f(e);return(0,n.resolve)(t),n.promise},tg=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ng=Bp.set,rg=Ve("species"),ig="Promise",ag=ne.get,og=ne.set,sg=ne.getterFor(ig),cg=gp,ug=r.TypeError,lg=r.document,hg=r.process,fg=oe("fetch"),dg=Jp.f,pg=dg,gg="process"==f(hg),vg=!!(lg&&lg.createEvent&&r.dispatchEvent),mg="unhandledrejection",yg=Me(ig,(function(){if(!(B(cg)!==String(cg))){if(66===Ye)return!0;if(!gg&&"function"!=typeof PromiseRejectionEvent)return!0}if(Ye>=51&&/native code/.test(cg))return!1;var e=cg.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[rg]=t,!(e.then((function(){}))instanceof t)})),bg=yg||!er((function(e){cg.all(e).catch((function(){}))})),wg=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},xg=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;Kp((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,c,u,l=r[o++],h=a?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{h?(a||(2===t.rejection&&Cg(e,t),t.rejection=1),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),u=!0)),s===l.promise?d(ug("Promise-chain cycle")):(c=wg(s))?c.call(s,f,d):f(s)):d(i)}catch(e){p&&!u&&p.exit(),d(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&_g(e,t)}))}},kg=function(e,t,n){var i,a;vg?((i=lg.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),r.dispatchEvent(i)):i={promise:t,reason:n},(a=r["on"+e])?a(i):e===mg&&function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},_g=function(e,t){ng.call(r,(function(){var n,r=t.value;if(Sg(t)&&(n=tg((function(){gg?hg.emit("unhandledRejection",r,e):kg(mg,e,r)})),t.rejection=gg||Sg(t)?2:1,n.error))throw n.value}))},Sg=function(e){return 1!==e.rejection&&!e.parent},Cg=function(e,t){ng.call(r,(function(){gg?hg.emit("rejectionHandled",e):kg("rejectionhandled",e,t.value)}))},Eg=function(e,t,n,r){return function(i){e(t,n,i,r)}},Ag=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,xg(e,t,!0))},Rg=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw ug("Promise can't be resolved itself");var i=wg(n);i?Kp((function(){var r={done:!1};try{i.call(n,Eg(Rg,e,r,t),Eg(Ag,e,r,t))}catch(n){Ag(e,r,n,t)}})):(t.value=n,t.state=1,xg(e,t,!1))}catch(n){Ag(e,{done:!1},n,t)}}};yg&&(cg=function(e){Yn(this,cg,ig),Gt(e),$p.call(this);var t=ag(this);try{e(Eg(Rg,this,t),Eg(Ag,this,t))}catch(e){Ag(this,t,e)}},($p=function(e){og(this,{type:ig,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=nr(cg.prototype,{then:function(e,t){var n=sg(this),r=dg(Ga(this,cg));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=gg?hg.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&xg(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Zp=function(){var e=new $p,t=ag(e);this.promise=e,this.resolve=Eg(Rg,e,t),this.reject=Eg(Ag,e,t)},Jp.f=dg=function(e){return e===cg||e===Yp?new Zp(e):pg(e)},"function"==typeof gp&&(Xp=gp.prototype.then,re(gp.prototype,"then",(function(e,t){var n=this;return new cg((function(e,t){Xp.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof fg&&Oe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return eg(cg,fg.apply(r,arguments))}}))),Oe({global:!0,wrap:!0,forced:yg},{Promise:cg}),Tt(cg,ig,!1),ir(ig),Yp=oe(ig),Oe({target:ig,stat:!0,forced:yg},{reject:function(e){var t=dg(this);return t.reject.call(void 0,e),t.promise}}),Oe({target:ig,stat:!0,forced:yg},{resolve:function(e){return eg(this,e)}}),Oe({target:ig,stat:!0,forced:bg},{all:function(e){var t=this,n=dg(t),r=n.resolve,i=n.reject,a=tg((function(){var n=Gt(t.resolve),a=[],o=0,s=1;Zn(e,(function(e){var c=o++,u=!1;a.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,a[c]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=dg(t),r=n.reject,i=tg((function(){var i=Gt(t.resolve);Zn(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Tg=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};for(var Lg in Fa("search",1,(function(e,t,n){return[function(t){var n=g(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=A(e),a=String(this),o=i.lastIndex;Tg(o,0)||(i.lastIndex=0);var s=za(i,a);return Tg(i.lastIndex,o)||(i.lastIndex=o),null===s?-1:s.index}]})),Rr){var Mg=r[Lg],Ig=Mg&&Mg.prototype;if(Ig&&Ig.forEach!==ip)try{L(Ig,"forEach",ip)}catch(e){Ig.forEach=ip}}var Og=Ve("iterator"),Pg=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Og]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Ng=Object.assign,Fg=Object.defineProperty,Dg=!Ng||i((function(){if(a&&1!==Ng({b:1},Ng(Fg({},"a",{enumerable:!0,get:function(){Fg(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Ng({},e)[n]||at(Ng({},t)).join("")!=r}))?function(e,t){for(var n=Ne(e),r=arguments.length,i=1,o=ke.f,s=u.f;r>i;)for(var c,l=p(arguments[i++]),h=o?at(l).concat(o(l)):at(l),f=h.length,d=0;f>d;)c=h[d++],a&&!s.call(l,c)||(n[c]=l[c]);return n}:Ng,Bg=function(e){var t,n,r,i,a,o,s=Ne(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=Gn(s),d=0;if(h&&(l=$t(l,u>2?arguments[2]:void 0,2)),null==f||c==Array&&qn(f))for(n=new c(t=he(s.length));t>d;d++)o=h?l(s[d],d):s[d],Fe(n,d,o);else for(a=(i=f.call(s)).next,n=new c;!(r=a.call(i)).done;d++)o=h?$n(i,l,[r.value,d],!0):r.value,Fe(n,d,o);return n.length=d,n},zg=2147483647,Hg=/[^\0-\u007E]/,jg=/[.\u3002\uFF0E\uFF61]/g,Vg="Overflow: input needs wider integers to process",Ug=Math.floor,qg=String.fromCharCode,Wg=function(e){return e+22+75*(e<26)},Gg=function(e,t,n){var r=0;for(e=n?Ug(e/700):e>>1,e+=Ug(e/t);e>455;r+=36)e=Ug(e/35);return Ug(r+36*e/(e+38))},$g=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var n,r,i=e.length,a=128,o=0,s=72;for(n=0;n<e.length;n++)(r=e[n])<128&&t.push(qg(r));var c=t.length,u=c;for(c&&t.push("-");u<i;){var l=zg;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<l&&(l=r);var h=u+1;if(l-a>Ug((zg-o)/h))throw RangeError(Vg);for(o+=(l-a)*h,a=l,n=0;n<e.length;n++){if((r=e[n])<a&&++o>zg)throw RangeError(Vg);if(r==a){for(var f=o,d=36;;d+=36){var p=d<=s?1:d>=s+26?26:d-s;if(f<p)break;var g=f-p,v=36-p;t.push(qg(Wg(p+g%v))),f=Ug(g/v)}t.push(qg(Wg(f))),s=Gg(o,h,u==c),o=0,++u}}++o,++a}return t.join("")},Zg=function(e){var t=Gn(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return A(t.call(e))},Yg=oe("fetch"),Xg=oe("Headers"),Kg=Ve("iterator"),Qg="URLSearchParams",Jg="URLSearchParamsIterator",ev=ne.set,tv=ne.getterFor(Qg),nv=ne.getterFor(Jg),rv=/\+/g,iv=Array(4),av=function(e){return iv[e-1]||(iv[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},ov=function(e){try{return decodeURIComponent(e)}catch(t){return e}},sv=function(e){var t=e.replace(rv," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(av(n--),ov);return t}},cv=/[!'()~]|%20/g,uv={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},lv=function(e){return uv[e]},hv=function(e){return encodeURIComponent(e).replace(cv,lv)},fv=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:sv(r.shift()),value:sv(r.join("="))}))},dv=function(e){this.entries.length=0,fv(this.entries,e)},pv=function(e,t){if(e<t)throw TypeError("Not enough arguments")},gv=It((function(e,t){ev(this,{type:Jg,iterator:Zg(tv(e).entries),kind:t})}),"Iterator",(function(){var e=nv(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),vv=function(){Yn(this,vv,Qg);var e,t,n,r,i,a,o,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(ev(l,{type:Qg,entries:h,updateURL:function(){},updateSearchParams:dv}),void 0!==u)if(m(u))if("function"==typeof(e=Gn(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((o=(a=(i=Zg(A(r.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(c in u)w(u,c)&&h.push({key:c,value:u[c]+""});else fv(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},mv=vv.prototype;nr(mv,{append:function(e,t){pv(arguments.length,2);var n=tv(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){pv(arguments.length,1);for(var t=tv(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){pv(arguments.length,1);for(var t=tv(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){pv(arguments.length,1);for(var t=tv(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){pv(arguments.length,1);for(var t=tv(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){pv(arguments.length,1);for(var n,r=tv(this),i=r.entries,a=!1,o=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===o&&(a?i.splice(c--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=tv(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=tv(this).entries,r=$t(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new gv(this,"keys")},values:function(){return new gv(this,"values")},entries:function(){return new gv(this,"entries")}},{enumerable:!0}),re(mv,Kg,mv.entries),re(mv,"toString",(function(){for(var e,t=tv(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(hv(e.key)+"="+hv(e.value));return n.join("&")}),{enumerable:!0}),Tt(vv,Qg),Oe({global:!0,forced:!Pg},{URLSearchParams:vv}),Pg||"function"!=typeof Yg||"function"!=typeof Xg||Oe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,Bn(n)===Qg&&((r=t.headers?new Xg(t.headers):new Xg).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=ft(t,{body:l(0,String(n)),headers:l(0,r)}))),i.push(t)),Yg.apply(this,i)}});var yv,bv={URLSearchParams:vv,getState:tv},wv=hr.codeAt,xv=r.URL,kv=bv.URLSearchParams,_v=bv.getState,Sv=ne.set,Cv=ne.getterFor("URL"),Ev=Math.floor,Av=Math.pow,Rv="Invalid scheme",Tv="Invalid host",Lv="Invalid port",Mv=/[A-Za-z]/,Iv=/[\d+-.A-Za-z]/,Ov=/\d/,Pv=/^(0x|0X)/,Nv=/^[0-7]+$/,Fv=/^\d+$/,Dv=/^[\dA-Fa-f]+$/,Bv=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,zv=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Hv=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,jv=/[\u0009\u000A\u000D]/g,Vv=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return Tv;if(!(n=qv(t.slice(1,-1))))return Tv;e.host=n}else if(Qv(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(jg,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(Hg.test(n)?"xn--"+$g(n):n);return r.join(".")}(t),Bv.test(t))return Tv;if(null===(n=Uv(t)))return Tv;e.host=n}else{if(zv.test(t))return Tv;for(n="",r=Bg(t),i=0;i<r.length;i++)n+=Xv(r[i],Gv);e.host=n}},Uv=function(e){var t,n,r,i,a,o,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=Pv.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?Fv:8==a?Nv:Dv).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=Av(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Av(256,3-r);return s},qv=function(e){var t,n,r,i,a,o,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,f=function(){return e.charAt(h)};if(":"==f()){if(":"!=e.charAt(1))return;h+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=n=0;n<4&&Dv.test(f());)t=16*t+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!Ov.test(f()))return;for(;Ov.test(f());){if(a=parseInt(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(o=u-l,u=7;0!=u&&o>0;)s=c[u],c[u--]=c[l+o-1],c[l+--o]=s;else if(8!=u)return;return c},Wv=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Ev(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Gv={},$v=Dg({},Gv,{" ":1,'"':1,"<":1,">":1,"`":1}),Zv=Dg({},$v,{"#":1,"?":1,"{":1,"}":1}),Yv=Dg({},Zv,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Xv=function(e,t){var n=wv(e,0);return n>32&&n<127&&!w(t,e)?e:encodeURIComponent(e)},Kv={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Qv=function(e){return w(Kv,e.scheme)},Jv=function(e){return""!=e.username||""!=e.password},em=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},tm=function(e,t){var n;return 2==e.length&&Mv.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},nm=function(e){var t;return e.length>1&&tm(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},rm=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&tm(t[0],!0)||t.pop()},im=function(e){return"."===e||"%2e"===e.toLowerCase()},am={},om={},sm={},cm={},um={},lm={},hm={},fm={},dm={},pm={},gm={},vm={},mm={},ym={},bm={},wm={},xm={},km={},_m={},Sm={},Cm={},Em=function(e,t,n,r){var i,a,o,s,c,u=n||am,l=0,h="",f=!1,d=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Hv,"")),t=t.replace(jv,""),i=Bg(t);l<=i.length;){switch(a=i[l],u){case am:if(!a||!Mv.test(a)){if(n)return Rv;u=sm;continue}h+=a.toLowerCase(),u=om;break;case om:if(a&&(Iv.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return Rv;h="",u=sm,l=0;continue}if(n&&(Qv(e)!=w(Kv,h)||"file"==h&&(Jv(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(Qv(e)&&Kv[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?u=ym:Qv(e)&&r&&r.scheme==e.scheme?u=cm:Qv(e)?u=fm:"/"==i[l+1]?(u=um,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=_m)}break;case sm:if(!r||r.cannotBeABaseURL&&"#"!=a)return Rv;if(r.cannotBeABaseURL&&"#"==a){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Cm;break}u="file"==r.scheme?ym:lm;continue;case cm:if("/"!=a||"/"!=i[l+1]){u=lm;continue}u=dm,l++;break;case um:if("/"==a){u=pm;break}u=km;continue;case lm:if(e.scheme=r.scheme,a==yv)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==a||"\\"==a&&Qv(e))u=hm;else if("?"==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=Sm;else{if("#"!=a){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=km;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Cm}break;case hm:if(!Qv(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=km;continue}u=pm}else u=dm;break;case fm:if(u=dm,"/"!=a||"/"!=h.charAt(l+1))continue;l++;break;case dm:if("/"!=a&&"\\"!=a){u=pm;continue}break;case pm:if("@"==a){f&&(h="%40"+h),f=!0,o=Bg(h);for(var g=0;g<o.length;g++){var v=o[g];if(":"!=v||p){var m=Xv(v,Yv);p?e.password+=m:e.username+=m}else p=!0}h=""}else if(a==yv||"/"==a||"?"==a||"#"==a||"\\"==a&&Qv(e)){if(f&&""==h)return"Invalid authority";l-=Bg(h).length+1,h="",u=gm}else h+=a;break;case gm:case vm:if(n&&"file"==e.scheme){u=wm;continue}if(":"!=a||d){if(a==yv||"/"==a||"?"==a||"#"==a||"\\"==a&&Qv(e)){if(Qv(e)&&""==h)return Tv;if(n&&""==h&&(Jv(e)||null!==e.port))return;if(s=Vv(e,h))return s;if(h="",u=xm,n)return;continue}"["==a?d=!0:"]"==a&&(d=!1),h+=a}else{if(""==h)return Tv;if(s=Vv(e,h))return s;if(h="",u=mm,n==vm)return}break;case mm:if(!Ov.test(a)){if(a==yv||"/"==a||"?"==a||"#"==a||"\\"==a&&Qv(e)||n){if(""!=h){var y=parseInt(h,10);if(y>65535)return Lv;e.port=Qv(e)&&y===Kv[e.scheme]?null:y,h=""}if(n)return;u=xm;continue}return Lv}h+=a;break;case ym:if(e.scheme="file","/"==a||"\\"==a)u=bm;else{if(!r||"file"!=r.scheme){u=km;continue}if(a==yv)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==a)e.host=r.host,e.path=r.path.slice(),e.query="",u=Sm;else{if("#"!=a){nm(i.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),rm(e)),u=km;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Cm}}break;case bm:if("/"==a||"\\"==a){u=wm;break}r&&"file"==r.scheme&&!nm(i.slice(l).join(""))&&(tm(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=km;continue;case wm:if(a==yv||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&tm(h))u=km;else if(""==h){if(e.host="",n)return;u=xm}else{if(s=Vv(e,h))return s;if("localhost"==e.host&&(e.host=""),n)return;h="",u=xm}continue}h+=a;break;case xm:if(Qv(e)){if(u=km,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=yv&&(u=km,"/"!=a))continue}else e.fragment="",u=Cm;else e.query="",u=Sm;break;case km:if(a==yv||"/"==a||"\\"==a&&Qv(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(rm(e),"/"==a||"\\"==a&&Qv(e)||e.path.push("")):im(h)?"/"==a||"\\"==a&&Qv(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&tm(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==yv||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",u=Sm):"#"==a&&(e.fragment="",u=Cm)}else h+=Xv(a,Zv);break;case _m:"?"==a?(e.query="",u=Sm):"#"==a?(e.fragment="",u=Cm):a!=yv&&(e.path[0]+=Xv(a,Gv));break;case Sm:n||"#"!=a?a!=yv&&("'"==a&&Qv(e)?e.query+="%27":e.query+="#"==a?"%23":Xv(a,Gv)):(e.fragment="",u=Cm);break;case Cm:a!=yv&&(e.fragment+=Xv(a,$v))}l++}},Am=function(e){var t,n,r=Yn(this,Am,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=Sv(r,{type:"URL"});if(void 0!==i)if(i instanceof Am)t=Cv(i);else if(n=Em(t={},String(i)))throw TypeError(n);if(n=Em(s,o,null,t))throw TypeError(n);var c=s.searchParams=new kv,u=_v(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},a||(r.href=Tm.call(r),r.origin=Lm.call(r),r.protocol=Mm.call(r),r.username=Im.call(r),r.password=Om.call(r),r.host=Pm.call(r),r.hostname=Nm.call(r),r.port=Fm.call(r),r.pathname=Dm.call(r),r.search=Bm.call(r),r.searchParams=zm.call(r),r.hash=Hm.call(r))},Rm=Am.prototype,Tm=function(){var e=Cv(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",Jv(e)&&(u+=n+(r?":"+r:"")+"@"),u+=Wv(i),null!==a&&(u+=":"+a)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Lm=function(){var e=Cv(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Qv(e)?t+"://"+Wv(e.host)+(null!==n?":"+n:""):"null"},Mm=function(){return Cv(this).scheme+":"},Im=function(){return Cv(this).username},Om=function(){return Cv(this).password},Pm=function(){var e=Cv(this),t=e.host,n=e.port;return null===t?"":null===n?Wv(t):Wv(t)+":"+n},Nm=function(){var e=Cv(this).host;return null===e?"":Wv(e)},Fm=function(){var e=Cv(this).port;return null===e?"":String(e)},Dm=function(){var e=Cv(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Bm=function(){var e=Cv(this).query;return e?"?"+e:""},zm=function(){return Cv(this).searchParams},Hm=function(){var e=Cv(this).fragment;return e?"#"+e:""},jm=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&ot(Rm,{href:jm(Tm,(function(e){var t=Cv(this),n=String(e),r=Em(t,n);if(r)throw TypeError(r);_v(t.searchParams).updateSearchParams(t.query)})),origin:jm(Lm),protocol:jm(Mm,(function(e){var t=Cv(this);Em(t,String(e)+":",am)})),username:jm(Im,(function(e){var t=Cv(this),n=Bg(String(e));if(!em(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Xv(n[r],Yv)}})),password:jm(Om,(function(e){var t=Cv(this),n=Bg(String(e));if(!em(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Xv(n[r],Yv)}})),host:jm(Pm,(function(e){var t=Cv(this);t.cannotBeABaseURL||Em(t,String(e),gm)})),hostname:jm(Nm,(function(e){var t=Cv(this);t.cannotBeABaseURL||Em(t,String(e),vm)})),port:jm(Fm,(function(e){var t=Cv(this);em(t)||(""==(e=String(e))?t.port=null:Em(t,e,mm))})),pathname:jm(Dm,(function(e){var t=Cv(this);t.cannotBeABaseURL||(t.path=[],Em(t,e+"",xm))})),search:jm(Bm,(function(e){var t=Cv(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Em(t,e,Sm)),_v(t.searchParams).updateSearchParams(t.query)})),searchParams:jm(zm),hash:jm(Hm,(function(e){var t=Cv(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Em(t,e,Cm)):t.fragment=null}))}),re(Rm,"toJSON",(function(){return Tm.call(this)}),{enumerable:!0}),re(Rm,"toString",(function(){return Tm.call(this)}),{enumerable:!0}),xv){var Vm=xv.createObjectURL,Um=xv.revokeObjectURL;Vm&&re(Am,"createObjectURL",(function(e){return Vm.apply(xv,arguments)})),Um&&re(Am,"revokeObjectURL",(function(e){return Um.apply(xv,arguments)}))}Tt(Am,"URL"),Oe({global:!0,forced:!Pg,sham:!a},{URL:Am}),Oe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var qm=ve.includes,Wm=en("indexOf",{ACCESSORS:!0,1:0});Oe({target:"Array",proto:!0,forced:!Wm},{includes:function(e){return qm(this,e,arguments.length>1?arguments[1]:void 0)}}),yt("includes"),Oe({target:"String",proto:!0,forced:!xr("includes")},{includes:function(e){return!!~String(g(this)).indexOf(br(e),arguments.length>1?arguments[1]:void 0)}});var Gm={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},$m=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram","gwas","maf","mut"]);function Zm(e){var t,n;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),n=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return $m.has(n)?n:void 0}}function Ym(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0);"junctions"===e.type?e.type="junction":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),e.type)return e.type;if(e.format)switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":return"wig";case"vcf":return"variant";case"seg":return"seg";case"mut":case"maf":return"mut";case"bam":case"cram":return"alignment";case"bedpe":case"bedpe-loop":return"interact";case"bp":return"arc";case"gwas":return"gwas";case"bed":case"bigbed":case"bb":return"bedtype";default:return"annotation"}}var Xm=function(e){return function(t,n,r,i){Gt(n);var a=Ne(t),o=p(a),s=he(a.length),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in o){i=o[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in o&&(i=n(i,o[c],c,a));return i}},Km={left:Xm(!1),right:Xm(!0)},Qm=Km.left,Jm=Pi("reduce"),ey=en("reduce",{1:0});Oe({target:"Array",proto:!0,forced:!Jm||!ey},{reduce:function(e){return Qm(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var ty=r.isFinite,ny=Number.isFinite||function(e){return"number"==typeof e&&ty(e)};Oe({target:"Number",stat:!0},{isFinite:ny}),Oe({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var ry="".repeat||function(e){var t=String(g(this)),n="",r=ue(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},iy=1..toFixed,ay=Math.floor,oy=function(e,t,n){return 0===t?n:t%2==1?oy(e,t-1,n*e):oy(e*e,t/2,n)},sy=iy&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){iy.call({})}));Oe({target:"Number",proto:!0,forced:sy},{toFixed:function(e){var t,n,r,i,a=function(e){if("number"!=typeof e&&"Number"!=f(e))throw TypeError("Incorrect invocation");return+e}(this),o=ue(e),s=[0,0,0,0,0,0],c="",u="0",l=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=ay(r/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=ay(n/e),n=n%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+ry.call("0",7-n.length)+n}return t};if(o<0||o>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(c="-",a=-a),a>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(a*oy(2,69,1))-69)<0?a*oy(2,-t,1):a/oy(2,t,1),n*=4503599627370496,(t=52-t)>0){for(l(0,n),r=o;r>=7;)l(1e7,0),r-=7;for(l(oy(10,r,1),0),r=t-1;r>=23;)h(1<<23),r-=23;h(1<<r),l(1,1),h(2),u=d()}else l(0,n),l(1<<-t,0),u=d()+ry.call("0",o);return u=o>0?c+((i=u.length)<=o?"0."+ry.call("0",o-i)+u:u.slice(0,i-o)+"."+u.slice(i-o)):c+u}}),Oe({target:"Object",stat:!0,forced:Object.assign!==Dg},{assign:Dg}),Oe({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var cy={cantaloupe:{r:255,g:206,b:110},honeydew:{r:206,g:250,b:110},spindrift:{r:104,g:251,b:208},sky:{r:106,g:207,b:255},lavender:{r:210,g:120,b:255},carnation:{r:255,g:127,b:211},licorice:{r:0,g:0,b:0},snow:{r:255,g:255,b:255},salmon:{r:255,g:114,b:110},banana:{r:255,g:251,b:109},flora:{r:104,g:249,b:110},ice:{r:104,g:253,b:255},orchid:{r:110,g:118,b:255},bubblegum:{r:255,g:122,b:255},lead:{r:30,g:30,b:30},mercury:{r:232,g:232,b:232},tangerine:{r:255,g:136,b:2},lime:{r:131,g:249,b:2},sea_foam:{r:3,g:249,b:135},aqua:{r:0,g:140,b:255},grape:{r:137,g:49,b:255},strawberry:{r:255,g:41,b:135},tungsten:{r:58,g:58,b:58},silver:{r:208,g:208,b:208},maraschino:{r:255,g:33,b:1},lemon:{r:255,g:250,b:3},spring:{r:5,g:248,b:2},turquoise:{r:0,g:253,b:255},blueberry:{r:0,g:46,b:255},magenta:{r:255,g:57,b:255},iron:{r:84,g:84,b:83},magnesium:{r:184,g:184,b:184},mocha:{r:137,g:72,b:0},fern:{r:69,g:132,b:1},moss:{r:1,g:132,b:72},ocean:{r:0,g:74,b:136},eggplant:{r:73,g:26,b:136},maroon:{r:137,g:22,b:72},steel:{r:110,g:110,b:110},aluminum:{r:160,g:159,b:160},cayenne:{r:137,g:17,b:0},aspargus:{r:136,g:133,b:1},clover:{r:2,g:132,b:1},teal:{r:0,g:134,b:136},midnight:{r:0,g:24,b:136},plum:{r:137,g:30,b:136},tin:{r:135,g:134,b:135},nickel:{r:136,g:135,b:135}};var uy={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]},ly=function(){function e(t){eo(this,e),this.colors=uy[t],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new fy}return no(e,[{key:"getColor",value:function(e){return this.colorTable.hasOwnProperty(e)||(this.nextIdx<this.colors.length?this.colorTable[e]=this.colors[this.nextIdx]:this.colorTable[e]=this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]}}]),e}(),hy=function(){function e(t){eo(this,e),this.colorTable=t||{},this.nextIdx=0,this.colorGenerator=new fy}return no(e,[{key:"getColor",value:function(e){if(!this.colorTable.hasOwnProperty(e)){if(this.colorTable.hasOwnProperty("*"))return this.colorTable["*"];this.colorTable[e]=this.colorGenerator.get()}return this.colorTable[e]}}]),e}();function fy(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}fy.prototype.hsvToRgb=function(e,t,n){var r=Math.floor(6*e),i=6*e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),c=255,u=255,l=255;switch(r){case 0:c=n,u=s,l=a;break;case 1:c=o,u=n,l=a;break;case 2:c=a,u=n,l=s;break;case 3:c=a,u=o,l=n;break;case 4:c=s,u=a,l=n;break;case 5:c=n,u=a,l=o}return[Math.floor(256*c),Math.floor(256*u),Math.floor(256*l)]},fy.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},fy.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};var dy=new fy;for(var py=Number.MIN_SAFE_INTEGER,gy={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"},vy={},my=["A","G","C","T","Y","R","W","S","K","M","D","V","H","B","N","X"],yy=["T","C","G","A","R","Y","W","S","M","K","H","B","D","V","N","X"],by=0;by<my.length;by++)vy[my[by]]=yy[by],vy[my[by].toLowerCase()]=yy[by].toLowerCase();var wy=function(){function e(t,n){eo(this,e),this.type="sequence",this.browser=n,this.removable=!1,this.config=t,this.name="Sequence",this.id="sequence",this.sequenceType=t.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=t.order||py,this.ignoreTrackMenu=!1,this.reversed=!1,this.frameTranslate=!1}var t;return no(e,[{key:"menuItemList",value:function(){var e=this;return[{name:this.reversed?"Forward":"Reverse",click:function(){e.reversed=!e.reversed,e.trackView.repaintViews()}},{name:this.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){if(e.frameTranslate=!e.frameTranslate,e.frameTranslate){var t,n=go(e.trackView.viewports);try{for(n.s();!(t=n.n()).done;){t.value.setContentHeight(115)}}catch(e){n.e(e)}finally{n.f()}e.trackView.setTrackHeight(115)}else{var r,i=go(e.trackView.viewports);try{for(i.s();!(r=i.n()).done;){r.value.setContentHeight(25)}}catch(e){i.e(e)}finally{i.f()}e.trackView.setTrackHeight(25)}e.trackView.repaintViews()}}]}},{key:"contextMenuItemList",value:function(e){var t,n,r=this,i=e.viewport;return i.referenceFrame.bpPerPixel<=1?[{label:"View visible sequence...",click:(n=Ja(regeneratorRuntime.mark((function e(){var t,n,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.getWidth(),n=t*i.referenceFrame.bpPerPixel,a=i.referenceFrame.chr,o=i.referenceFrame.start,s=o+n,e.next=7,r.browser.genome.sequence.getSequence(a,o,s);case 7:c=e.sent,Ld.presentAlert(c);case 9:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{label:"Copy visible sequence",click:(t=Ja(regeneratorRuntime.mark((function e(){var t,n,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.getWidth(),n=t*i.referenceFrame.bpPerPixel,a=i.referenceFrame.chr,o=i.referenceFrame.start,s=o+n,e.next=7,r.browser.genome.sequence.getSequence(a,o,s);case 7:c=e.sent,navigator.clipboard.writeText(c);case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},"<hr/>"]:void 0}},{key:"translateSequence",value:function(e){for(var t=[[],[],[]],n=0,r=[0,1,2];n<r.length;n++)for(var i=r[n],a=i;e.length-a>=3;){var o=e.slice(a,a+3);this.reversed&&(o=o.split("").reverse().join(""));var s=gy[o.toUpperCase()]||"";t[i].push({codons:o,aminoA:s}),a+=3}return t}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i&&i>1)){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,this.browser.genome.sequence.getSequence(t,n,r);case 6:return a=e.sent,e.abrupt("return",{bpStart:n,sequence:a});case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context;if(e.features){for(var n=e.features.sequence,r=e.features.bpStart,i=1+e.bpStart+e.pixelWidth*e.bpPerPixel,a=r;a<=i;a++){var o=Math.floor(a-r);if(o<n.length){var s=n[o];this.reversed&&(s=vy[s]||"");var c=a-e.bpStart,u=c/e.bpPerPixel,l=(c+1)/e.bpPerPixel,h=this.fillColor(s);if(e.bpPerPixel>.1)Vd.fillRect(t,u,5,l-u,10,{fillStyle:h});else{var f=.5*(u+l-t.measureText(s).width);Vd.strokeText(t,s,f,15,{strokeStyle:h})}}}if(this.frameTranslate){var d;this.reversed?(d=n.split("").map((function(e){return vy[e]})),d=d.join("")):d=n;var p,g=15,v=this.translateSequence(d),m=go(v);try{for(m.s();!(p=m.n()).done;){var y=p.value,b=v.indexOf(y),w=b;g=0===b?g+10:g+30;var x,k=go(y);try{for(k.s();!(x=k.n()).done;){var _=x.value,S=void 0,C=y.indexOf(_),E=C+w+2*C,A=0==C%2?"rgb(160,160,160)":"rgb(224,224,224)",R=Math.floor(E/e.bpPerPixel),T=Math.floor((E+3)/e.bpPerPixel),L=Math.round((R+T)/2);_.aminoA.indexOf("STOP")>-1?(A="rgb(255, 0, 0)",S="STOP"):S=_.aminoA,"M"===_.aminoA&&(A="rgb(0, 153, 0)",S="START"),Vd.fillRect(t,R,g,T-R,25,{fillStyle:A}),e.bpPerPixel<=.1&&Vd.strokeText(t,S,L-t.measureText(S).width/2,g+15)}}catch(e){k.e(e)}finally{k.f()}}}catch(e){m.e(e)}finally{m.f()}}}}},{key:"supportsWholeGenome",value:function(){return!1}},{key:"computePixelHeight",value:function(e){return this.height}},{key:"fillColor",value:function(e){return this.color?this.color:"dna"===this.sequenceType?this.browser.nucleotideColors[e]||"gray":"rgb(0, 0, 150)"}}]),e}(),xy=function(){function e(t,n,r,i){eo(this,e),this.guid=Pc(),this.trackView=t,this.referenceFrame=r,this.browser=t.browser,this.$viewport=Lc('<div class="igv-viewport">'),n.appendChild(this.$viewport.get(0)),t.track.height&&(this.$viewport.get(0).style.height="".concat(t.track.height,"px")),t.track instanceof wy&&(this.alert=new Rd(this.$viewport.get(0))),this.$content=Lc("<div>",{class:"igv-viewport-content"}),this.$viewport.append(this.$content),this.$content.height(this.$viewport.height()),this.contentDiv=this.$content.get(0),this.$canvas=Lc("<canvas>"),this.$content.append(this.$canvas),this.canvas=this.$canvas.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(i),this.initializationHelper()}var t,n;return no(e,[{key:"initializationHelper",value:function(){}},{key:"showMessage",value:function(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}},{key:"hideMessage",value:function(e){this.messageDiv&&(this.messageDiv.style.display="none")}},{key:"setTrackLabel",value:function(e){}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}},{key:"checkZoomIn",value:function(){return!0}},{key:"shift",value:function(){}},{key:"setTop",value:function(e){var t=-e,n=t+this.$viewport.height();this.$content.css("top","".concat(e,"px")),(void 0===this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()}},{key:"loadFeatures",value:(n=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"repaint",value:(t=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Viewport - repaint()");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"draw",value:function(e,t,n){console.log("Viewport - draw(drawConfiguration, features, roiFeatures)")}},{key:"checkContentHeight",value:function(){var e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){var t=this.cachedFeatures;if(t&&t.length>0){var n=e.computePixelHeight(t);n!==this.$content.height()&&this.setContentHeight(n)}}}},{key:"getContentHeight",value:function(){return this.$content.height()}},{key:"setContentHeight",value:function(e){e=Math.min(e,32e3),this.$content.height(e),this.tile&&(this.tile.invalidate=!0)}},{key:"isLoading",value:function(){return!1}},{key:"saveSVG",value:function(){}},{key:"isVisible",value:function(){return this.$viewport.width()}},{key:"setWidth",value:function(e){this.$viewport.width(e),this.canvas.style.width="".concat(e,"px"),this.canvas.setAttribute("width",e)}},{key:"getWidth",value:function(){return this.$viewport.width()}},{key:"getContentTop",value:function(){return this.contentDiv.offsetTop}},{key:"containsPosition",value:function(e,t){console.log("Viewport - containsPosition(chr, position)")}},{key:"addMouseHandlers",value:function(){}},{key:"removeMouseHandlers",value:function(){}},{key:"dispose",value:function(){this.popover&&this.popover.dispose(),this.removeMouseHandlers(),this.$viewport.get(0).remove();for(var e=0,t=Object.keys(this);e<t.length;e++){this[t[e]]=void 0}}}]),e}();
/*!!
	 *  Canvas 2 Svg v1.0.19
	 *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
	 *
	 *  Licensed under the MIT license:
	 *  http://www.opensource.org/licenses/mit-license.php
	 *
	 *  Author:
	 *  Kerry Liu
	 *
	 *  Copyright (c) 2014 Gliffy Inc.
	 */
function ky(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function _y(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function Sy(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}function Cy(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}var Ey=function(e,t){var n,r,i,a={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),a[r]="&#"+i+";";return a["\\xa0"]="&#160;",a}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ay={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},Ry=function(){function e(t,n){eo(this,e),this.__root=t,this.__ctx=n}return no(e,[{key:"addColorStop",value:function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",ky("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)}}]),e}(),Ty=function e(t,n){eo(this,e),this.__root=t,this.__ctx=n},Ly=function(){function e(t){if(eo(this,e),!(this instanceof e))return new e(t);if(this.config=t,this.width=t.width,this.height=t.height,this.enableMirroring=t.enableMirroring||!1,this.canvas=this,this.__document=document,t.ctx?this.__ctx=t.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),t.viewbox){var n=t.viewbox.x+" "+t.viewbox.y+" "+t.viewbox.width+" "+t.viewbox.height;this.__root.setAttribute("viewBox",n),this.viewbox=t.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=t.multiLocusGap;var r={id:"svg_output_backdrop",width:"100%",height:"100%",fill:t.backdropColor||"white"},i=this.__createElement("rect",r);this.__root.appendChild(i),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}return no(e,[{key:"setWidth",value:function(e){this.width=e,this.__root.setAttribute("width",this.width);var t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",t)}},{key:"setHeight",value:function(e){this.height=e,this.__root.setAttribute("height",this.height);var t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e;this.__root.setAttribute("viewBox",t)}},{key:"__createElement",value:function(e,t,n){void 0===t&&(t={});var r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];r.setAttribute(o,t[o])}return r}},{key:"__setDefaultStyles",value:function(){var e,t,n=Object.keys(Ay);for(e=0;e<n.length;e++)this[t=n[e]]=Ay[t].canvas}},{key:"__applyStyleState",value:function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]}},{key:"__getStyleState",value:function(){var e,t,n={},r=Object.keys(Ay);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n}},{key:"__applyStyleToCurrentElement",value:function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach((function(t){t.setAttribute(e,"")})));var r,i,a,o,s,c=Object.keys(Ay);for(r=0;r<c.length;r++)if(i=Ay[c[r]],a=this[c[r]],i.apply)if(a instanceof Ty){if(a.__ctx)for(;a.__ctx.__defs.childNodes.length;)o=a.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[o]=o,this.__defs.appendChild(a.__ctx.__defs.childNodes[0]);t.setAttribute(i.apply,ky("url(#{id})",{id:a.__root.getAttribute("id")}))}else if(a instanceof Ry)t.setAttribute(i.apply,ky("url(#{id})",{id:a.__root.getAttribute("id")}));else if(i&&-1!==i.apply.indexOf(e)&&i.svg!==a)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||!a||-1===a.indexOf("rgba")){var u=i.svgAttr;if("globalAlpha"===c[r]&&(u=e+"-"+i.svgAttr,t.getAttribute(u)))continue;t.setAttribute(u,a)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(a),t.setAttribute(i.svgAttr,ky("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var l=s[4],h=this.globalAlpha;null!=h&&(l*=h),t.setAttribute(i.svgAttr+"-opacity",l)}}},{key:"__closestGroupOrSvg",value:function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)}},{key:"getSerializedSvg",value:function(e){var t,n,r,i,a,o=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(Ey),n=0;n<t.length;n++)r=t[n],i=Ey[r],(a=new RegExp(r,"gi")).test(o)&&(o=o.replace(a,i));return o}},{key:"getSvg",value:function(){return this.__root}},{key:"saveWithTranslationAndClipRect",value:function(e,t,n,r,i,a){var o="".concat(e,"_clip_rect"),s=this.__createElement("clipPath",{id:o});this.__defs.appendChild(s);var c={x:"0",y:a.toString(),width:r.toString(),height:i.toString()};s.appendChild(this.__createElement("rect",c));var u=this.__createElement("g");u.setAttribute("transform",ky("translate({x},{y})",{x:t,y:n})),u.setAttribute("clip-path",ky("url(#{id})",{id:o}));var l=this.__closestGroupOrSvg();l.appendChild(u),this.__groupStack.push(l),this.__currentElement=u,this.__stack.push(this.__getStyleState())}},{key:"save",value:function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())}},{key:"restore",value:function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)}},{key:"__addTransform",value:function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)}},{key:"addTrackGroupWithTranslationAndClipRect",value:function(e,t,n,r,i,a){var o=e+"_clip_rect",s=this.__createElement("clipPath",{id:o});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:a.toString(),width:r.toString(),height:i.toString()}));var c=this.__createElement("g");this.__rootGroup.appendChild(c),c.setAttribute("transform",ky("translate({x},{y})",{x:t,y:n})),c.setAttribute("id",e+"_group"),c.setAttribute("clip-path",ky("url(#{id})",{id:o})),this.__currentElement=c}},{key:"scale",value:function(e,t){void 0===t&&(t=e),this.__addTransform(ky("scale({x},{y})",{x:e,y:t}))}},{key:"rotate",value:function(e){var t=180*e/Math.PI;this.__addTransform(ky("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))}},{key:"translate",value:function(e,t){this.__addTransform(ky("translate({x},{y})",{x:e,y:t}))}},{key:"transform",value:function(e,t,n,r,i,a){this.__addTransform(ky("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:a}))}},{key:"beginPath",value:function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e}},{key:"__applyCurrentDefaultPath",value:function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)}},{key:"__addPathCommand",value:function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e}},{key:"moveTo",value:function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(ky("M {x} {y}",{x:e,y:t}))}},{key:"closePath",value:function(){this.__currentDefaultPath&&this.__addPathCommand("Z")}},{key:"lineTo",value:function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(ky("L {x} {y}",{x:e,y:t})):this.__addPathCommand(ky("M {x} {y}",{x:e,y:t}))}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){this.__currentPosition={x:i,y:a},this.__addPathCommand(ky("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:a}))}},{key:"quadraticCurveTo",value:function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(ky("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))}},{key:"arcTo",value:function(e,t,n,r,i){var a=this.__currentPosition&&this.__currentPosition.x,o=this.__currentPosition&&this.__currentPosition.y;if(void 0!==a&&void 0!==o){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(a===e&&o===t||e===n&&t===r||0===i)this.lineTo(e,t);else{var s=Cy([a-e,o-t]),c=Cy([n-e,r-t]);if(s[0]*c[1]!=s[1]*c[0]){var u=s[0]*c[0]+s[1]*c[1],l=Math.acos(Math.abs(u)),h=Cy([s[0]+c[0],s[1]+c[1]]),f=i/Math.sin(l/2),d=e+f*h[0],p=t+f*h[1],g=[-s[1],s[0]],v=[c[1],-c[0]],m=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},y=m(g),b=m(v);this.lineTo(d+g[0]*i,p+g[1]*i),this.arc(d,p,i,y,b)}else this.lineTo(e,t)}}}},{key:"stroke",value:function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")}},{key:"fill",value:function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")}},{key:"rect",value:function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()}},{key:"fillRect",value:function(e,t,n,r){r<0&&(t+=r,r=-r),n<0&&(e+=n,n=-n);var i,a,o,s={x:e,y:t,width:n,height:r};(!this.viewbox||(i=this.viewbox,a=s,i.x<a.x+a.width&&i.x+i.width>a.x&&i.y<a.y+a.height&&i.y+i.height>a.y))&&(o=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill"))}},{key:"strokeRect",value:function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")}},{key:"__clearCanvas",value:function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)}},{key:"clearRect",value:function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,a=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),a.appendChild(i)}else this.__clearCanvas()}},{key:"createLinearGradient",value:function(e,t,n,r){var i=this.__createElement("linearGradient",{id:_y(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new Ry(i,this)}},{key:"createRadialGradient",value:function(e,t,n,r,i,a){var o=this.__createElement("radialGradient",{id:_y(this.__ids),cx:r+"px",cy:i+"px",r:a+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new Ry(o,this)}},{key:"__parseFont",value:function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t}},{key:"__wrapTextLink",value:function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t}},{key:"__applyText",value:function(e,t,n,r){var i,a,o=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":o.family,"font-size":o.size,"font-style":o.style,"font-weight":o.weight,"text-decoration":o.decoration,x:t,y:n,"text-anchor":(i=this.textAlign,a={left:"start",right:"end",center:"middle",start:"start",end:"end"},a[i]||a.start),"dominant-baseline":Sy(this.textBaseline)},!0);c.appendChild(this.__document.createTextNode(e)),this.__currentElement=c,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(o,c))}},{key:"fillText",value:function(e,t,n){this.__applyText(e,t,n,"fill")}},{key:"strokeText",value:function(e,t,n){this.__applyText(e,t,n,"stroke")}},{key:"measureText",value:function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)}},{key:"arc",value:function(e,t,n,r,i,a){if(r!==i){(r%=2*Math.PI)===(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(a?-1:1))%(2*Math.PI));var o=e+n*Math.cos(i),s=t+n*Math.sin(i),c=e+n*Math.cos(r),u=t+n*Math.sin(r),l=a?0:1,h=0,f=i-r;f<0&&(f+=2*Math.PI),h=a?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(c,u),this.__addPathCommand(ky("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:h,sweepFlag:l,endX:o,endY:s})),this.__currentPosition={x:o,y:s}}}},{key:"clip",value:function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=_y(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",ky("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r}},{key:"drawImage",value:function(){var t,n,r,i,a,o,s,c,u,l,h,f,d,p=Array.prototype.slice.call(arguments),g=p[0],v=0,m=0;if(3===p.length)t=p[1],n=p[2],r=a=g.width,i=o=g.height;else if(5===p.length)t=p[1],n=p[2],r=p[3],i=p[4],a=g.width,o=g.height;else{if(9!==p.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);v=p[1],m=p[2],a=p[3],o=p[4],t=p[5],n=p[6],r=p[7],i=p[8]}s=this.__closestGroupOrSvg();var y="translate("+t+", "+n+")";if(g instanceof e){if((c=g.getSvg().cloneNode(!0)).childNodes&&c.childNodes.length>1){for(u=c.childNodes[0];u.childNodes.length;)d=u.childNodes[0].getAttribute("id"),this.__ids[d]=d,this.__defs.appendChild(u.childNodes[0]);if(l=c.childNodes[1]){var b,w=l.getAttribute("transform");b=w?w+" "+y:y,l.setAttribute("transform",b),s.appendChild(l)}}}else"CANVAS"!==g.nodeName&&"IMG"!==g.nodeName||((h=this.__createElement("image")).setAttribute("width",r),h.setAttribute("height",i),h.setAttribute("preserveAspectRatio","none"),(v||m||a!==g.width||o!==g.height)&&((f=this.__document.createElement("canvas")).width=r,f.height=i,f.getContext("2d").drawImage(g,v,m,a,o,0,0,r,i),g=f),h.setAttribute("transform",y),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===g.nodeName?g.toDataURL():g.getAttribute("src")),s.appendChild(h))}},{key:"createPattern",value:function(t,n){var r,i=this.__document.__createElement("pattern"),a=_y(this.__ids);return i.setAttribute("id",a),i.setAttribute("width",t.width),i.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((r=this.__createElement("image")).setAttribute("width",t.width),r.setAttribute("height",t.height),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),i.appendChild(r),this.__defs.appendChild(i)):t instanceof e&&(i.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(i)),new Ty(i,this)}},{key:"setLineDash",value:function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null}},{key:"drawFocusRing",value:function(){}},{key:"createImageData",value:function(){}},{key:"getImageData",value:function(){}},{key:"putImageData",value:function(){}},{key:"globalCompositeOperation",value:function(){}},{key:"setTransform",value:function(){}}]),e}(),My=sp.values;Oe({target:"Object",stat:!0},{values:function(e){return My(e)}}),tr("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),ur);var Iy=function(e,t,n,r,i){this.name=e,this.order=t,this.bpStart=n,this.bpLength=r,this.rangeLocus=i},Oy=jc,Py=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),Ny=function(){function e(t){eo(this,e),this.fastaURL=t.fastaURL,this.withCredentials=t.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences=new Map,this.offsets={};var n={};for(var r in t)t.hasOwnProperty(r)&&!Py.has(r)&&(n[r]=t[r]);this.config=n}var t,n,r;return no(e,[{key:"init",value:(r=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadAll());case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSequence",value:(n=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.offsets[t]&&(n-=this.offsets[t],r-=this.offsets[t]),i="",n<0)for(a=n;a<Math.min(r,0);a++)i+="*";if(!(r<=0)){e.next=5;break}return e.abrupt("return",Promise.resolve(i));case 5:return o=this.sequences.get(t),s=Math.min(r,o.length),e.abrupt("return",i+o.substring(n,s));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"loadAll",value:(t=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bb(this.fastaURL)){e.next=7;break}n=Tf(this.fastaURL),t="",r=go(n);try{for(r.s();!(i=r.n()).done;)a=i.value,t+=String.fromCharCode(a)}catch(e){r.e(e)}finally{r.f()}e.next=10;break;case 7:return e.next=9,$f.load(this.fastaURL,db(this.config));case 9:t=e.sent;case 10:for(o=Oy(t),s=o.length,c=0,h=0,f=0;c<s;)(d=o[c++].trim()).startsWith("#")||0===d.length||(d.startsWith(">")?(u&&(this.chromosomeNames.push(p),this.sequences.set(p,u),this.chromosomes[p]=new Iy(p,f++,h,h+u.length,l)),g=d.substr(1).split(/\s+/),v=g[0].split(":"),p=v[0],u="",h=0,l=void 0,v.length>1&&v[1].indexOf("-")>0&&(2===(m=v[1].split("-")).length&&/^[0-9]+$/.test(m[0])&&/^[0-9]+$/.test(m[1]),y=Number.parseInt(m[0]),Number.parseInt(m[1])>y&&(h=y-1,this.offsets[p]=h,l=v[1]))):u+=d);u&&(this.chromosomeNames.push(p),this.sequences.set(p,u),this.chromosomes[p]=new Iy(p,f++,h,h+u.length,l));case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Fy=function(e,t,n,r){this.chr=e,this.start=t,this.end=n,this.features=r};Fy.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},Fy.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};var Dy=jc,By=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),zy=function(){function e(t){eo(this,e),this.file=t.fastaURL,this.indexFile=t.indexURL||t.indexFile||this.file+".fai",this.withCredentials=t.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={};var n={};for(var r in t)t.hasOwnProperty(r)&&!By.has(r)&&(n[r]=t[r]);this.config=n}var t,n,r,i;return no(e,[{key:"init",value:(i=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getIndex());case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getSequence",value:(r=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.interval&&this.interval.contains(t,n,r)){e.next=8;break}return i=n,a=r,r-n<5e4&&(o=r-n,s=Math.round(n+o/2),i=Math.max(0,s-25e3),a=s+25e3),e.next=6,this.readSequence(t,i,a);case 6:c=e.sent,this.interval=new Fy(t,i,a,c);case 8:return u=n-this.interval.start,l=r-n,h=this.interval.features?this.interval.features.substr(u,l):null,e.abrupt("return",h);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getIndex",value:(n=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.index){e.next=4;break}return e.abrupt("return",this.index);case 4:return e.next=6,$f.load(this.indexFile,db(this.config));case 6:for(t=e.sent,n=Dy(t),r=n.length,i=0,a=0,this.index={};i<r;)5===(o=n[i++].split("\t")).length&&(s=o[0],c=parseInt(o[1]),u=parseInt(o[2]),l=parseInt(o[3]),h=parseInt(o[4]),f={size:c,position:u,basesPerLine:l,bytesPerLine:h},this.chromosomeNames.push(s),this.index[s]=f,this.chromosomes[s]=new Iy(s,a++,0,c));return e.abrupt("return",this.index);case 14:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"readSequence",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(i=this.index[t]){e.next=9;break}return console.log("No index entry for chr: "+t),this.interval=new Fy(t,n,r,null),e.abrupt("return",null);case 9:if(a=Math.max(0,n),o=Math.min(i.size,r),s=i.bytesPerLine,c=i.basesPerLine,u=i.position,l=s-c,h=Math.floor(a/c),f=Math.floor(o/c),!((g=u+f*s+(o-f*c)-1-(p=u+h*s+(d=a-h*c))+1)<=0)){e.next=28;break}console.error("No sequence for "+t+":"+n+"-"+r),e.next=31;break;case 28:return e.next=30,$f.load(this.file,db(this.config,{range:{start:p,size:g}}));case 30:v=e.sent;case 31:if(v){e.next=35;break}return e.abrupt("return",null);case 35:for(y="",b=0,w=v.length,d>0&&(m=Math.min(o-a,c-d),y+=v.substr(b,m),b+=m+l);b<w;)m=Math.min(c,w-b),y+=v.substr(b,m),b+=m+l;return e.abrupt("return",y);case 39:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();function Hy(e){return jy.apply(this,arguments)}function jy(){return(jy=Ja(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bb(t.fastaURL)||!1===t.indexed?new Ny(t):new zy(t),e.next=3,n.init();case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vy=function(e,t,n,r){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===r?this.type="c":(this.type=r.charAt(1),"p"===this.type&&(this.stain=parseInt(r.substring(4))))};function Uy(){return"2.10.1"}var qy,Wy,Gy=jc,$y={loadGenome:(Wy=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cytobandURL,r=t.aliasURL,e.next=4,Hy(t);case 4:if(i=e.sent,!n){e.next=9;break}return e.next=8,Yy(n,i.config);case 8:a=e.sent;case 9:if(!r){e.next=13;break}return e.next=12,Ky(r,i.config);case 12:o=e.sent;case 13:return e.abrupt("return",new Zy(t,i,a,o));case 14:case"end":return e.stop()}}),e)}))),function(e){return Wy.apply(this,arguments)}),initializeGenomes:(qy=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($y.KNOWN_GENOMES){e.next=38;break}if(u=function(e){return e.forEach((function(e){n[e.id]=e})),n},n={},!1===t.loadDefaultGenomes){e.next=27;break}return e.prev=4,r="https://igv.org/genomes/genomes.json"+"?randomSeed=".concat(Math.random().toString(36),"&version=").concat("2.10.1"),e.next=8,$f.loadJson(r,{timeout:5e3});case 8:i=e.sent,u(i),e.next=27;break;case 12:return e.prev=12,e.t0=e.catch(4),console.error(e.t0),e.prev=15,a="https://s3.amazonaws.com/igv.org.genomes/genomes.json"+"?randomSeed=".concat(Math.random().toString(36),"&version=").concat("2.10.1"),e.next=19,$f.loadJson(a,{});case 19:o=e.sent,u(o),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(15),console.error(e.t1),console.warn("Errors loading default genome definitions.");case 27:if(!(s=t.genomeList||t.genomes)){e.next=37;break}if("string"!=typeof s){e.next=36;break}return e.next=32,$f.loadJson(s,{});case 32:c=e.sent,u(c),e.next=37;break;case 36:u(s);case 37:$y.KNOWN_GENOMES=n;case 38:case"end":return e.stop()}}),e,null,[[4,12],[15,23]])}))),function(e){return qy.apply(this,arguments)}),isWholeGenomeView:function(e){return"all"===e.toLowerCase()},expandReference:function(e){if(zc(e)&&e.startsWith("{"))try{e=JSON.parse(e)}catch(e){}var t;if(zc(e)?t=e:e.genome?t=e.genome:void 0!==e.id&&void 0===e.fastaURL&&(t=e.id),t){var n=$y.KNOWN_GENOMES[t];return n||Ld.presentAlert(new Error("Unknown genome id: ".concat(t)),void 0),n}return e}},Zy=function(){function e(t,n,r,i){eo(this,e),this.config=t,this.id=t.id,this.sequence=n,this.chromosomeNames=n.chromosomeNames,this.chromosomes=n.chromosomes,this.ideograms=r,this.featureDB={},this.wholeGenomeView=void 0===t.wholeGenomeView||t.wholeGenomeView,this.wholeGenomeView&&Object.keys(n.chromosomes).length>1?function(e,t){var n;if(t.chromosomeOrder)Array.isArray(t.chromosomeOrder)?e.wgChromosomeNames=t.chromosomeOrder:e.wgChromosomeNames=t.chromosomeOrder.split(",").map((function(e){return e.trim()})),n=e.wgChromosomeNames.map((function(t){return e.chromosomes[t]})).filter((function(e){return void 0!==e}));else{var r=Object.keys(e.chromosomes).map((function(t){return e.chromosomes[t].bpLength})),i=r.reduce((function(e,t){return Math.max(e,t)}))/50;n=Object.values(e.chromosomes).filter((function(e){return e.bpLength>i}));var a=n.filter((function(e){return f(e.name.replace("chr",""))})),o=n.filter((function(e){return!f(e.name.replace("chr",""))}));a.sort((function(e,t){return Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))}));var s,c=a.map((function(e){return e.name})),u=go(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;c.push(l.name)}}catch(e){u.e(e)}finally{u.f()}e.wgChromosomeNames=c}var h=n.reduce((function(e,t){return e+t.bpLength}),0);function f(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:h}}(this,t):this.wgChromosomeNames=n.chromosomeNames;var a={},o=this;a.all="all",this.chromosomeNames.forEach((function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;a[t.toLowerCase()]=e,"chrM"===e&&(a.mt="chrM"),"MT"===e&&(a.chrm="MT"),a[e.toLowerCase()]=e})),i&&i.forEach((function(e){var t,n;for(n=0;n<e.length;n++)if(o.chromosomes[e[n]]){t=e[n];break}t&&e.forEach((function(e){e!==t&&(a[e.toLowerCase()]=t,a[e]=t)}))})),this.chrAliasTable=a}var t;return no(e,[{key:"showWholeGenomeView",value:function(){return!1!==this.config.wholeGenomeView}},{key:"toJSON",value:function(){return Object.assign({},this.config,{tracks:void 0})}},{key:"getInitialLocus",value:function(){}},{key:"getHomeChromosomeName",value:function(){return this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all")?"all":this.chromosomeNames[0]}},{key:"getChromosomeName",value:function(e){var t=this.chrAliasTable[e.toLowerCase()];return t||e}},{key:"getChromosome",value:function(e){return e=this.getChromosomeName(e),this.chromosomes[e]}},{key:"getCytobands",value:function(e){return this.ideograms?this.ideograms[e]:null}},{key:"getLongestChromosome",value:function(){var e,t=this.chromosomes;for(var n in t){if(t.hasOwnProperty(n)){var r=t[n];(void 0===e||r.bpLength>e.bpLength)&&(e=r)}return e}}},{key:"getChromosomes",value:function(){return this.chromosomes}},{key:"getGenomeCoordinate",value:function(e,t){var n=this.getCumulativeOffset(e);if(void 0!==n)return n+t}},{key:"getChromosomeCoordinate",value:function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=computeCumulativeOffsets.call(this));var t,n=void 0,r=0,i=go(this.wgChromosomeNames);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=this.cumulativeOffsets[a];if(o>e)return{chr:n,position:e-r};n=a,r=o}}catch(e){i.e(e)}finally{i.f()}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}}},{key:"getCumulativeOffset",value:function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=function(){var e,t=this,n={},r=0,i=go(t.wgChromosomeNames);try{for(i.s();!(e=i.n()).done;){var a=e.value;n[a]=Math.floor(r),r+=t.getChromosome(a).bpLength}}catch(e){i.e(e)}finally{i.f()}return n}.call(this));var t=this.getChromosomeName(e);return this.cumulativeOffsets[t]}},{key:"getGenomeLength",value:function(){var e=this;if(!this.bpLength){var t=0;e.wgChromosomeNames.forEach((function(n){var r=e.chromosomes[n];t+=r.bpLength})),this.bpLength=t}return this.bpLength}},{key:"getSequence",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sequence.getSequence(t,n,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();function Yy(e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bb(t)){e.next=7;break}for(i=Tf(t),r="",a=i.length,o=0;o<a;o++)r+=String.fromCharCode(i[o]);e.next=10;break;case 7:return e.next=9,$f.loadString(t,db(n));case 9:r=e.sent;case 10:s={},u=[],l=Gy(r),h=go(l);try{for(h.s();!(f=h.n()).done;)d=f.value,p=d.split("\t"),g=p[0],c||(c=g),g!==c&&(s[c]=u,u=[],c=g),5===p.length&&(v=parseInt(p[1]),m=parseInt(p[2]),y=p[3],b=p[4],u.push(new Vy(v,m,y,b)))}catch(e){h.e(e)}finally{h.f()}return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Ky(e,t){return $f.loadString(e,db(t)).then((function(e){var t=Gy(e),n=[];return t.forEach((function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))})),n}))}var Qy,Jy=0,eb=function(e){ro(o,e);var t,n,r,i,a=co(o);function o(e,t,n,r){return eo(this,o),a.call(this,e,t,n,r)}return no(o,[{key:"initializationHelper",value:function(){this.$spinner=Lc("<div>",{class:"igv-loading-spinner-container"}),this.$viewport.append(this.$spinner),this.$spinner.append(Lc("<div>"));var e=this.trackView.track;"sequence"!==e.type&&(this.$zoomInNotice=this.createZoomInNotice(this.$content)),e.name&&"sequence"!==e.config.type&&(this.$trackLabel=Lc('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(e.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide()),this.stopSpinner(),this.addMouseHandlers()}},{key:"setTrackLabel",value:function(e){this.$trackLabel.empty(),this.$trackLabel.html(e);var t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}},{key:"startSpinner",value:function(){this.$spinner.show()}},{key:"stopSpinner",value:function(){this.$spinner.hide()}},{key:"checkZoomIn",value:function(){var e=this;if(!this.viewIsReady())return!1;if(this.$zoomInNotice){if(function(){var t=e.referenceFrame;if("all"!==e.referenceFrame.chr.toLowerCase()||e.trackView.track.supportsWholeGenome()){var n="function"==typeof e.trackView.track.getVisibilityWindow?e.trackView.track.getVisibilityWindow():e.trackView.track.visibilityWindow;return void 0!==n&&n>0&&t.bpPerPixel*e.$viewport.width()>n}return!0}()){if(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight){var t=this.trackView.minHeight||0;this.setContentHeight(t)}return!1}return this.$zoomInNotice.hide(),!0}return!0}},{key:"shift",value:function(){var e=this,t=e.referenceFrame;if(e.canvas&&e.tile&&e.tile.chr===e.referenceFrame.chr&&e.tile.bpPerPixel===t.bpPerPixel){var n=Math.round((e.tile.startBP-t.start)/t.bpPerPixel);e.canvas.style.left=n+"px"}}},{key:"loadFeatures",value:(i=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.referenceFrame,n=t.chr,r=this.browser.genome.getChromosome(n).bpLength,i=this.$content.width(),a=i*t.bpPerPixel,o=Math.floor(Math.max(0,t.start-a)),s=Math.ceil(Math.min(r,t.start+a+a)),!this.loading||this.loading.start!==o||this.loading.end!==s){e.next=9;break}return e.abrupt("return",void 0);case 9:return this.loading={start:o,end:s},this.startSpinner(),e.prev=11,e.next=14,this.getFeatures(this.trackView.track,n,o,s,t.bpPerPixel);case 14:if(c=e.sent,u=[],!(l=ab(this.browser.roi,this.trackView.track.roi))){e.next=37;break}h=go(l),e.prev=19,h.s();case 21:if((f=h.n()).done){e.next=29;break}return d=f.value,e.next=25,d.getFeatures(n,o,s,t.bpPerPixel);case 25:p=e.sent,u.push({track:d,features:p});case 27:e.next=21;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(19),h.e(e.t0);case 34:return e.prev=34,h.f(),e.finish(34);case 37:return this.tile=new ib(n,o,s,t.bpPerPixel,c,u),this.loading=!1,this.hideMessage(),this.stopSpinner(),e.abrupt("return",this.tile);case 44:e.prev=44,e.t1=e.catch(11),this.trackView&&!0!==this.trackView.disposed&&(this.showMessage("Error loading track data"),Alert.presentAlert(e.t1),console.error(e.t1));case 47:return e.prev=47,this.loading=!1,this.stopSpinner(),e.finish(47);case 51:case"end":return e.stop()}}),e,this,[[11,44,47,51],[19,31,34,37]])}))),function(){return i.apply(this,arguments)})},{key:"repaint",value:(r=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.tile){e.next=2;break}return e.abrupt("return");case 2:if(t=this.tile,n=t.features,r=t.roiFeatures,i=t.bpPerPixel,a=t.startBP,o=t.endBP,$y.isWholeGenomeView(this.referenceFrame.chr)?(i=this.referenceFrame.end/this.$viewport.width(),a=0,o=this.referenceFrame.end,s=this.$viewport.width()):s=Math.ceil((o-a)/i),c=this.$viewport.height(),u=this.getContentHeight(),l=r?Math.max(u,c):u,h=Math.min(l,3*c),0!==s&&0!==h){e.next=12;break}return this.canvas&&Lc(this.canvas).remove(),e.abrupt("return");case 12:f=Math.max(0,-this.$content.position().top-c),d="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,p=Math.round((a-this.referenceFrame.start)/this.referenceFrame.bpPerPixel),g=Lc('<canvas class="igv-canvas">').get(0),v=g.getContext("2d"),g.style.width=s+"px",g.style.height=h+"px",g.width=d*s,g.height=d*h,v.scale(d,d),g.style.left=p+"px",g.style.top=f+"px",v.translate(0,-f),m={context:v,pixelXOffset:p,pixelWidth:s,pixelHeight:h,pixelTop:f,bpStart:a,bpEnd:o,bpPerPixel:i,referenceFrame:this.referenceFrame,selection:this.selection,viewport:this,viewportWidth:this.$viewport.width()},this.draw(m,n,r),this.canvasVerticalRange={top:f,bottom:f+h},this.$canvas&&this.$canvas.remove(),this.$canvas=Lc(g),this.$content.append(this.$canvas),this.canvas=g,this.ctx=v;case 33:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"draw",value:function(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.features=a.features,a.track.draw(e)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"toSVG",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:return n=this.referenceFrame,r=t.bpPerPixel,i=t.features,a=t.roiFeatures,o=this.$viewport.width(),s=this.$viewport.height(),c=n.start,u=n.start+o*n.bpPerPixel,l=new Ly({width:o,height:s,viewbox:{x:0,y:-this.$content.position().top,width:o,height:s}}),h={viewport:this,context:l,top:-this.$content.position().top,pixelTop:0,pixelWidth:o,pixelHeight:s,bpStart:c,bpEnd:u,bpPerPixel:r,referenceFrame:this.referenceFrame,selection:this.selection,viewportWidth:o},this.draw(h,i,a),e.abrupt("return",l.getSerializedSvg(!0));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"containsPosition",value:function(e,t){return this.referenceFrame.chr===e&&t>=this.referenceFrame.start&&t<=this.referenceFrame.calculateEnd(this.getWidth())}},{key:"isLoading",value:function(){return this.loading}},{key:"saveImage",value:function(){if(this.ctx){var e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,r=this.$viewport.height()*t,i=-Lc(this.canvas).position().left*t,a=(-this.$content.position().top-e)*t,o=this.ctx.getImageData(i,a,n,r),s=document.createElement("canvas"),c=s.getContext("2d");s.width=o.width,s.height=o.height,c.putImageData(o,0,0),cu((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",s.toDataURL("image/png"))}}},{key:"saveSVG",value:function(){var e=this.$viewport.get(0).getBoundingClientRect(),t=e.width,n=e.height,r={width:t,height:n,viewbox:{x:0,y:-this.$content.position().top,width:t,height:n}},i=new Ly(r),a=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),o=this.browser.referenceFrameList.indexOf(this.referenceFrame),s="".concat(a,"_referenceFrame_").concat(o,"_guid_").concat(Pc());this.drawSVGWithContext(i,t,n,s,0,0,0);var c=i.getSerializedSvg(!0),u=URL.createObjectURL(new Blob([c],{type:"application/octet-stream"}));cu("".concat(s,".svg"),u)}},{key:"renderSVGContext",value:function(e,t){var n=t.deltaX,r=t.deltaY;if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){var i=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),a=this.browser.referenceFrameList.indexOf(this.referenceFrame),o="".concat(i,"_referenceFrame_").concat(a,"_guid_").concat(Pc()),s=this.$content.position().top,c=this.$viewport.get(0).getBoundingClientRect(),u=c.width,l=c.height;if(this.drawSVGWithContext(e,u,l,o,n,r+s,-s),this.$trackLabel&&!0===this.browser.trackLabelsVisible){var h=((e,t)=>{const{x:n,y:r,width:i,height:a}=e.getBoundingClientRect(),{x:o,y:s,width:c,height:u}=t.getBoundingClientRect();return{x:o-n,y:s-r,width:c,height:u}})(this.$viewport.get(0),this.$trackLabel.get(0)),f=h.x,d=h.y,p=h.width,g=h.height;this.renderTrackLabelSVG(e,n+f,r+d,p,g)}}}},{key:"renderTrackLabelSVG",value:function(e,t,n,r,i){var a=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),o="".concat(a,"_track_label_guid_").concat(Pc());e.saveWithTranslationAndClipRect(o,t,n,r,i,0),e.fillStyle="white",e.fillRect(0,0,r,i),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";var s=.25*(r-e.measureText(this.$trackLabel.text()).width),c=.7*(i-12);e.fillText(this.$trackLabel.text(),s,i-c),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(0,0,r,i),e.restore()}},{key:"drawSVGWithContext",value:function(e,t,n,r,i,a,o){e.saveWithTranslationAndClipRect(r,i,a,t,n,o);var s=this.referenceFrame,c=s.start,u=s.bpPerPixel,l={context:e,viewport:this,referenceFrame:this.referenceFrame,top:o,pixelTop:o,pixelWidth:t,pixelHeight:n,bpStart:c,bpEnd:c+t*u,bpPerPixel:u,viewportWidth:t,selection:this.selection},h=this.tile?this.tile.features:[],f=this.tile?this.tile.roiFeatures:void 0;this.draw(l,h,f),e.restore()}},{key:"getCachedFeatures",value:function(){return this.tile?this.tile.features:[]}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tile||!this.tile.containsRange(n,r,i,a)){e.next=4;break}return e.abrupt("return",this.tile.features);case 4:if("function"!=typeof t.getFeatures){e.next=13;break}return e.next=7,t.getFeatures(n,r,i,a,this);case 7:return o=e.sent,this.cachedFeatures=o,this.checkContentHeight(),e.abrupt("return",o);case 13:return e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,a){return t.apply(this,arguments)})},{key:"createZoomInNotice",value:function(e){var t=Lc("<div>",{class:"igv-zoom-in-notice-container"});e.append(t);var n=Lc("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}},{key:"viewIsReady",value:function(){return this.browser&&this.browser.referenceFrameList&&this.referenceFrame}},{key:"addMouseHandlers",value:function(){this.addViewportContextMenuHandler(this.$viewport.get(0)),this.addViewportMouseDownHandler(this.$viewport.get(0)),this.addViewportTouchStartHandler(this.$viewport.get(0)),this.addViewportMouseUpHandler(this.$viewport.get(0)),this.addViewportTouchEndHandler(this.$viewport.get(0)),this.addViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.addTrackLabelClickHandler(this.$trackLabel.get(0))}},{key:"removeMouseHandlers",value:function(){this.removeViewportContextMenuHandler(this.$viewport.get(0)),this.removeViewportMouseDownHandler(this.$viewport.get(0)),this.removeViewportTouchStartHandler(this.$viewport.get(0)),this.removeViewportMouseUpHandler(this.$viewport.get(0)),this.removeViewportTouchEndHandler(this.$viewport.get(0)),this.removeViewportClickHandler(this.$viewport.get(0)),this.trackView.track.name&&"sequence"!==this.trackView.track.config.type&&this.removeTrackLabelClickHandler(this.$trackLabel.get(0))}},{key:"addViewportContextMenuHandler",value:function(e){this.boundContextMenuHandler=function(e){var t=this;if(this.browser.dragObject)return!1;var n=rb(e,this);if(void 0===n)return!1;e.preventDefault();var r=[];if("function"==typeof this.trackView.track.contextMenuItemList){var i=this.trackView.track.contextMenuItemList(n);i&&(r=i)}r.length>0&&r.push({label:Lc("<HR>")});r.push({label:"Save Image (PNG)",click:function(){return t.saveImage()}}),r.push({label:"Save Image (SVG)",click:function(){return t.saveSVG()}}),this.browser.menuPopup.presentTrackContextMenu(e,r)}.bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"removeViewportContextMenuHandler",value:function(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"addViewportMouseDownHandler",value:function(e){this.boundMouseDownHandler=tb.bind(this),e.addEventListener("mousedown",this.boundMouseDownHandler)}},{key:"removeViewportMouseDownHandler",value:function(e){e.removeEventListener("mousedown",this.boundMouseDownHandler)}},{key:"addViewportTouchStartHandler",value:function(e){this.boundTouchStartHandler=tb.bind(this),e.addEventListener("touchstart",this.boundTouchStartHandler)}},{key:"removeViewportTouchStartHandler",value:function(e){e.removeEventListener("touchstart",this.boundTouchStartHandler)}},{key:"addViewportMouseUpHandler",value:function(e){this.boundMouseUpHandler=nb.bind(this),e.addEventListener("mouseup",this.boundMouseUpHandler)}},{key:"removeViewportMouseUpHandler",value:function(e){e.removeEventListener("mouseup",this.boundMouseUpHandler)}},{key:"addViewportTouchEndHandler",value:function(e){this.boundTouchEndHandler=nb.bind(this),e.addEventListener("touchend",this.boundTouchEndHandler)}},{key:"removeViewportTouchEndHandler",value:function(e){e.removeEventListener("touchend",this.boundTouchEndHandler)}},{key:"addViewportClickHandler",value:function(e){this.boundClickHandler=function(e){var t=this;if(this.enableClick){if(3===e.which||e.ctrlKey)return;if(Lc(".igv-popover").hide(),this.browser.dragObject||this.browser.isScrolling)return;e.preventDefault(),e.stopPropagation();var n=Nc(e,this.$viewport.get(0)).x,r=Nc(e,this.canvas).x,i=this.referenceFrame,a=Math.floor(i.start+i.toBP(r)),o=Date.now();if(o-Jy<this.browser.constants.doubleClickDelay){Qy&&(window.clearTimeout(Qy),Qy=void 0);var s,c=Math.round(i.start+i.toBP(n));if("all"===this.referenceFrame.chr.toLowerCase()){var u=this.browser.genome.getChromosomeCoordinate(c).chr;if(1===this.browser.referenceFrameList.length)s=u;else{var l=this.browser.referenceFrameList.map((function(e){return e.locusSearchString})),h=this.browser.referenceFrameList.indexOf(this.referenceFrame);l[h]=u,s=l.join(" ")}this.browser.search(s)}else this.browser.zoomWithScaleFactor(.5,c,this.referenceFrame)}else e.shiftKey&&"function"==typeof this.trackView.track.shiftClick?this.trackView.track.shiftClick(a,e):"function"==typeof this.trackView.track.popupData&&(Qy=setTimeout((function(){var n=function(e,t){var n=rb(e,t);if(void 0===n)return;var r,i=t.trackView.track,a=i.popupData(n),o=t.browser.fireEvent("trackclick",[i,a]);void 0===o||!0===o?a&&a.length>0&&(r=a.map((function(e){if(e.name){var t="<span>".concat(e.name,"</span>&nbsp&nbsp&nbsp").concat(e.value);return'<div title="'.concat(e.value,'">').concat(t,"</div>")}return"<hr>"===e?e:e.html?e.html:'<div title="'.concat(e,'">').concat(e,"</div>")})).join("")):"string"==typeof o&&(r=o);return r}(e,t);n&&(t.popover&&t.popover.dispose(),t.popover=new Dd(t.browser.columnContainer),t.popover.presentContentWithEvent(e,n)),window.clearTimeout(Qy),Qy=void 0}),this.browser.constants.doubleClickDelay));Jy=o}}.bind(this),e.addEventListener("click",this.boundClickHandler)}},{key:"removeViewportClickHandler",value:function(e){e.removeEventListener("click",this.boundClickHandler)}},{key:"addTrackLabelClickHandler",value:function(e){this.boundTrackLabelClickHandler=function(e){e.stopPropagation();var t,n=this.trackView.track;t="function"==typeof n.description?n.description():n.description?"<div>".concat(n.description,"</div>"):n.url?n.url instanceof File?"<div><b>Filename: </b>".concat(n.url.name):"<div><b>URL: </b>".concat(n.url):n.name;this.popover&&this.popover.dispose();this.popover=new Dd(this.browser.columnContainer,n.name||"unnamed"),this.popover.presentContentWithEvent(e,t)}.bind(this),e.addEventListener("click",this.boundTrackLabelClickHandler)}},{key:"removeTrackLabelClickHandler",value:function(e){e.removeEventListener("click",this.boundTrackLabelClickHandler)}}]),o}(xy);function tb(e){this.enableClick=!0,this.browser.mouseDownOnViewport(e,this),Oc(e)}function nb(e){this.browser.dragObject||this.browser.isScrolling?(this.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),this.enableClick=!1):(this.browser.cancelTrackPan(),this.browser.endTrackDrag())}function rb(e,t){var n=t.referenceFrame,r=Nc(e,t.contentDiv),i=Nc(e,t.canvas),a=n.start+n.toBP(r.x);if(void 0!==a&&null!==t.tile)return{event:e,viewport:t,referenceFrame:n,genomicLocation:a,x:r.x,y:r.y,canvasX:i.x,canvasY:i.y}}var ib=function(e,t,n,r,i,a){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=r,this.features=i,this.roiFeatures=a};function ab(e,t){return e&&t?e.concat(t):e||t}ib.prototype.containsRange=function(e,t,n,r){return this.bpPerPixel===r&&t>=this.startBP&&n<=this.endBP&&e===this.chr},ib.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP};var ob,sb=function(){function e(t){eo(this,e),this.rulerSweeper=Mc({class:"igv-ruler-sweeper"}),t.contentDiv.appendChild(this.rulerSweeper),this.rulerViewport=t,this.isMouseHandlers=void 0,this.addBrowserObserver()}return no(e,[{key:"addBrowserObserver",value:function(){this.boundObserverHandler=function(){$y.isWholeGenomeView(this.rulerViewport.referenceFrame.chr)?this.removeMouseHandlers():this.addMouseHandlers()}.bind(this),this.rulerViewport.browser.on("locuschange",this.boundObserverHandler)}},{key:"removeBrowserObserver",value:function(){this.rulerViewport.browser.off("locuschange",this.boundObserverHandler)}},{key:"addMouseHandlers",value:function(){if(!0!==this.isMouseHandlers){var e,t,n,r,i,a;this.boundContentMouseDownHandler=function(a){e=!0,t=!0;var o=Nc(a,this.rulerViewport.contentDiv).x;r=n=o,i=1,this.rulerSweeper.style.display="block",this.rulerSweeper.style.left="".concat(r,"px"),this.rulerSweeper.style.width="".concat(i,"px")}.bind(this),this.rulerViewport.contentDiv.addEventListener("mousedown",this.boundContentMouseDownHandler),this.boundDocumentMouseMoveHandler=function(o){var s;if(e&&t){var c=Nc(o,this.rulerViewport.contentDiv).x;s=Math.max(Math.min(c,this.rulerViewport.contentDiv.clientWidth),0),a=s-n,i=Math.abs(a),this.rulerSweeper.style.width="".concat(i,"px"),a<0&&(r=n+a,this.rulerSweeper.style.left="".concat(r,"px"))}}.bind(this),document.addEventListener("mousemove",this.boundDocumentMouseMoveHandler),this.boundDocumentMouseUpHandler=function(n){var a;!0===e&&!0===t&&(e=t=void 0,this.rulerSweeper.style.display="none",i>1&&(a={start:cb(this.rulerViewport.referenceFrame,r),end:cb(this.rulerViewport.referenceFrame,r+i)},gb(this.rulerViewport.browser.genome.getChromosome(this.rulerViewport.referenceFrame.chr).bpLength,a,this.rulerViewport.browser.minimumBases()),this.rulerViewport.referenceFrame.bpPerPixel=(Math.round(a.end)-Math.round(a.start))/this.rulerViewport.contentDiv.clientWidth,this.rulerViewport.referenceFrame.start=Math.round(a.start),this.rulerViewport.referenceFrame.end=Math.round(a.end),this.rulerViewport.browser.updateViews(this.rulerViewport.referenceFrame)))}.bind(this),document.addEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!0}}},{key:"removeMouseHandlers",value:function(){this.rulerViewport.contentDiv.removeEventListener("mousedown",this.boundContentMouseDownHandler),document.removeEventListener("mousemove",this.boundDocumentMouseMoveHandler),document.removeEventListener("mouseup",this.boundDocumentMouseUpHandler),this.isMouseHandlers=!1}},{key:"dispose",value:function(){this.removeBrowserObserver(),this.removeMouseHandlers(),this.rulerSweeper.remove()}}]),e}();function cb(e,t){return e.start+t*e.bpPerPixel}var ub=void 0,lb=function(e){ro(n,e);var t=co(n);function n(e,r,i,a){return eo(this,n),t.call(this,e,r,i,a)}return no(n,[{key:"initializationHelper",value:function(){this.$viewport.get(0).dataset.rulerTrack="rulerTrack",this.rulerSweeper=new sb(this);var e=this.$viewport.get(0);this.multiLocusPanelCloseButton=Mc({class:"igv-multi-locus-close-button"}),e.appendChild(this.multiLocusPanelCloseButton),this.multiLocusPanelCloseButton.appendChild(Fc("times-circle")),this.rulerLabel=Mc({class:"igv-multi-locus-ruler-label"}),e.appendChild(this.rulerLabel),this.$tooltip=Lc("<div>",{class:"igv-ruler-tooltip"}),this.$tooltip.height(this.$viewport.height()),this.$viewport.append(this.$tooltip),this.$tooltipContent=Lc("<div>"),this.$tooltip.append(this.$tooltipContent),this.$tooltip.hide(),this.dismissLocusLabel(),this.addMouseHandlers()}},{key:"addMouseHandlers",value:function(){this.addMultiLocusPanelCloseHandler(this.multiLocusPanelCloseButton),this.addRulerLableClickHandler(this.rulerLabel),$y.isWholeGenomeView(this.referenceFrame.chr)?this.addViewportClickHandler(this.$viewport.get(0)):this.removeViewportClickHandler(this.$viewport.get(0))}},{key:"removeMouseHandlers",value:function(){this.removeMultiLocusPanelCloseHandler(this.multiLocusPanelCloseButton),this.removeRulerLableClickHandler(this.rulerLabel),this.removeViewportClickHandler(this.$viewport.get(0))}},{key:"addMultiLocusPanelCloseHandler",value:function(e){this.boundMultiLocusPanelCloseHandler=function(e){ub===this&&(ub=void 0);this.browser.removeMultiLocusPanel(this.referenceFrame)}.bind(this),e.addEventListener("click",this.boundMultiLocusPanelCloseHandler)}},{key:"removeMultiLocusPanelCloseHandler",value:function(e){e.removeEventListener("click",this.boundMultiLocusPanelCloseHandler)}},{key:"addRulerLableClickHandler",value:function(e){function t(){return t=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.browser.referenceFrameList.filter((function(e){return a.referenceFrame!==e})),n=go(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,this.browser.removeMultiLocusPanel(i);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])}))),t.apply(this,arguments)}this.boundRulerLableClickHandler=function(){return t.apply(this,arguments)}.bind(this),e.addEventListener("click",this.boundRulerLableClickHandler)}},{key:"removeRulerLableClickHandler",value:function(e){e.removeEventListener("click",this.boundRulerLableClickHandler)}},{key:"addViewportClickHandler",value:function(e){this.boundViewportClickHandler=function(e){var t,n=this.browser.referenceFrameList.indexOf(this.referenceFrame),r=Nc(e,this.$viewport.get(0)).x,i=Math.round(this.referenceFrame.start+this.referenceFrame.toBP(r)),a=this.browser.genome.getChromosomeCoordinate(i).chr;if(1===this.browser.referenceFrameList.length)t=a;else{var o=this.browser.referenceFrameList.map((function(e){return e.locusSearchString}));o[n]=a,t=o.join(" ")}this.browser.search(t)}.bind(this),e.addEventListener("click",this.boundViewportClickHandler)}},{key:"removeViewportClickHandler",value:function(e){e.removeEventListener("click",this.boundViewportClickHandler)}},{key:"presentLocusLabel",value:function(e){this.rulerLabel.innerHTML=this.referenceFrame.getMultiLocusLabel(e),this.rulerLabel.style.display="block",this.multiLocusPanelCloseButton.style.display="block"}},{key:"dismissLocusLabel",value:function(){this.rulerLabel.style.display="none",this.multiLocusPanelCloseButton.style.display="none"}},{key:"mouseMove",value:function(e){var t=this;if(!0===this.browser.cursorGuideVisible){if(void 0===ub?(ub=this,this.$tooltip.show()):ub.guid!==this.guid?(ub.$tooltip&&ub.$tooltip.hide(),this.$tooltip.show(),ub=this):this.$tooltip.show(),this.browser.isMultiLocusWholeGenomeView()||$y.isWholeGenomeView(this.referenceFrame.chr))return void this.$tooltip.hide();var n=Nc(e,this.$viewport.get(0)).x,r=this.referenceFrame,i=r.start,a=r.bpPerPixel,o=r.end,s=Math.round(.5+i+Math.max(0,n)*a);this.$tooltipContent.text(Hc(s));var c=this.$tooltipContent.get(0).getBoundingClientRect().width,u=this.$viewport.get(0).getBoundingClientRect().width;return this.$tooltip.css({left:"".concat(Mf(n,0,u-c),"px")}),clearTimeout(ob),ob=setTimeout((function(){t.$tooltip&&t.$tooltip.hide()}),1e4),{start:i,bp:s,end:o}}}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}},{key:"dispose",value:function(){this.rulerSweeper.dispose(),uo(io(n.prototype),"dispose",this).call(this)}}]),n}(eb),hb=function(e){ro(r,e);var t,n=co(r);function r(e,t,i,a){return eo(this,r),n.call(this,e,t,i,a)}return no(r,[{key:"initializationHelper",value:function(){this.$ideogramCanvas=Lc("<canvas>",{class:"igv-ideogram-canvas"}),this.$ideogramCanvas.insertBefore(this.$canvas);var e=this.$ideogramCanvas.get(0);this.ideogram_ctx=e.getContext("2d"),this.$canvas.remove(),this.canvas=void 0,this.ctx=void 0,this.addMouseHandlers()}},{key:"addMouseHandlers",value:function(){this.addViewportClickHandler(this.$viewport.get(0))}},{key:"removeMouseHandlers",value:function(){this.removeViewportClickHandler(this.$viewport.get(0))}},{key:"addViewportClickHandler",value:function(e){this.boundClickHandler=function(e){var t=Nc(e,this.ideogram_ctx.canvas),n=t.xNormalized,r=t.width,i=this.browser.genome.getChromosome(this.referenceFrame.chr).bpLength,a=this.referenceFrame.bpPerPixel*r/i,o=n;o-a/2<0&&(o=a/2);o+a/2>1&&(o=1-a/2);var s=Math.round((o-a/2)*i),c=Math.round((o+a/2)*i);this.referenceFrame.start=s,this.referenceFrame.end=c,this.referenceFrame.bpPerPixel=(c-s)/r,this.browser.updateViews(this.referenceFrame,this.browser.trackViews,!0)}.bind(this),e.addEventListener("click",this.boundClickHandler)}},{key:"removeViewportClickHandler",value:function(e){e.removeEventListener("click",this.boundClickHandler)}},{key:"setWidth",value:function(e){this.$viewport.width(e)}},{key:"drawSVGWithContext",value:function(e,t,n,r,i,a,o){e.saveWithTranslationAndClipRect(r,i,a,t,n,o),this.trackView.track.draw({context:e,referenceFrame:this.referenceFrame,pixelWidth:t,pixelHeight:n}),e.restore()}},{key:"repaint",value:(t=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.draw({referenceFrame:this.referenceFrame});case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.referenceFrame;this.$canvas.hide(),Vd.configureHighDPICanvas(this.ideogram_ctx,this.$viewport.width(),this.$viewport.height()),this.trackView.track.draw({context:this.ideogram_ctx,referenceFrame:t,pixelWidth:this.$viewport.width(),pixelHeight:this.$viewport.height()})}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}}]),r}(eb);function fb(e){var t=new Set(["boolean","number","string","symbol"]),n=Ka(e);return void 0!==e&&(t.has(n)||e.substring||e.toFixed)}function db(e,t){var n={oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename};return Object.assign(n,t)}var pb=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach((function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))})),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},gb=function(e,t,n){var r=t.start,i=t.end;if(void 0===i)(i=(r-=n/2)+n)>e?r=(i=e)-n:r<0&&(r=0,i=n);else if(i-r<n){var a=(i+r)/2;a-n/2<0?i=(r=0)+n:a+n/2>e?r=(i=e)-n:i=(r=a-n/2)+n}t.start=Math.ceil(r),t.end=Math.floor(i)};function vb(e){return mb.apply(this,arguments)}function mb(){return(mb=Ja(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zc(t)||!t.startsWith("https://drive.google.com")){e.next=9;break}if(void 0!==tu()){e.next=3;break}throw Error("Google drive is referenced, but API key is not defined.  An API key is required for Google Drive access");case 3:return e.next=5,nu(t);case 5:return n=e.sent,e.abrupt("return",n.originalFileName||n.name);case 9:return e.abrupt("return",ou(t));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yb(e){var t,n;return e>1e7?(t=" mb",n=e/1e6,Math.floor(n).toString()+t):e>1e4?(t=" kb",n=e/1e3,Hc(Math.floor(n))+t):Hc(e)+" bp"}function bb(e){return zc(e)&&e.startsWith("data:")}function wb(e,t){var n=Mc({class:t});e.appendChild(n)}function xb(e,t){t.parentNode.insertBefore(e,t)}function kb(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function _b(e,t,n,r){return"ruler"===e.track.type?new lb(e,t,n,r):"ideogram"===e.track.type?new hb(e,t,n,r):new eb(e,t,n,r)}var Sb={textAlign:"start",textBaseline:"bottom",strokeStyle:"black",fillStyle:"black"},Cb=function(){function e(t,n,r,i){eo(this,e),this.guid=Pc(),this.trackView=t,this.browser=t.browser,this.viewport=Mc({class:"igv-viewport"}),n.appendChild(this.viewport),t.track.height&&(this.viewport.style.height="".concat(t.track.height,"px")),this.canvas=document.createElement("canvas"),this.viewport.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.trackScrollDelta=0,this.contentTop=0,this.setWidth(i),!1===this.browser.showSampleNames&&this.hide(),this.addMouseHandlers()}var t;return no(e,[{key:"checkCanvas",value:function(){var e=window.devicePixelRatio,t=this.viewport.clientHeight,n=this.browser.sampleNameViewportWidth;if(this.canvas.width!==n*e||this.canvas.height!==t*e){var r=this.canvas;r.width=n*e,r.height=t*e,r.style.width="".concat(n,"px"),r.style.height="".concat(t,"px"),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(e,e)}}},{key:"setTop",value:function(e){if("function"==typeof this.trackView.track.getSamples){this.contentTop=e;var t=this.trackView.track.getSamples();this.repaint(t)}}},{key:"setWidth",value:function(e){this.viewport.innerWidth=e,this.checkCanvas()}},{key:"show",value:function(){this.viewport.style.display="block"}},{key:"hide",value:function(){this.viewport.style.display="none"}},{key:"repaint",value:(t=Ja(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkCanvas(),this.draw({context:this.ctx,samples:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context,n=e.samples;if(n&&0!==n.names.length){!function(e,t,n){var r=t.textAlign,i=t.textBaseline;t.strokeStyle;var a=t.fillStyle,o=Math.min(n,10);e.font="".concat(o,"px sans-serif"),e.textAlign=r,e.textBaseline=i,e.fillStyle=a}(t,Sb,n.height);t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=function(e){var t=cy[e],n=t.r,r=t.g,i=t.b;return"rgb(".concat(n,",").concat(r,",").concat(i,")")}("lead");var r,i=this.viewport.getBoundingClientRect().height,a=(n.yOffset||0)+this.contentTop,o=go(n.names);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(a>i)break;if(a+n.height>0){var c=s,u=Eb(t,c,a,n.height);t.fillText(c,4,u)}a+=n.height}}catch(e){o.e(e)}finally{o.f()}}}},{key:"renderSVGContext",value:function(e,t){var n=t.deltaX,r=t.deltaY;if("function"==typeof this.trackView.track.getSamples){var i=this.trackView.track.getSamples(),a=this.viewport.getBoundingClientRect(),o=a.width,s=a.height,c=(this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),u="".concat(c,"_sample_names_guid_").concat(Pc());e.saveWithTranslationAndClipRect(u,n,r+0,o,s,-0),this.draw({context:e,samples:i}),e.restore()}}},{key:"addMouseHandlers",value:function(){this.addViewportContextMenuHandler(this.viewport)}},{key:"removeMouseHandlers",value:function(){this.removeViewportContextMenuHandler(this.viewport)}},{key:"addViewportContextMenuHandler",value:function(e){this.boundContextMenuHandler=function(e){var t=this;e.preventDefault(),e.stopPropagation();var n={label:"Name Panel Width",value:this.browser.sampleNameViewportWidth,callback:function(e){t.browser.sampleNameViewportWidth=parseInt(e);var n,r=go(t.browser.trackViews);try{for(r.s();!(n=r.n()).done;){n.value.sampleNameViewport.setWidth(t.browser.sampleNameViewportWidth)}}catch(e){r.e(e)}finally{r.f()}t.browser.resize()}};this.browser.inputDialog.present(n,e)}.bind(this),e.addEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"removeViewportContextMenuHandler",value:function(e){e.removeEventListener("contextmenu",this.boundContextMenuHandler)}},{key:"dispose",value:function(){this.removeMouseHandlers(),this.viewport.remove()}}]),e}();function Eb(e,t,n,r){return n+r-function(e,t,n){var r=e.measureText(t),i=r.actualBoundingBoxAscent,a=r.actualBoundingBoxDescent;return(n-(i+a))/2}(e,t,r)}var Ab=function(e){ro(n,e);var t=co(n);function n(e){var r=e.parent,i=e.width;return eo(this,n),t.call(this,{parent:r,width:i,border:"1px solid gray"})}return no(n,[{key:"configure",value:function(e,t){this.colorHandlers=t,this.setActiveColorHandler("color"),this.createSwatches(e)}},{key:"setActiveColorHandler",value:function(e){this.activeColorHandler=this.colorHandlers[e]}},{key:"createSwatches",value:function(e){this.container.querySelectorAll(".igv-ui-color-swatch").forEach((function(e){return e.remove()}));for(var t=0,n=Object.values(jf);t<n.length;t++){var r=n[t],i=Mc({class:"igv-ui-color-swatch"});this.container.appendChild(i),this.decorateSwatch(i,r)}if(e){var a,o=go(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=Mc({class:"igv-ui-color-swatch"});this.container.appendChild(c),this.decorateSwatch(c,s)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"decorateSwatch",value:function(e,t){var n=this;e.style.backgroundColor=t,e.addEventListener("mouseenter",(function(){return e.style.borderColor=t})),e.addEventListener("mouseleave",(function(){return e.style.borderColor="white"})),e.addEventListener("click",(function(e){e.stopPropagation(),n.activeColorHandler(t)})),e.addEventListener("touchend",(function(e){e.stopPropagation(),n.activeColorHandler(t)}))}}]),n}(Od),Rb=function(e){var t=this;this.popover=Mc({class:"igv-menu-popup"}),e.appendChild(this.popover);var n=Mc({class:"igv-menu-popup-header"});this.popover.appendChild(n),Bc(n,(function(){return t.hide()})),this.popoverContent=Mc(),this.popover.appendChild(this.popoverContent),Df(this.popover,n),n.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault()})),this.hide()};Rb.prototype.hide=function(){this.popover.style.display="none"},Rb.prototype.presentMenuList=function(e){if(Tb(),e.length>0){this.popoverContent.innerHTML="";var t,n=go(e=dd.trackMenuItemListHelper(e,this));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.init&&r.init();var i=r.object;0===e.indexOf(r)&&i.removeClass("igv-track-menu-border-top"),i.hasClass("igv-track-menu-border-top")||i.hasClass("igv-menu-popup-check-container")||i.is("div")&&i.addClass("igv-menu-popup-shim"),this.popoverContent.appendChild(i.get(0))}}catch(e){n.e(e)}finally{n.f()}this.popover.style.display="flex";var a=this.popover.getBoundingClientRect().width;this.popover.style.left="".concat(-a,"px"),this.popover.style.top="".concat(0,"px")}},Rb.prototype.presentTrackContextMenu=function(e,t){this.popoverContent.innerHTML="";var n,r,i,a=(n=t,r=this.popover,n.map((function(e){var t;if("string"==typeof e&&"<hr/>"===e)t=document.createElement("hr");else if("string"==typeof e)(t=Mc({class:"context-menu"})).innerHTML=e;else if("Node"==typeof e)t=e;else{if("function"==typeof e.init&&e.init(),"checkbox"===e.type)t=fd("Show all bases",e.value);else if("color"===e.type){var n=new Ab({parent:r.parentElement,width:364});n.configure(void 0,{color:function(t){return e.click(t)}}),t=Mc({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);var i=function(e){n.show(),Ic(r),e.preventDefault(),e.stopPropagation()};t.addEventListener("click",i),t.addEventListener("touchend",i),t.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}else t=Mc({class:"context-menu"}),"string"==typeof e.label&&(t.innerHTML=e.label);if(e.click&&"color"!==e.type){function n(t){e.click(),Ic(r),t.preventDefault(),t.stopPropagation()}t.addEventListener("click",n),t.addEventListener("touchend",n),t.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}}return{el:t,init:e.init}}))),o=go(a);try{for(o.s();!(i=o.n()).done;){var s=i.value.el;this.popoverContent.appendChild(s)}}catch(e){o.e(e)}finally{o.f()}!function(e,t){t.style.display="flex";var n=Nc(e,t.parentNode),r=n.x,i=n.y,a=t.getBoundingClientRect().width,o=r+a,s=t.parentNode.getBoundingClientRect().width;t.style.left="".concat(o>s?r-(o-s):r,"px"),t.style.top="".concat(i,"px")}(e,this.popover)},Rb.prototype.dispose=function(){this.popoverContent.innerHTML="",this.popover.innerHTML="",Object.keys(this).forEach((function(e){this[e]=void 0}))};var Tb=function(){for(var e=document.querySelectorAll(".igv-menu-popup"),t=0;t<e.length;t++)e[t].style.display="none"},Lb=new Set(["ruler","sequence","ideogram"]),Mb=new Set(["ruler","sequence","ideogram"]),Ib=function(){function e(t,n,r){eo(this,e),this.namespace="trackview-".concat(Pc()),this.browser=t,this.track=r,r.trackView=this,this.addDOMToColumnContainer(t,n,t.referenceFrameList)}var t,n;return no(e,[{key:"startSpinner",value:function(){this.viewports&&this.viewports.length>0&&this.viewports[0].startSpinner()}},{key:"stopSpinner",value:function(){this.viewports&&this.viewports.length>0&&this.viewports[0].stopSpinner()}},{key:"addDOMToColumnContainer",value:function(e,t,n){this.axis=this.createAxis(e,this.track),this.viewports=[];for(var r=e.calculateViewportWidth(n.length),i=t.querySelectorAll(".igv-column"),a=0;a<i.length;a++){var o=_b(this,i[a],n[a],r);this.viewports.push(o)}this.sampleNameViewport=new Cb(this,e.columnContainer.querySelector(".igv-sample-name-column"),void 0,e.sampleNameViewportWidth),this.createTrackScrollbar(e),this.createTrackDragHandle(e),this.createTrackGearPopup(e)}},{key:"createAxis",value:function(e,t){var n=this,r=Mc();if(e.columnContainer.querySelector(".igv-axis-column").appendChild(r),r.style.height="".concat(t.height,"px"),"function"==typeof t.paintAxis){t.dataRange&&r.addEventListener("click",(function(){e.dataRangeDialog.configure(n),e.dataRangeDialog.present(Lc(e.columnContainer))}));var i=r.getBoundingClientRect(),a=i.width,o=i.height;this.axisCanvas=document.createElement("canvas"),this.axisCanvas.style.width="".concat(a,"px"),this.axisCanvas.style.height="".concat(o,"px"),r.appendChild(this.axisCanvas)}return r}},{key:"resizeAxisCanvas",value:function(e,t){this.axis.style.width="".concat(e,"px"),this.axis.style.height="".concat(t,"px"),"function"==typeof this.track.paintAxis&&(this.axisCanvas.style.width="".concat(e,"px"),this.axisCanvas.style.height="".concat(t,"px"))}},{key:"removeDOMFromColumnContainer",value:function(){this.boundAxisClickHander&&this.removeAxisEventListener(this.axis),this.axis.remove();var e,t=go(this.viewports);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.removeMouseHandlers(),n.$viewport.remove()}}catch(e){t.e(e)}finally{t.f()}this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove()}},{key:"renderSVGContext",value:function(e,t){var n=t.deltaX,r=t.deltaY;!function(e,t,n,r,i){if("function"==typeof t.paintAxis){var a=n.getBoundingClientRect(),o=a.y,s=a.width,c=a.height,u=(t.name||t.id).replace(/\W/g,""),l="".concat(u,"_axis_guid_").concat(Pc());e.saveWithTranslationAndClipRect(l,r,o+i,s,c,0),t.paintAxis(e,s,c),e.restore()}}(e,this.track,this.axisCanvas,n,r);var i,a={deltaX:this.axis.getBoundingClientRect().width+n,deltaY:this.viewports[0].$viewport.get(0).getBoundingClientRect().y+r},o=go(this.viewports);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.renderSVGContext(e,a);var c=s.$viewport.get(0).getBoundingClientRect().width;a.deltaX+=c}}catch(e){o.e(e)}finally{o.f()}!0===this.browser.showSampleNames&&this.sampleNameViewport.renderSVGContext(e,a)}},{key:"dataRange",value:function(){return this.track.dataRange?this.track.dataRange:void 0}},{key:"setDataRange",value:function(e,t){void 0!==e&&(this.track.dataRange.min=e),void 0!==t&&(this.track.dataRange.max=t),this.track.autoscale=!1,this.repaintViews()}},{key:"presentColorPicker",value:function(e){var t=this;if(!1===Mb.has(this.track.type)){var n=[],r=this.track.color||this.track.defaultColor;zc(r)&&n.push(r),this.track.altColor&&zc(this.track.altColor)&&n.push(this.track.altColor);var i=n.map((function(e){return e.startsWith("#")?e:e.startsWith("rgb(")?Nf.rgbToHex(e):Nf.colorNameToHex(e)})),a={color:function(e){t.track.color=e,t.repaintViews()},altColor:function(e){t.track.altColor=e,t.repaintViews()}};this.browser.genericColorPicker.configure(i,a),this.browser.genericColorPicker.setActiveColorHandler(e),this.browser.genericColorPicker.show()}}},{key:"setTrackHeight",value:function(e,t){t||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,this.resizeAxisCanvas(this.axis.clientWidth,this.track.height),"function"==typeof this.track.paintAxis&&this.paintAxis();var n,r=go(this.viewports);try{for(r.s();!(n=r.n()).done;){n.value.$viewport.height(e)}}catch(e){r.e(e)}finally{r.f()}if(this.sampleNameViewport.viewport.style.height="".concat(e,"px"),"function"!=typeof this.track.computePixelHeight){var i,a=go(this.viewports);try{for(a.s();!(i=a.n()).done;){i.value.setContentHeight(e)}}catch(e){a.e(e)}finally{a.f()}}this.repaintViews(),!1===Lb.has(this.track.type)&&this.updateScrollbar(),this.dragHandle.style.height="".concat(e,"px"),this.gearContainer.style.height="".concat(e,"px")}},{key:"updateScrollbar",value:function(){var e=this.viewports[0].$viewport.height();this.outerScroll.style.height="".concat(e,"px");var t=Ob(this.viewports),n=Math.round(e/t*e);t>e?(this.innerScroll.style.display="block",this.innerScroll.style.height="".concat(n,"px")):this.innerScroll.style.display="none"}},{key:"moveScroller",value:function(e){var t=Lc(this.innerScroll).position().top+e,n=Math.min(Math.max(0,t),this.outerScroll.clientHeight-this.innerScroll.clientHeight);Lc(this.innerScroll).css("top","".concat(n,"px"));var r,i=Ob(this.viewports),a=-Math.round(n*(i/this.viewports[0].$viewport.height())),o=go(this.viewports);try{for(o.s();!(r=o.n()).done;){r.value.setTop(a)}}catch(e){o.e(e)}finally{o.f()}this.sampleNameViewport.trackScrollDelta=e,this.sampleNameViewport.setTop(a)}},{key:"isLoading",value:function(){var e,t=go(this.viewports);try{for(t.s();!(e=t.n()).done;){if(e.value.isLoading())return!0}}catch(e){t.e(e)}finally{t.f()}}},{key:"resize",value:function(e){var t,n=go(this.viewports);try{for(n.s();!(t=n.n()).done;){t.value.setWidth(e)}}catch(e){n.e(e)}finally{n.f()}this.updateViews(!0)}},{key:"repaintViews",value:function(){var e,t=go(this.viewports);try{for(t.s();!(e=t.n()).done;){e.value.repaint()}}catch(e){t.e(e)}finally{t.f()}"function"==typeof this.track.paintAxis&&this.paintAxis(),this.repaintSamples()}},{key:"repaintSamples",value:function(){if("function"==typeof this.track.getSamples){var e=this.track.getSamples();this.sampleNameViewport.repaint(e)}}},{key:"setTrackLabelName",value:function(e){this.viewports.forEach((function(t){return t.setTrackLabel(e)}))}},{key:"updateViews",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.referenceFrameList){e.next=2;break}return e.abrupt("return");case 2:if(n=this.viewports.filter((function(e){return e.isVisible()})),n.forEach((function(e){return e.shift()})),!(r=this.browser.dragObject)){e.next=7;break}return e.abrupt("return");case 7:i=this.viewportsToReload(t),a=go(i),e.prev=9,a.s();case 11:if((o=a.n()).done){e.next=17;break}return s=o.value,e.next=15,s.loadFeatures();case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:if("function"==typeof this.track.variantRowCount&&i.length>0){c=0,u=go(this.viewports);try{for(u.s();!(l=u.n()).done;)(h=l.value).tile&&h.tile.features&&(c=Math.max(c,h.tile.features.reduce((function(e,t){return Math.max(e,t.row||0)}),0)))}catch(e){u.e(e)}finally{u.f()}if(this.track.nVariantRows!==c+1){this.track.variantRowCount(c+1),f=go(this.viewports);try{for(f.s();!(d=f.n()).done;)d.value.checkContentHeight()}catch(e){f.e(e)}finally{f.f()}}}if(!this.disposed){e.next=28;break}return e.abrupt("return");case 28:if(this.track.autoscale){p=[],g=go(n);try{for(g.s();!(v=g.n()).done;)m=v.value,y=m.referenceFrame,b=y.start,w=b+y.toBP(Lc(m.contentDiv).width()),m.tile&&m.tile.features&&("function"==typeof m.tile.features.getMax?(x=m.tile.features.getMax(b,w),p.push({value:x})):p=p.concat(hd(m.tile.features,b,w)))}catch(e){g.e(e)}finally{g.f()}"function"==typeof this.track.doAutoscale?this.track.dataRange=this.track.doAutoscale(p):this.track.dataRange=pb(p)}if(r||!this.track.autoscale&&!this.track.autoscaleGroup){S=go(i);try{for(S.s();!(C=S.n()).done;)C.value.repaint()}catch(e){S.e(e)}finally{S.f()}}else{k=go(n);try{for(k.s();!(_=k.n()).done;)_.value.repaint()}catch(e){k.e(e)}finally{k.f()}}this.adjustTrackHeight(),this.repaintSamples(),this.updateRulerViewportLabels();case 33:case"end":return e.stop()}}),e,this,[[9,19,22,25]])}))),function(e){return n.apply(this,arguments)})},{key:"updateRulerViewportLabels",value:function(){var e,t=this.browser.calculateViewportWidth(this.viewports.length),n=go(this.viewports);try{for(n.s();!(e=n.n()).done;){var r=e.value;"ruler"===this.track.type&&(this.viewports.length>1?r.presentLocusLabel(t):r.dismissLocusLabel())}}catch(e){n.e(e)}finally{n.f()}}},{key:"getInViewFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.referenceFrameList){e.next=2;break}return e.abrupt("return",[]);case 2:return n=this.viewportsToReload(t),r=n.map((function(e){return e.loadFeatures()})),e.next=6,Promise.all(r);case 6:i=[],a=go(this.viewports);try{for(a.s();!(o=a.n()).done;)(s=o.value).tile&&s.tile.features&&(c=s.referenceFrame,u=c.start,l=u+c.toBP(Lc(s.contentDiv).width()),"function"==typeof s.tile.features.getMax?(h=s.tile.features.getMax(u,l),i.push({value:h})):i=i.concat(hd(s.tile.features,u,l)))}catch(e){a.e(e)}finally{a.f()}return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"checkContentHeight",value:function(){var e,t=go(this.viewports);try{for(t.s();!(e=t.n()).done;){e.value.checkContentHeight()}}catch(e){t.e(e)}finally{t.f()}this.adjustTrackHeight()}},{key:"adjustTrackHeight",value:function(){var e=Ob(this.viewports);if(this.track.autoHeight?this.setTrackHeight(e,!1):this.track.paintAxis&&this.paintAxis(),!1===Lb.has(this.track.type)){var t=this.viewports[0].getContentTop(),n=this.viewports.map((function(e){return e.getContentHeight()})),r=Math.min.apply(Math,ho(n)),i=Math.min(0,this.viewports[0].$viewport.height()-r);if(t<i){var a,o=go(this.viewports);try{for(o.s();!(a=o.n()).done;){a.value.$content.css("top","".concat(i,"px"))}}catch(e){o.e(e)}finally{o.f()}}this.updateScrollbar()}}},{key:"viewportsToReload",value:function(e){return this.viewports.filter((function(t){if(!t.isVisible())return!1;if(t.checkZoomIn()){var n=t.referenceFrame,r=t.referenceFrame.chr,i=n.start,a=i+n.toBP(Lc(t.contentDiv).width()),o=n.bpPerPixel;return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(r,i,a,o)}return!1}))}},{key:"createTrackScrollbar",value:function(e){var t=Mc();if(e.columnContainer.querySelector(".igv-scrollbar-column").appendChild(t),t.style.height="".concat(this.track.height,"px"),this.outerScroll=t,!1===Lb.has(this.track.type)){var n=Mc();t.appendChild(n),this.innerScroll=n,this.addTrackScrollMouseHandlers(e)}}},{key:"createTrackDragHandle",value:function(e){var t="ideogram"===this.track.type||"ruler"===this.track.type?"igv-track-drag-shim":"igv-track-drag-handle";this.dragHandle=Mc({class:t}),e.columnContainer.querySelector(".igv-track-drag-column").appendChild(this.dragHandle),this.dragHandle.style.height="".concat(this.track.height,"px"),this.addTrackDragMouseHandlers(e)}},{key:"createTrackGearPopup",value:function(e){this.gearContainer=Mc(),e.columnContainer.querySelector(".igv-gear-menu-column").appendChild(this.gearContainer),this.gearContainer.style.height="".concat(this.track.height,"px"),!0===this.track.ignoreTrackMenu||(this.gear=Mc(),this.gearContainer.appendChild(this.gear),this.gear.appendChild(Fc("cog")),this.trackGearPopup=new Rb(this.gear),this.addTrackGearMouseHandlers())}},{key:"addAxisEventListener",value:function(e){this.boundAxisClickHander=function(e){this.browser.dataRangeDialog.configure(this),this.browser.dataRangeDialog.present(Lc(this.browser.columnContainer))}.bind(this),e.addEventListener("click",this.boundAxisClickHander)}},{key:"removeAxisEventListener",value:function(e){e.removeEventListener("click",this.boundAxisClickHander)}},{key:"addTrackScrollMouseHandlers",value:function(e){this.boundTrackScrollMouseDownHandler=function(t){t.stopPropagation();var n=Oc(t).y;Lc(this.innerScroll).data("yDown",n.toString()),this.boundColumnContainerMouseMoveHandler=function(e){e.stopPropagation();var t=Oc(e).y;this.moveScroller(t-parseInt(Lc(this.innerScroll).data("yDown"))),Lc(this.innerScroll).data("yDown",t.toString())}.bind(this),e.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}.bind(this),this.innerScroll.addEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.boundColumnContainerMouseUpHandler=function(t){e.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler)}.bind(this),e.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler)}},{key:"removeTrackScrollMouseHandlers",value:function(){!1===Lb.has(this.track.type)&&(this.innerScroll.removeEventListener("mousedown",this.boundTrackScrollMouseDownHandler),this.browser.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.browser.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler))}},{key:"addTrackDragMouseHandlers",value:function(e){if("ideogram"===this.track.type||"ruler"===this.track.type);else{var t=void 0;function n(n){n.preventDefault(),(t=n.target).classList.add("igv-track-drag-handle-hover"),e.startTrackDrag(this)}function r(n){e.endTrackDrag(),t&&n.target!==t&&t.classList.remove("igv-track-drag-handle-hover"),t=void 0}function i(n){n.preventDefault(),void 0===t&&n.target.classList.add("igv-track-drag-handle-hover"),e.updateTrackDrag(this)}function a(e){e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")}this.boundTrackDragMouseDownHandler=n.bind(this),this.dragHandle.addEventListener("mousedown",this.boundTrackDragMouseDownHandler),this.boundDocumentTrackDragMouseUpHandler=r.bind(this),document.addEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.boundTrackDragMouseEnterHandler=i.bind(this),this.dragHandle.addEventListener("mouseenter",this.boundTrackDragMouseEnterHandler),this.dragHandle.addEventListener("mouseout",(function(e){e.preventDefault(),void 0===t&&e.target.classList.remove("igv-track-drag-handle-hover")})),this.boundTrackDragMouseOutHandler=a.bind(this),this.dragHandle.addEventListener("mouseout",this.boundTrackDragMouseOutHandler)}}},{key:"removeTrackDragMouseHandlers",value:function(){"ideogram"===this.track.type||"ruler"===this.track.type||(this.dragHandle.removeEventListener("mousedown",this.boundTrackDragMouseDownHandler),document.removeEventListener("mouseup",this.boundDocumentTrackDragMouseUpHandler),this.dragHandle.removeEventListener("mouseup",this.boundTrackDragMouseEnterHandler),this.dragHandle.removeEventListener("mouseout",this.boundTrackDragMouseOutHandler))}},{key:"addTrackGearMouseHandlers",value:function(){if(!0===this.track.ignoreTrackMenu);else{function e(e){e.preventDefault(),e.stopPropagation(),this.trackGearPopup.presentMenuList(dd.trackMenuItemList(this))}this.boundTrackGearClickHandler=e.bind(this),this.gear.addEventListener("click",this.boundTrackGearClickHandler)}}},{key:"removeTrackGearMouseHandlers",value:function(){!0===this.track.ignoreTrackMenu||this.gear.removeEventListener("click",this.boundTrackGearClickHandler)}},{key:"dispose",value:function(){this.removeAxisEventListener(this.axis),this.axis.remove();var e,t=go(this.viewports);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}this.sampleNameViewport.dispose(),this.removeTrackScrollMouseHandlers(),this.outerScroll.remove(),this.removeTrackDragMouseHandlers(),this.dragHandle.remove(),this.removeTrackGearMouseHandlers(),this.gearContainer.remove(),"function"==typeof this.track.dispose&&this.track.dispose();var n=this.track;"function"==typeof n.dispose&&n.dispose();for(var r=0,i=Object.keys(n);r<i.length;r++){n[i[r]]=void 0}for(var a=0,o=Object.keys(this);a<o.length;a++){this[o[a]]=void 0}this.alert&&this.alert.container.remove(),this.disposed=!0}},{key:"paintAxis",value:function(){if("function"==typeof this.track.paintAxis){var e=this.axisCanvas.getBoundingClientRect(),t=e.width,n=e.height,r=window.devicePixelRatio||1;this.axisCanvas.height=r*n,this.axisCanvas.width=r*t;var i=this.axisCanvas.getContext("2d");i.scale(r,r),this.track.paintAxis(i,t,n)}}}]),e}();function Ob(e){var t=e.map((function(e){return e.getContentHeight()}));return Math.max.apply(Math,ho(t))}var Pb=function(e,t,n,r,i,a,o,s){for(var c,u=i,l=0,h=!!o&&$t(o,s,3);l<r;){if(l in n){if(c=h?h(n[l],l,t):n[l],a>0&&Pe(c))u=Pb(e,t,c,he(c.length),u,a-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=c}u++}l++}return u},Nb=Pb;Oe({target:"Array",proto:!0},{flatMap:function(e){var t,n=Ne(this),r=he(n.length);return Gt(e),(t=qe(n,0)).length=Nb(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}}),yt("flatMap");var Fb=vn.trim,Db=r.parseFloat,Bb=1/Db(hn+"-0")!=-1/0?function(e){var t=Fb(String(e)),n=Db(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Db;function zb(e,t){if(e.length<6)console.log("Skipping line: "+e.join(" "));else{var n={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};if(!(isNaN(n.start1)||isNaN(n.end1)||isNaN(n.start2)||isNaN(n.end2))){if(e.length>6&&"."!==e[6]&&(n.name=e[6]),e.length>7&&"."!==e[7]&&(n.score=parseFloat(e[7])),e.length>8&&"."!==e[8]&&(n.strand1=e[8]),e.length>9&&"."!==e[9]&&(n.strand2=e[9]),t){var r=t.colorColumn;r&&r<e.length&&(n.color=Nf.createColorString(e[r]));var i=t.thicknessColumn;i&&i<e.length&&(n.thickness=e[i]),e.length>10&&t.columnNames&&t.columnNames.length===e.length&&(n.extras=e.slice(10))}return n.chr1===n.chr2&&(n.chr=n.chr1,n.start=Math.min(n.start1,n.start2),n.end=Math.max(n.end1,n.end2)),n}}}function Hb(e){if(0!=e.length){var t,n=e[0];if(void 0===n.score&&void 0!==n.name){var r,i=go(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!("number"==typeof(t=a.name)?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t)))&&"."!==a.name)return}}catch(e){i.e(e)}finally{i.f()}var o,s=go(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.score=parseFloat(c.name),delete c.name}}catch(e){s.e(e)}finally{s.f()}}var u,l=e.filter((function(e){return e.chr1!==e.chr2})),h=go(l);try{for(h.s();!(u=h.n()).done;){var f=u.value,d=Object.assign({},f);d.dup=!0,e.push(d),f.chr=f.chr1,f.start=f.start1,f.end=f.end1,d.chr=d.chr2,d.start=d.start2,d.end=d.end2}}catch(e){h.e(e)}finally{h.f()}}}function jb(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:Nf.createColorString(e[6]),value:Number.parseFloat(e[7])}}function Vb(e,t){if(!(e.length<6))return{chr:e[0],start:e[1],end:e[2],chr1:e[8],start1:Number.parseInt(e[9]),end1:Number.parseInt(e[10]),chr2:e[13],start2:Number.parseInt(e[14]),end2:Number.parseInt(e[15]),name:e[3],score:Number.parseFloat(e[4]),value:Number.parseFloat(e[5]),color:"."===e[7]?void 0:"0"===e[7]?"rgb(0,0,0)":e[7]};console.log("Skipping line: "+e.join(" "))}Oe({target:"Number",stat:!0,forced:Number.parseFloat!=Bb},{parseFloat:Bb});for(var Ub=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna","lnc_RNA","miRNA","ncRNA","rRNA","scRNA","snRNA","snoRNA","tRNA"]),qb=new Set(["CDS","cds"]),Wb=new Set(["start_codon","stop_codon"]),Gb=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),$b=new Set(["exon","coding-exon"]),Zb=new Set,Yb=0,Xb=[qb,Wb,Gb,$b];Yb<Xb.length;Yb++){var Kb,Qb=go(Xb[Yb]);try{for(Qb.s();!(Kb=Qb.n()).done;){var Jb=Kb.value;Zb.add(Jb)}}catch(El){Qb.e(El)}finally{Qb.f()}}function ew(e){return e.includes("intron")}function tw(e){return qb.has(e)||Wb.has(e)}function nw(e){return Gb.has(e)}function rw(e){return Ub.has(e)||e.endsWith("RNA")||e.endsWith("transcript")}function iw(e){return Zb.has(e)||e.endsWith("RNA")||ew(e)}var aw=new Set(["id","parent","name"]),ow=function(){function e(t){eo(this,e),Object.assign(this,t)}return no(e,[{key:"popupData",value:function(e){var t=this.geneObject?this.geneObject.popupData():[];if(this.geneObject&&t.push("<hr/>"),this.name&&t.push({name:"Name",value:this.name}),t.push({name:"Type",value:this.type}),t.push({name:"Source",value:this.source}),this.attributeString){var n,r=go(hw(this.attributeString,this.delim));try{for(r.s();!(n=r.n()).done;){var i=lo(n.value,2),a=i[0],o=i[1];void 0!==o&&o.length>0&&!aw.has(a.toLowerCase())&&t.push({name:a+":",value:o})}}catch(e){r.e(e)}finally{r.f()}}return t.push({name:"Location",value:"".concat(this.chr,":").concat(Hc(this.start+1),"-").concat(Hc(this.end))}),t}},{key:"getAttributeValue",value:function(e){if(this.hasOwnProperty(e))return this[e];if(this._attributeCache||(this._attributeCache=new Map),this._attributeCache.has(e))return this._attributeCache.get(e);var t,n,r=go(hw(this.attributeString,this.delim));try{for(r.s();!(n=r.n()).done;){var i=lo(n.value,2),a=i[0],o=i[1];if(a===e){t=o;break}}}catch(e){r.e(e)}finally{r.f()}return this._attributeCache.set(e,t),t}}]),e}(),sw=function(e){ro(n,e);var t=co(n);function n(e){var r;return eo(this,n),(r=t.call(this,e)).exons=[],r.parts=[],r}return no(n,[{key:"addExon",value:function(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)}},{key:"addPart",value:function(e){this.parts.push(e)}},{key:"assembleParts",value:function(){if(0!==this.parts.length){this.parts.sort((function(e,t){return e.start-t.start}));for(var e=this.parts[0].start,t=this.parts[0].end,n=1;n<this.parts.length;n++){var r=this.parts[n];if(!ew(r.type))if(r.start<=t)t=Math.max(t,r.end);else this.findExonContaining({start:e,end:t})||this.exons.push({start:e,end:t,psuedo:!0}),e=r.start,t=r.end}this.findExonContaining({start:e,end:t})||(this.exons.push({start:e,end:t,psuedo:!0}),this.start=Math.min(this.start,e),this.end=Math.max(this.end,t));var i,a=go(this.parts);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.type;tw(s)?this.addCDS(o):nw(s)&&this.addUTR(o)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"findExonContaining",value:function(e){var t,n=e.start,r=e.end,i=go(this.exons);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.end>=r&&a.start<=n)return a}}catch(e){i.e(e)}finally{i.f()}}},{key:"addCDS",value:function(e){var t,n,r=go(this.exons);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.start<=e.start&&i.end>=e.end){t=i;break}}}catch(e){r.e(e)}finally{r.f()}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end):console.error("No exon found spanning "+e.start+"-"+e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end}},{key:"addUTR",value:function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)):console.error("No exon found spanning "+cds.start+"-"+cds.end)}},{key:"finish",value:function(){this.assembleParts();var e=this.cdStart,t=this.cdEnd;this.exons.sort((function(e,t){return e.start-t.start})),e&&this.exons.forEach((function(n){(n.end<e||n.start>t)&&(n.utr=!0)}))}},{key:"popupData",value:function(e){var t,r=uo(io(n.prototype),"popupData",this).call(this,e),i=go(this.exons);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!a.pseudo&&(e>=a.start&&e<a.end&&"function"==typeof a.popupData)){r.push("<hr/>");var o,s=go(a.popupData(e));try{for(s.s();!(o=s.n()).done;){var c=o.value;r.push(c)}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){i.e(e)}finally{i.f()}var u,l=go(this.parts);try{for(l.s();!(u=l.n()).done;){var h=u.value;if(e>=h.start&&e<h.end&&"function"==typeof h.popupData){r.push("<hr/>");var f,d=go(h.popupData(e));try{for(d.s();!(f=d.n()).done;){var p=f.value;r.push(p)}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){l.e(e)}finally{l.f()}return r}}]),n}(ow);function cw(e,t){var n=t.format;if(!(e.length<9)){var r="gff3"===n?"=":" ";return new ow({source:e[1],type:e[2],chr:e[0],start:parseInt(e[3])-1,end:parseInt(e[4]),score:"."===e[5]?0:parseFloat(e[5]),strand:e[6],phase:"."===e[7]?0:parseInt(e[7]),attributeString:e[8],delim:r})}}function uw(e,t){var n=cw(e,t);if(n){var r,i=go(hw(n.attributeString,n.delim));try{for(i.s();!(r=i.n()).done;){var a=lo(r.value,2),o=a[0],s=a[1],c=o.toLowerCase();"color"===c||"colour"===c?n.color=Nf.createColorString(s):"ID"===o?n.id=s:"Parent"===o&&(n.parent=s)}}catch(e){i.e(e)}finally{i.f()}return n}}function lw(e,t){var n=cw(e,t);if(n){var r,i,a=hw(n.attributeString,n.delim);switch(n.type){case"gene":r="gene_id";break;case"transcript":r="transcript_id",i="gene_id";break;default:i="transcript_id"}var o,s=go(a);try{for(s.s();!(o=s.n()).done;){var c=lo(o.value,2),u=c[0],l=c[1],h=u.toLowerCase();"color"===h||"colour"===h?n.color=Nf.createColorString(l):u===r?n.id=l:u===i&&(n.parent=l)}}catch(e){s.e(e)}finally{s.f()}return n}}function hw(e,t){var n,r=[],i=go(e.split(";"));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=(a=a.trim()).indexOf(t);if(o>0&&o<a.length-1){var s=a.substring(0,o),c=fw(decodeURIComponent(a.substring(o+1).trim()));r.push([s,c])}}}catch(e){i.e(e)}finally{i.f()}return r}function fw(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),e}var dw=function e(t){eo(this,e),this.message=t};function pw(e,t){if(!(e.length<3)){t&&t.gffTags;var n=e[0],r=parseInt(e[1]),i=e.length>2?parseInt(e[2]):r+1;if(isNaN(r)||isNaN(i))return new dw("Unparsable bed record.");var a=new Sw({chr:n,start:r,end:i,score:1e3});try{if(e.length>3){if(e[3].indexOf(";")>0&&e[3].indexOf("=")>0){var o=hw(e[3],"=");a.attributes={};var s,c=go(o);try{for(c.s();!(s=c.n()).done;){var u=s.value;a.attributes[u[0]]=u[1]}}catch(e){c.e(e)}finally{c.f()}}a.name||(a.name="."===e[3]?"":e[3])}if(e.length>4&&(a.score="."===e[4]?0:parseFloat(e[4]),isNaN(a.score)))return a;if(e.length>5&&(a.strand=e[5],"."!==a.strand&&"+"!==a.strand&&"-"!==a.strand))return a;if(e.length>6&&(a.cdStart=parseInt(e[6]),isNaN(a.cdStart)))return a;if(e.length>7&&(a.cdEnd=parseInt(e[7]),isNaN(a.cdEnd)))return a;if(e.length>8&&"."!==e[8]&&"0"!==e[8]&&(a.color=Nf.createColorString(e[8])),e.length>11){var l=parseInt(e[9]);if(l>1e3)return a;var h=e[10].replace(/,$/,"").split(","),f=e[11].replace(/,$/,"").split(",");if(h.length!==f.length||l!==h.length)return a;for(var d=[],p=0;p<l;p++){var g=r+parseInt(f[p]),v=g+parseInt(h[p]);d.push({start:g,end:v})}bw(d,a.cdStart,a.cdEnd),a.exons=d}if(t){var m=t.thicknessColumn,y=t.colorColumn;y&&y<e.length&&(a.color=Nf.createColorString(e[y])),m&&m<e.length&&(a.thickness=e[m])}}catch(e){}return a}}function gw(e,t){if(!(e.length<=15))return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function vw(e,t){var n=void 0===t.shift?0:1;if(!(e.length<=9+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),a={name:e[0+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},o=parseInt(e[7+n]),s=e[8+n].split(","),c=e[9+n].split(","),u=[],l=0;l<o;l++){var h=parseInt(s[l]),f=parseInt(c[l]);u.push({start:h,end:f})}return bw(u,r,i),a.exons=u,a}}function mw(e,t){var n=void 0===t.shift?0:1;if(!(e.length<=11+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),a={name:e[11+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},o=parseInt(e[7+n]),s=e[8+n].split(","),c=e[9+n].split(","),u=[],l=0;l<o;l++){var h=parseInt(s[l]),f=parseInt(c[l]);u.push({start:h,end:f})}return bw(u,r,i),a.exons=u,a}}function yw(e,t){var n=void 0===t.shift?0:1;if(!(e.length<=10+n)){for(var r=parseInt(e[6+n]),i=parseInt(e[7+n]),a={name:e[0+n],id:e[1+n],chr:e[2+n],strand:e[3+n],start:parseInt(e[4+n]),end:parseInt(e[5+n]),cdStart:r,cdEnd:i},o=parseInt(e[8+n]),s=e[9+n].split(","),c=e[10+n].split(","),u=[],l=0;l<o;l++){var h=parseInt(s[l]),f=parseInt(c[l]);u.push({start:h,end:f})}return bw(u,r,i),a.exons=u,a}}function bw(e,t,n){var r,i=go(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.end,s=a.start;o<t||s>n?a.utr=!0:(t>=s&&t<=o&&(a.cdStart=t),n>=s&&n<=o&&(a.cdEnd=n))}}catch(e){i.e(e)}finally{i.f()}}function ww(e,t){var n,r,i,a,o,s,c;if(!(e.length<9))return n=e[0],r=parseInt(e[1]),i=parseInt(e[2]),o=e[3],s=parseFloat(e[4]),a=e[5].trim(),c=parseFloat(e[6]),0===s&&(s=c),{chr:n,start:r,end:i,name:o,score:s,strand:a,signal:c,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])}}function xw(e,t){if(!(e.length<=3)){var n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(t){var r=t.colorColumn;r&&r<e.length&&(n.color=Nf.createColorString(e[r]))}return n}}function kw(e,t){var n=t.wig;if(n&&"fixedStep"===n.format){var r=n.index*n.step+n.start,i=r+n.span,a=parseFloat(e[0]);return++n.index,isNaN(a)?null:{chr:n.chrom,start:r,end:i,value:a}}if(n&&"variableStep"===n.format){if(e.length<2)return null;var o=parseInt(e[0],10)-1,s=o+n.span,c=parseFloat(e[1]);return isNaN(c)?null:{chr:n.chrom,start:o,end:s,value:c}}return xw(e)}function _w(e,t){if(!(e.length<6)){for(var n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],r={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},i=Math.min(e.length,n.length),a=6;a<i;a++)r[n[a]]=e[a];return r}}var Sw=function(){function e(t){eo(this,e),Object.assign(this,t)}return no(e,[{key:"getAttributeValue",value:function(e){return this.hasOwnProperty(e)?this[e]:this.attributes?this.attributes[e]:void 0}}]),e}();function Cw(e,t){if(!(e.length<7)){var n=e[0],r=e[1],i=parseInt(e[2]),a=parseInt(e[3]),o=parseInt(e[4]),s=parseInt(e[5]),c=e[6],u={chr:n,name:r,junction_left:i,junction_right:a,num_junction_reads:o,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},l=i,h=a;if(s>0)for(var f=c.split(","),d=0;d<f.length;d++){var p=f[d].split("-"),g=p[0],v=p[1];g<l&&(l=g),v>h&&(h=v),u.spanning_frag_coords.push({left:g,right:v})}return u.start=l,u.end=h,u}}function Ew(e,t){if(e.length<7)return null;var n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(e[7],'">').concat(e[7],"</a>")),n}function Aw(e,t){var n=t.customFormat;if(!(e.length<n.fields.length)){var r=n.coords||0,i=e[n.chr],a=parseInt(e[n.start])-r,o={chr:i,start:a,end:void 0!==n.end?parseInt(e[n.end]):a+1};return n.fields&&n.fields.forEach((function(t,r){r!==n.chr&&r!==n.start&&r!==n.end&&(o[t]=e[r])})),o}}function Rw(e,t){var n=t.columnNames;if(!n)throw Error("Sample names are not defined.   Missing column headers?");var r=n.length-3,i=e[0],a=parseInt(e[1]),o=parseInt(e[2]),s=e.slice(3).map(parseFloat);return s.length==r?{chr:i,start:a,end:o,values:s}:void console.warn("".concat(i,":").concat(a,"-").concat(o," row contains ").concat(s.length," sample columns instead of the expected ").concat(r," columns. Skipping..."))}var Tw=function(){function e(t){eo(this,e),this.config=t,this.header={},t.nameField&&(this.header.nameField=t.nameField),this.skipRows=0,t.decode?(this.decode=t.decode,this.delimiter=t.delimiter||"\t"):t.format&&(this.header.format=t.format.toLowerCase(),this.setDecoder(this.header.format)),this.delimiter||(this.delimiter="\t")}var t,n;return no(e,[{key:"parseHeader",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.header;case 1:return e.next=3,t.nextLine();case 3:if(e.t0=i=e.sent,e.t1=void 0,e.t0===e.t1){e.next=52;break}if(!i.startsWith("track")&&!i.startsWith("#track")){e.next=11;break}a=Lw(i),Object.assign(n,a),e.next=50;break;case 11:if(!i.startsWith("browser")){e.next=14;break}e.next=50;break;case 14:if(!i.startsWith("#columns")){e.next=19;break}o=Mw(i),Object.assign(n,o),e.next=50;break;case 19:if(!i.startsWith("##gff-version 3")){e.next=23;break}n.format="gff3",e.next=50;break;case 23:if(!i.startsWith("#gffTags")){e.next=27;break}n.gffTags=!0,e.next=50;break;case 27:if(!i.startsWith("fixedStep")&&!i.startsWith("variableStep")){e.next=31;break}return e.abrupt("break",52);case 31:if(!i.startsWith("#")){e.next=36;break}(s=i.split(this.delimiter||"\t")).length>1&&(r=s),e.next=50;break;case 36:if(this.setDecoder(n.format),c=i.split(this.delimiter||"\t"),e.prev=38,u=Object.assign({columnNames:r},n),!this.decode(c,u)){e.next=44;break}return e.abrupt("break",52);case 44:c.length>1&&(r=c);case 45:e.next=50;break;case 47:e.prev=47,e.t2=e.catch(38),c.length>1&&(r=c);case 50:e.next=1;break;case 52:if(r)for(n.columnNames=r,l=0;l<r.length;l++)"color"===r[l]||"colour"===r[l]?n.colorColumn=l:"thickness"===r[l]&&(n.thicknessColumn=l);return this.header=n,e.abrupt("return",n);case 55:case"end":return e.stop()}}),e,this,[[38,47]])}))),function(e){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=this.decode,i=this.header.format,a=this.delimiter||"\t",o=0,s=0;case 6:return e.next=8,t.nextLine();case 8:if(e.t0=c=e.sent,e.t1=void 0,e.t0===e.t1){e.next=37;break}if(!(++o<=this.skipRows)){e.next=14;break}return e.abrupt("continue",6);case 14:if(c&&!c.startsWith("track")&&!c.startsWith("#")&&!c.startsWith("browser")){e.next=18;break}return e.abrupt("continue",6);case 18:if("wig"!==i||!c.startsWith("fixedStep")){e.next=23;break}return this.header.wig=Iw(c),e.abrupt("continue",6);case 23:if("wig"!==i||!c.startsWith("variableStep")){e.next=26;break}return this.header.wig=Ow(c),e.abrupt("continue",6);case 26:if(!((u=c.split(a)).length<1)){e.next=29;break}return e.abrupt("continue",6);case 29:if(!((l=r(u,this.header))instanceof dw)){e.next=34;break}return++s>0&&console.error("Error parsing line '".concat(c,"': ").concat(l.message)),e.abrupt("continue",6);case 34:l&&n.push(l),e.next=6;break;case 37:return r===zb&&Hb(n),e.abrupt("return",n);case 39:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setDecoder",value:function(e){switch(e){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=ww,this.delimiter=this.config.delimiter||/\s+/;break;case"bedgraph":this.decode=xw,this.delimiter=/\s+/;break;case"wig":this.decode=kw,this.delimiter=this.config.delimiter||/\s+/;break;case"gff3":case"gff":this.decode=uw,this.delimiter="\t";break;case"gtf":this.decode=lw,this.delimiter="\t";break;case"fusionjuncspan":this.decode=Cw,this.delimiter=this.config.delimiter||/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=Ew,this.delimiter="\t";break;case"refflat":this.decode=yw,this.delimiter=this.config.delimiter||/\s+/;break;case"genepred":this.decode=vw,this.delimiter=this.config.delimiter||/\s+/;break;case"genepredext":this.decode=mw,this.delimiter=this.config.delimiter||/\s+/;break;case"ensgene":this.decode=vw,this.header.shift=1,this.delimiter=this.config.delimiter||/\s+/;break;case"refgene":this.decode=mw,this.delimiter=this.config.delimiter||/\s+/,this.header.shift=1;break;case"bed":this.decode=pw,this.delimiter=this.config.delimiter||/\s+/;break;case"bedpe":this.decode=zb,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-domain":this.decode=jb,this.headerLine=!0,this.delimiter=this.config.delimiter||"\t";break;case"bedpe-loop":this.decode=zb,this.delimiter=this.config.delimiter||"\t",this.header={colorColumn:7};break;case"interact":this.decode=Vb,this.delimiter=this.config.delimiter||/\s+/;break;case"snp":this.decode=_w,this.delimiter="\t";break;case"rmsk":this.decode=gw,this.delimiter="\t";break;case"gcnv":this.decode=Rw,this.delimiter="\t";break;default:var t=(n=e,Gm&&Gm[n]?function(e){for(var t=e.fields,n=["chr","start","end"],r=0;r<t.length;r++){var i,a=go(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;o===t[r]&&(e[o]=r)}}catch(e){a.e(e)}finally{a.f()}}return e}(Gm[n]):void 0);void 0!==t?(this.decode=Aw,this.header.customFormat=t,this.delimiter=t.delimiter||"\t"):(this.decode=pw,this.delimiter=this.config.delimiter||/\s+/)}var n}}]),e}();function Lw(e){var t,n,r={},i=[],a=go(e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g));try{for(a.s();!(n=a.n()).done;){var o=n.value;o&&0!==o.trim().length&&(o.endsWith("=")?t=o:t?(i.push(t+o),t=void 0):i.push(o))}}catch(e){a.e(e)}finally{a.f()}for(var s=0,c=i;s<c.length;s++){var u=c[s];if(!u)return;var l=u.split("=",2);if(2===l.length){var h=l[0].trim(),f=l[1].trim();if(r.hasOwnProperty(h)){var d=r[h];Array.isArray(d)?d.push(f):r[h]=[d,f]}else r[h]=f}}return"interact"==r.type?r.format="interact":"gcnv"===r.type&&(r.format="gcnv"),r}function Mw(e){var t={},n=e.split(/\s+/);2===n.length&&n[1].split(";").forEach((function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}));return t}function Iw(e){var t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Ow(e){var t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}var Pw=function(){function e(t){switch(eo(this,e),this.type=t||"seg",this.type){case"mut":this.sampleColumn=3,this.chrColumn=0,this.startColumn=1,this.endColumn=2,this.dataColumn=4;break;case"maf":this.sampleColumn=15,this.chrColumn=4,this.startColumn=5,this.endColumn=6,this.dataColumn=8;break;default:this.sampleColumn=0,this.chrColumn=1,this.startColumn=2,this.endColumn=3}}var t,n;return no(e,[{key:"parseHeader",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextLine();case 2:if(e.t0=n=e.sent,e.t1=void 0,e.t0===e.t1){e.next=13;break}if(!n.startsWith("#")){e.next=8;break}e.next=11;break;case 8:return r=n.split("\t"),this.header={headings:r},e.abrupt("break",13);case 11:e.next=0;break;case 13:return e.abrupt("return",this.header);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],this.header){e.next=5;break}return e.next=4,this.parseHeader(t);case 4:this.header=e.sent;case 5:"seg"===this.type&&(this.dataColumn=this.header.headings.length-1),this.header.headings.length>5&&(r=this.extractExtraColumns(this.header.headings)),i=this.header.headings[this.dataColumn];case 8:return e.next=10,t.nextLine();case 10:if(e.t0=a=e.sent,e.t1=void 0,e.t0===e.t1){e.next=18;break}o=a.split("\t"),s="seg"===this.type?parseFloat(o[this.dataColumn]):o[this.dataColumn],o.length>this.dataColumn&&(c=new Nw({sample:o[this.sampleColumn],chr:o[this.chrColumn],start:parseInt(o[this.startColumn])-1,end:parseInt(o[this.endColumn]),value:s,valueColumnName:i}),r&&(u=this.extractExtraColumns(o),c.setAttributes({names:r,values:u})),n.push(c)),e.next=8;break;case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"extractExtraColumns",value:function(e){for(var t=[],n=0;n<e.length;n++)n!==this.chrColumn&&n!==this.startColumn&&n!==this.endColumn&&n!==this.sampleColumn&&t.push(e[n]);return t}}]),e}(),Nw=function(){function e(t){var n=t.sample,r=t.chr,i=t.start,a=t.end,o=t.value,s=t.valueColumnName;eo(this,e),this.sample=n,this.chr=r,this.start=i,this.end=a,this.value=o,this.valueColumnName=s}return no(e,[{key:"setAttributes",value:function(e){var t=e.names,n=e.values;this.attributeNames=t,this.attributeValues=n}},{key:"getAttribute",value:function(e){if(this.attributeNames){var t=this.attributeNames.indexOf(e);if(t>=0)return this.attributeValues[t]}}},{key:"popupData",value:function(){var e=new Set(["chr","start","end","sample","value","row","color","sampleKey","uniqueSampleKey","sampleId","chromosome","uniquePatientKey"]),t=this.chr+":"+Hc(this.start+1)+"-"+Hc(this.end),n=[{name:"Sample",value:this.sample},{name:"Location",value:t},{name:this.valueColumnName?Uc(this.valueColumnName):"Value",value:this.value}];if(this.attributeNames&&this.attributeNames.length>0)for(var r=0;r<this.attributeNames.length;r++)!e.has(this.attributeNames[r])&this.valueColumnName!==this.attributeNames[r]&&n.push({name:Uc(this.attributeNames[r]),value:this.attributeValues[r]});return n}}]),e}(),Fw=function(){function e(t,n){eo(this,e),this.browser=n,this.init(t)}return no(e,[{key:"init",value:function(e){e.displayMode&&(e.displayMode=e.displayMode.toUpperCase()),this.config=e,this.url=e.url,this.type=e.type,this.description=e.description,this.supportHiDPI=void 0===e.supportHiDPI||e.supportHiDPI,e.name||e.label?this.name=e.name||e.label:e.url instanceof File?this.name=e.url.name:zc(e.url)&&!e.url.startsWith("data:")&&(this.name=ou(e.url)),this.id=void 0===this.config.id?this.name:this.config.id,this.order=e.order,this.color=e.color,this.altColor=e.altColor,"civic-ws"===e.sourceType?this.defaultColor="rgb(155,20,20)":this.defaultColor="rgb(0,0,150)",this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.height=e.height||100,this.autoHeight=e.autoHeight,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=e.visibilityWindow,this.trackView=void 0}},{key:"updateConfig",value:function(e){this.init(e)}},{key:"getState",value:function(){for(var e={},t=0,n=Object.keys(this.config);t<n.length;t++){var r=n[t];r.startsWith("_")||"function"==typeof this.config[r]||(e[r]=this.config[r])}for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];if(!o.startsWith("_")){var s=this[o];s&&(fb(s)||"boolean"==typeof s)&&(e[o]=s)}}this.color&&(e.color=this.color),this.altColor&&(e.altColor=this.altColor),!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max);for(var c=0,u=Object.keys(e);c<u.length;c++){var l=u[c];if("function"==typeof e[l])throw Error("Property '".concat(l,"' of track '").concat(this.name," is a function. Functions cannot be saved in sessions."));if(e[l]instanceof File){var h="Track ".concat(this.name," is a local file. Sessions cannot be saved with local file references.");throw Error(h)}if(e[l]instanceof Promise)throw Error("Property '".concat(l,"' of track '").concat(this.name," is a Promise. Promises cannot be saved in sessions."))}return e}},{key:"supportsWholeGenome",value:function(){return!1}},{key:"hasSamples",value:function(){return!1}},{key:"getGenomeId",value:function(){return this.browser.genome?this.browser.genome.id:void 0}},{key:"setTrackProperties",value:function(e){for(var t,n={},r=0,i=Object.keys(e);r<i.length;r++){var a=i[r];switch(a.toLowerCase()){case"usescore":n.useScore=1===e[a]||"1"===e[a]||"on"===e[a]||!0===e[a];break;case"visibility":switch(e[a]){case"2":case"3":case"pack":case"full":n.displayMode="EXPANDED";break;case"4":case"squish":n.displayMode="SQUISHED";break;case"1":case"dense":n.displayMode="COLLAPSED"}break;case"color":case"altcolor":n[a]=e[a].startsWith("rgb(")?e[a]:"rgb("+e[a]+")";break;case"featurevisiblitywindow":case"visibilitywindow":n.visibilityWindow=Number.parseInt(e[a]);break;case"maxheightpixels":3===(t=e[a].split(":")).length&&(n.minHeight=Number.parseInt(t[2]),n.height=Number.parseInt(t[1]),n.maxHeight=Number.parseInt(t[0]));break;case"viewlimits":if(!this.config.autoscale){var o=0,s=void 0;1==(t=e[a].split(":")).length?s=Number.parseFloat(t[0]):2==t.length&&(o=Number.parseFloat(t[0]),s=Number.parseFloat(t[1])),n.autoscale=!1,n.dataRange={min:o,max:s}}case"name":n[a]=e[a];break;case"url":n.infoURL=e[a];break;case"type":var c=e[a];Dw.has(c)&&(n[a]=Dw.get(c));break;case"graphtype":n.graphType=e[a];break;default:n[a]=e[a]}}for(var u=0,l=Object.keys(n);u<l.length;u++){var h=l[u];if((!this.config.hasOwnProperty(h)||"name"===h&&this.config._derivedName)&&(this[h]=n[h],"height"===h&&this.trackView))try{var f=Number.parseInt(n[h]);this.trackView.setTrackHeight(f)}catch(e){console.error(e)}}}},{key:"getVisibilityWindow",value:function(){return this.visibilityWindow}},{key:"clickedFeatures",value:function(e,t){if(t||(t=e.viewport.getCachedFeatures()),!t||0===t.length)return[];var n=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:.2;return hd(t,n-r,n+r)}},{key:"extractPopupData",value:function(t,n){var r,i,a=new Set(["row","color","chr","start","end","cdStart","cdEnd","strand","alpha"]),o=[];for(var s in t)if(t.hasOwnProperty(s)&&!a.has(s)&&fb(t[s])){var c=t[s];o.push({name:Uc(s),value:c}),"alleles"===s?r=t[s]:"alleleFreqs"===s&&(i=t[s])}if(r&&i){r.endsWith(",")&&(r=r.substr(0,r.length-1)),i.endsWith(",")&&(i=i.substr(0,i.length-1));var u=r.split(","),l=i.split(",");if(l.length>1){for(var h=[],f=0;f<l.length;f++)h.push({a:u[f],af:Number.parseFloat(l[f])});h.sort((function(e,t){return e.af-t.af}));var d=h[h.length-1].a;if(1===d.length)for(var p=h.length-2;p>=0;p--){var g=h[p].a;if(1===g.length){n||(n=this.getGenomeId());var v=e.getCravatLink(t.chr,t.start+1,d,g,n);console.log(v),v&&(o.push("<hr/>"),o.push({html:v}),o.push("<hr/>"))}}}}if(t.attributes)for(var m=0,y=Object.keys(t.attributes);m<y.length;m++){var b=y[m];o.push({name:b,value:t.attributes[b]})}var w="".concat(t.chr,":").concat(Hc(t.start+1),"-").concat(Hc(t.end));return t.strand&&(w+=" (".concat(t.strand,")")),o.push({name:"Location",value:w}),o}},{key:"name",get:function(){return this._name},set:function(e){this._name=e,this.trackView&&this.trackView.setTrackLabelName(e)}}],[{key:"getCravatLink",value:function(e,t,n,r,i){if("hg38"===i||"GRCh38"===i){var a=e.startsWith("chr")?e:"chr"+e;return'<a target="_blank" href="https://run.opencravat.org/result/nocache/variant.html'+"?chrom=".concat(a,"&pos=").concat(t,"&ref_base=").concat(n,"&alt_base=").concat(r,'">Cravat ').concat(n,"->").concat(r,"</a>")}}}]),e}(),Dw=new Map([["wiggle_0","wig"],["bed","bed"],["bigBed","bigBed"],["bigWig","bigWig"]]),Bw=new Set(["A","C","T","G"].map((function(e){return e.charCodeAt(0)})));function zw(e){return new Hw(e)}var Hw=function(){function e(t){eo(this,e),this.chr=t[0],this.pos=parseInt(t[1]),this.names=t[2],this.referenceBases=t[3],this.alternateBases=t[4],this.quality=t[5],this.filter=t[6],this.info=function(e){var t={};e&&e.split(";").forEach((function(e){var n=e.split("=");t[n[0]]=n[1]}));return t}(t[7]),this.init()}return no(e,[{key:"init",value:function(){var e=this.referenceBases,t=this.alternateBases;if(this.info&&(this.info.VT?this.type=this.info.VT:this.info.SVTYPE?this.type="SV":this.info.PERIOD&&(this.type="STR")),void 0===this.type&&(this.type=function(e,t){var n=e.length;if(void 0===t)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t||"."===t)return"NONVARIANT";var r,i=t.split(",").map((function(e){return 1===n&&1===e.length?"SNP":"<NON_REF>"===e?"NONVARIANT":"OTHER"})),a=i[0],o=go(i);try{for(o.s();!(r=o.n()).done;){if(r.value!==a)return"MIXED"}}catch(e){o.e(e)}finally{o.f()}return a}(e,t)),"NONVARIANT"===this.type&&(this.heterozygosity=0),this.info.END)this.start=this.pos-1,this.info.CHR2&&this.info.CHR2!==this.chr?this.end=this.start+1:this.end=Number.parseInt(this.info.END);else if("NONVARIANT"===this.type)this.start=this.pos-1,this.end=this.start+e.length;else{var n=t.split(",").filter((function(e){return e.length>0}));this.alleles=[],this.start=void 0,this.end=void 0;var r,i=go(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(this.alleles.push(a),"SV"!==this.type&&jw(a)){for(var o=a.length,s=e.length,c=Math.min(o,s),u=0;u<c&&e.charCodeAt(u)===a.charCodeAt(u);)u++,o--,s--;for(;o>0&&s>0;){var l=u+o-1,h=u+s-1;if(a.charCodeAt(l)!==e.charCodeAt(h))break;o--,s--}for(;o>0&&s>0;){var f=u,d=u;if(a.charCodeAt(f)!==e.charCodeAt(d))break;u++,o--,s--}var p=this.pos+u-1,g=p+s;this.start=void 0===this.start?p:Math.min(this.start,p),this.end=void 0===this.end?g:Math.max(this.end,g)}}}catch(e){i.e(e)}finally{i.f()}void 0===this.start&&(this.start=this.pos-1,this.end=this.pos)}}},{key:"popupData",value:function(e,t){var n="".concat(Hc(this.pos)),r=this.start===this.end?"".concat(Hc(this.start)," | ").concat(Hc(this.start+1)):"".concat(Hc(this.start+1),"-").concat(Hc(this.end)),i=[{name:"Chr",value:this.chr},{name:"Pos",value:n},{name:"Loc",value:r},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}];if("SNP"===this.type){var a=this.referenceBases;if(1===a.length){var o,s=go(this.alternateBases.split(","));try{for(s.s();!(o=s.n()).done;){var c=o.value;if(1===c.length){var u=Fw.getCravatLink(this.chr,this.pos,a,c,t);u&&(i.push("<hr/>"),i.push({html:u}))}}}catch(e){s.e(e)}finally{s.f()}}}if(this.hasOwnProperty("heterozygosity")&&i.push({name:"Heterozygosity",value:this.heterozygosity}),this.info){i.push({html:'<hr style="border-top: dotted 1px;border-color: #c9c3ba" />'});for(var l=0,h=Object.keys(this.info);l<h.length;l++){var f=h[l];i.push({name:f,value:Vw(decodeURIComponent(this.info[f]))})}}return i}},{key:"isRefBlock",value:function(){return"NONVARIANT"===this.type}}]),e}();function jw(e){for(var t=0;t<e.length;t++)if(!Bw.has(e.charCodeAt(t)))return!1;return!0}function Vw(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}var Uw=function(){function e(){eo(this,e)}var t,n;return no(e,[{key:"construtor",value:function(){}},{key:"parseHeader",value:(n=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r={}).chrAliasTable=new Map,e.next=4,t.nextLine();case 4:if(!(i=e.sent).startsWith("##fileformat")){e.next=9;break}r.version=i.substr(13),e.next=10;break;case 9:throw new Error("Invalid VCF file: missing fileformat line");case 10:return e.next=12,t.nextLine();case 12:if(e.t0=i=e.sent,e.t1=void 0,e.t0===e.t1){e.next=42;break}if(!i.startsWith("#")){e.next=39;break}if(a=void 0,o={},!i.startsWith("##")){e.next=36;break}if(!(i.startsWith("##INFO")||i.startsWith("##FILTER")||i.startsWith("##FORMAT"))){e.next=33;break}if(s=i.indexOf("<"),c=i.lastIndexOf(">"),s>2&&c>0){e.next=25;break}return console.log("Malformed VCF header line: "+i),e.abrupt("continue",10);case 25:u=i.substring(2,s-1),r[u]||(r[u]={}),l=Vc(i.substring(s+1,c-1),","),h=go(l);try{for(h.s();!(f=h.n()).done;)d=f.value,(p=d.split("=")).length>1&&("ID"===p[0]?a=p[1]:o[p[0]]=p[1])}catch(e){h.e(e)}finally{h.f()}a&&(r[u][a]=o),e.next=34;break;case 33:i.startsWith("##contig")&&n&&(g=i.indexOf("<ID="),-1==(v=i.indexOf(",",g))&&(v=i.indexOf(">",g)),m=i.substring(g+4,v),y=n.getChromosomeName(m),r.chrAliasTable.set(y,m));case 34:e.next=37;break;case 36:if(i.startsWith("#CHROM")&&(b=i.split("\t")).length>8)for(r.callSets=[],w=9;w<b.length;w++)r.callSets.push({id:w,name:b[w]});case 37:e.next=40;break;case 39:return e.abrupt("break",42);case 40:e.next=10;break;case 42:return this.header=r,e.abrupt("return",r);case 44:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=this.header.callSets,i=8+(r?r.length+1:0);case 3:return e.next=5,t.nextLine();case 5:if(e.t0=a=e.sent,e.t1=void 0,e.t0===e.t1){e.next=11;break}a&&!a.startsWith("#")&&(o=a.split("\t")).length===i&&((s=zw(o)).header=this.header,n.push(s),o.length>9&&function(){var e=qw(o[8].split(":"));s.calls={};for(var t=function(t){var n=o[t],i=r[t-9],a={callSetName:i.name,info:{}};s.calls[i.id]=a,n.split(":").forEach((function(t,n){n===e.genotypeIndex?(a.genotype=[],t.split(/[\|\/]/).forEach((function(e){a.genotype.push("."===e?e:parseInt(e))}))):a.info[e.fields[n]]=t}))},n=9;n<o.length;n++)t(n)}()),e.next=3;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function qw(e){for(var t={genotypeIndex:-1,fields:e},n=0;n<e.length;n++)"GT"===e[n]&&(t.genotypeIndex=n);return t}function Ww(e){return"string"==typeof e||e instanceof String?new Gw(e):new $w(e)}var Gw=function(){function e(t){eo(this,e),this.data=t,this.ptr=0}return no(e,[{key:"nextLine",value:function(){var e=this.ptr,t=this.data.indexOf("\n",e),n=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===n.charAt(t-1)?n.substring(e,t-1):n.substring(e,t);var r=n.length;return this.ptr=r,e>=r?void 0:n.substring(e)}}]),e}(),$w=function(){function e(t){eo(this,e),this.data=t,this.length=this.data.length,this.ptr=0}return no(e,[{key:"nextLine",value:function(){var e,t;if(t="",!(this.ptr>=this.length)){for(var n=this.ptr;n<this.length;n++)if("\r"!==(e=String.fromCharCode(this.data[n]))){if("\n"===e)break;t+=e}return this.ptr=n+1,t}}}]),e}(),Zw=function(){function e(t){if(eo(this,e),this.config=t,t.columns){if(void 0===t.columns.chromosome||void 0===t.columns.position||void 0===t.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=t.columns.position-1,this.chrCol=t.columns.chromosome-1,this.pvalueCol=t.columns.value-1}else this.posCol=2,this.chrCol=1,this.pvalueCol=3}var t,n;return no(e,[{key:"parseHeader",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextLine();case 2:return n=e.sent,e.abrupt("return",this.parseHeaderLine(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"parseHeaderLine",value:function(e){if(this.columns=e.split(/\t/),!this.config.columns)for(var t=0;t<this.columns.length;t++){switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=t;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.valueCol=t}}return this.columns}},{key:"parseFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=t.nextLine(),this.columns||this.parseHeaderLine(r);void 0!==(i=t.nextLine());)(a=i.split(/\t/)).length===this.columns.length&&(o=a[this.chrCol],s=parseInt(a[this.posCol])-1,c=s+1,u=parseFloat(a[this.valueCol]),n.push(new Yw({chr:o,start:s,end:c,value:u,line:i,columns:this.columns})));return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Yw=function(){function e(t){var n=t.chr,r=t.start,i=t.end,a=t.value,o=t.line,s=t.columns;eo(this,e),this.chr=n,this.start=r,this.end=i,this.value=a,this.line=o,this.columns=s}return no(e,[{key:"popupData",value:function(){var e=this.line.split(/\t/);return this.columns.map((function(t,n){return{name:t,value:e[n]}}))}},{key:"getAttribute",value:function(e){for(var t=this.line.split(/\t/),n=0;n<this.columns.length;n++)if(this.columns[n]===e)return t[n]}}]),e}(),Xw=new RegExp("([^:]*)\\(([^)]*)\\)"),Kw=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),Qw=function(){function e(t){eo(this,e);var n=t?t.decode:void 0;this.nameField=t?t.nameField:void 0,this.skipRows=0,this.decode=n||ix,this.delimiter="\t"}var t,n;return no(e,[{key:"parseHeader",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextLine();case 2:if(!(n=e.sent)){e.next=10;break}if(!(n.startsWith("track")||n.startsWith("#")||n.startsWith("browser"))){e.next=7;break}n.startsWith("track")||n.startsWith("#track")?(i=tx(n),r?Object.assign(r,i):r=i):n.startsWith("#columns")?(a=nx(n),r?Object.assign(r,a):r=a):n.startsWith("##gff-version 3")&&(this.format="gff3",r||(r={}),r.format="gff3"),e.next=8;break;case 7:return e.abrupt("break",10);case 8:e.next=0;break;case 10:return this.header=r,e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"parseFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=function(){for(var e,t,n=[],r="",a=!1;o||""===o;){for(e=0;e<o.length;e++)(t=o.charAt(e))===i?a?r+=t:(n.push(r),r=""):'"'===t?e+1<o.length&&'"'===o.charAt(e+1)?(a&&(r+='"'),e++):a=!a:r+=t;if(!a)break;r+="\n",o=nextLine()}return n.push(r),n},n=[],r=this.decode,i=this.delimiter||"\t",a=0;case 6:if(void 0===(o=t.nextLine())){e.next=20;break}if(!(++a<=this.skipRows||o.startsWith("track")||o.startsWith("#")||o.startsWith("browser"))){e.next=10;break}return e.abrupt("continue",6);case 10:if(!((s=u()).length<1)){e.next=13;break}return e.abrupt("continue",6);case 13:if(this.aed){e.next=16;break}return this.aed=ex(s),e.abrupt("continue",6);case 16:(c=r.call(this,s,void 0))&&n.push(c),e.next=6;break;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Jw(e){var t=Kw.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=Xw.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function ex(e){var t,n,r;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)r=Jw(e[n]),t.columns.push(r);return t}function tx(e){var t,n,r={},i=[],a=go(e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g));try{for(a.s();!(n=a.n()).done;){var o=n.value;o&&0!==o.trim().length&&(o.endsWith("=")>0?t=o:t?(i.push(t+o),t=void 0):i.push(o))}}catch(e){a.e(e)}finally{a.f()}for(var s=0,c=i;s<c.length;s++){var u=c[s];if(!u)return;var l=u.split("=",2);if(2===l.length){var h=l[0].trim(),f=l[1].trim();r[h]=f}}return r}function nx(e){var t={},n=e.split(/\s+/);2===n.length&&n[1].split(";").forEach((function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}));return t}function rx(e,t){var n,r,i=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var a=0;a<t.length;a++)if(n=t[a]){"aed:Integer"===(r=i[a]).type&&(n=parseInt(n));var o=[];if(r.namespace.length>0)for(var s=0;s<r.namespace.length;s++)o.push(r.namespace.charCodeAt(s));"bio"===r.namespace.trim()?"sequence"===r.name?this.chr=n:"start"===r.name?this.start=n:"end"===r.name?this.end=n:"cdsMin"===r.name?this.cdStart=n:"cdsMax"===r.name?this.cdEnd=n:"strand"===r.name&&(this.strand=n):"aed"===r.namespace?"name"===r.name&&(this.name=n):"style"===r.namespace&&"color"===r.name&&(this.color=Nf.createColorString(n))}}function ix(e,t){var n,r,i,a,o,s,c=0,u=this.aed.columns;if(e.length===u.length){for(s=0;s<e.length;s++)a=u[s],""!==(i=e[s])&&c++,"name"===a.name&&"aed"===a.namespace?n=i:"value"===a.name&&"aed"===a.namespace&&(r=i);if(2===c&&n&&r)return o=Jw(n),this.aed.metadata[o.namespace]||(this.aed.metadata[o.namespace]={}),void(this.aed.metadata[o.namespace][o.name]||(this.aed.metadata[o.namespace][o.name]={type:o.type,value:r}));var l=new rx(this.aed,e);if(l.chr&&(l.start||0===l.start)&&l.end)return l;console.log("Cannot parse feature: "+e.join(","))}else console.log("Corrupted AED file row: "+e.join(","))}rx.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var r=this.allColumns[n],i=t.columns[n].name;"sequence"!==i&&"color"!==i&&r&&e.push({name:i,value:r})}return e};var ax=function(){function e(t,n){eo(this,e),this.littleEndian=void 0===n||n,this.position=0,this.view=t,this.length=t.byteLength}return no(e,[{key:"available",value:function(){return this.length-this.position}},{key:"remLength",value:function(){return this.length-this.position}},{key:"hasNext",value:function(){return this.position<this.length-1}},{key:"getByte",value:function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e}},{key:"getShort",value:function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e}},{key:"getUShort",value:function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e}},{key:"getInt",value:function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e}},{key:"getUInt",value:function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e}},{key:"getLong",value:function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var n=e.length-1;n>=0;n--)t=256*t+e[n];else for(var r=0;r<e.length;r++)t=256*t+e[r];return this.position+=8,t}},{key:"getString",value:function(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n}},{key:"getFixedLengthString",value:function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(r+=String.fromCharCode(n));return r}},{key:"getFixedLengthTrimmedString",value:function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(r+=String.fromCharCode(n));return r}},{key:"getFloat",value:function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e}},{key:"getDouble",value:function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e}},{key:"skip",value:function(e){return this.position+=e,this.position}},{key:"getVPointer",value:function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new ox(n,t)}}]),e}(),ox=function(){function e(t,n){eo(this,e),this.block=t,this.offset=n}return no(e,[{key:"isLessThan",value:function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset}},{key:"isGreaterThan",value:function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset}},{key:"print",value:function(){return this.block+":"+this.offset}}]),e}();function sx(e,t){return cx.apply(this,arguments)}function cx(){return cx=Ja(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new ux).parse(t,n),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}var ux=function(){function e(t){eo(this,e),this.tabix=!0}return no(e,[{key:"parse",value:function(e,t){var n=new ax(new DataView(e)),r=n.getInt();if(21582659!==r)throw 38359875===r?Error("CSI version 2 is not supported.  Please enter an issue at https://github.com/igvteam/igv.js"):Error("Not a CSI index");if(this.indices=[],this.blockMin=Number.MAX_SAFE_INTEGER,this.blockMax=0,this.sequenceIndexMap={},this.minShift=n.getInt(),this.depth=n.getInt(),n.getInt()>=28){n.getInt(),n.getInt(),n.getInt(),n.getInt(),n.getInt(),n.getInt();for(var i=n.getInt(),a=n.position+i,o=0;n.position<a;){var s=n.getString();t&&(s=t.getChromosomeName(s)),this.sequenceIndexMap[s]=o,o++}}for(var c=this.bin_limit()+1,u=n.getInt(),l=0;l<u;l++){for(var h=[],f=[],d=n.getInt(),p=0;p<d;p++){var g=n.getInt();if(f[g]=n.getVPointer(),g>c)n.getInt(),n.getVPointer(),n.getVPointer(),n.getLong(),n.getLong();else{h[g]=[];for(var v=n.getInt(),m=0;m<v;m++){var y=n.getVPointer(),b=n.getVPointer();y&&b&&(y.block<this.blockMin&&(this.blockMin=y.block),b.block>this.blockMax&&(this.blockMax=b.block),h[g].push([y,b]))}}}d>0&&(this.indices[l]={binIndex:h,loffset:f})}}},{key:"blocksForRange",value:function(e,t,n){var r=this.indices[e];if(r){var i=this.reg2bins(t,n);if(0==i.length)return[];var a,o=[],s=go(i);try{for(s.s();!(a=s.n()).done;)for(var c=a.value,u=c[0];u<=c[1];u++)if(r.binIndex[u])for(var l=r.binIndex[u],h=l.length,f=0;f<h;++f){var d=l[f][0],p=l[f][1];o.push({minv:d,maxv:p,bin:u})}}catch(e){s.e(e)}finally{s.f()}return function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort((function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset})),e.forEach((function(e){var i,a;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(i=r,(a=e).minv.block-i.maxv.block<65e3&&a.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e)))})),n)}(o,r.loffset[i[0]])}return[]}},{key:"reg2bins",value:function(e,t){(e-=1)<1&&(e=1),t>Math.pow(2,50)&&(t=Math.pow(2,34)),t-=1;for(var n=0,r=0,i=this.minShift+3*this.depth,a=[];n<=this.depth;i-=3,r+=1<<3*n,n+=1){var o=r+(e>>i),s=r+(t>>i);if(s-o+a.length>this.maxBinNumber)throw new Error("query ".concat(e,"-").concat(t," is too large for current binning scheme (shift ").concat(this.minShift,", depth ").concat(this.depth,"), try a smaller query or a coarser index binning scheme"));a.push([o,s])}return a}},{key:"bin_limit",value:function(){return((1<<3*(this.depth+1))-1)/7}}]),e}();var lx=21578050,hx=21578324;function fx(e,t){return dx.apply(this,arguments)}function dx(){return dx=Ja(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,!1,n));case 1:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e,t){return gx.apply(this,arguments)}function gx(){return gx=Ja(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,!0,n));case 1:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function vx(e,t,n){return mx.apply(this,arguments)}function mx(){return mx=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],a=Number.MAX_SAFE_INTEGER,o=0,s=new ax(new DataView(t)),c=s.getInt(),u={},!(c===lx||n&&c===hx)){e.next=12;break}if(l=s.getInt(),n)for(s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),s.getInt(),h=0;h<l;h++)f=s.getString(),r&&(f=r.getChromosomeName(f)),u[f]=h;for(d=0;d<l;d++){for(p={},g=[],v=s.getInt(),m=0;m<v;m++)if(37450===(y=s.getInt()))s.getInt(),s.getVPointer(),s.getVPointer(),s.getLong(),s.getLong();else for(p[y]=[],b=s.getInt(),w=0;w<b;w++)x=s.getVPointer(),k=s.getVPointer(),x&&k&&(x.block<a&&(a=x.block),k.block>o&&(o=k.block),p[y].push([x,k]));for(_=s.getInt(),S=0;S<_;S++)C=s.getVPointer(),g.push(C);v>0&&(i[d]={binIndex:p,linearIndex:g})}e.next=13;break;case 12:throw new Error(indexURL+" is not a "+(n?"tabix":"bai")+" file");case 13:return e.abrupt("return",new yx(i,a,o,u,n));case 14:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}var yx=function(){function e(t,n,r,i,a){eo(this,e),this.firstAlignmentBlock=n,this.lastAlignmentBlock=r,this.indices=t,this.sequenceIndexMap=i,this.tabix=a}return no(e,[{key:"blocksForRange",value:function(e,t,n){var r=this.indices[e];if(r){var i,a=[],o=go(function(e,t){var n=[];t>=1<<29&&(t=1<<29);return--t,n.push([0,0]),n.push([1+(e>>26),1+(t>>26)]),n.push([9+(e>>23),9+(t>>23)]),n.push([73+(e>>20),73+(t>>20)]),n.push([585+(e>>17),585+(t>>17)]),n.push([4681+(e>>14),4681+(t>>14)]),n}(t,n));try{for(o.s();!(i=o.n()).done;)for(var s=i.value,c=s[0];c<=s[1];c++)if(r.binIndex[c])for(var u=r.binIndex[c],l=u.length,h=0;h<l;++h){var f=u[h][0],d=u[h][1];a.push({minv:f,maxv:d,bin:c})}}catch(e){o.e(e)}finally{o.f()}for(var p=r.linearIndex.length,g=null,v=Math.min(t>>14,p-1),m=Math.min(n>>14,p-1),y=v;y<=m;++y){var b=r.linearIndex[y];b&&(g&&!b.isLessThan(g)||(g=b))}return function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort((function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset})),e.forEach((function(e){var i,a;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(i=r,(a=e).minv.block-i.maxv.block<65e3&&a.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e)))})),n)}(a,g)}return[]}}]),e}();function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=function(e){var t=e.getString();n&&(t=n.getChromosomeName(t));var r=e.getInt(),i=e.getInt(),a=e.getInt();e.getInt(),e.getInt();for(var o=e.getLong(),s=new Array,c=0;c<i;c++){var u=e.getLong();s.push({min:o,max:u}),o=u}return{chr:t,blocks:s,longestFeature:a,binWidth:r}},s=function(e){e.getInt(),e.getInt();var t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3)for(var n=e.getInt();n-- >0;)e.getString(),e.getString()},r={},i=new ax(new DataView(t)),s(i),a=i.getInt();a-- >0;)o=c(i),r[o.chr]=o;return e.abrupt("return",new xx(r));case 8:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}var xx=function(){function e(t){eo(this,e),this.chrIndex=t}return no(e,[{key:"blocksForRange",value:function(e,t,n){var r=this.chrIndex[e];if(r){var i=r.blocks,a=r.longestFeature,o=r.binWidth,s=Math.max(t-a,0),c=Math.floor(s/o);if(c>=i.length)return[];var u=Math.min(Math.floor((n-1)/o),i.length-1),l=i[c].min,h=i[u].max;return 0===h-l?[]:[{minv:{block:l,offset:0},maxv:{block:h,offset:0}}]}}}]),e}(),kx=21582659,_x=38359875,Sx=21578050,Cx=21578324,Ex=1480870228;function Ax(e,t,n){return Rx.apply(this,arguments)}function Rx(){return Rx=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f.loadArrayBuffer(t,db(n));case 2:i=e.sent,31===(a=new DataView(i)).getUint8(0)&&139===a.getUint8(1)&&(o=Sf(i),i=o.buffer,a=new DataView(i)),s=a.getInt32(0,!0),e.t0=s,e.next=e.t0===Sx?9:e.t0===Cx?10:e.t0===kx?11:e.t0===Ex?12:e.t0===_x?13:14;break;case 9:return e.abrupt("return",fx(i,r));case 10:return e.abrupt("return",px(i,r));case 11:return e.abrupt("return",sx(i,r));case 12:return e.abrupt("return",bx(i,r));case 13:throw Error("CSI version 2 is not supported.");case 14:throw Error("Unrecognized index type: ".concat(t));case 15:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}var Tx=function(){function e(t){eo(this,e),this.config=t,this.filePtr=0,this.bufferPtr=0,this.buffer}var t,n;return no(e,[{key:"nextLine",value:(n=Ja(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0,e.prev=1;case 2:n=this.buffer?this.buffer.length:0;case 4:if(!(this.bufferPtr<n)){e.next=13;break}if("\r"!==(r=String.fromCharCode(this.buffer[this.bufferPtr++]))){e.next=8;break}return e.abrupt("continue",4);case 8:if("\n"!==r){e.next=10;break}return e.abrupt("return",t);case 10:t=t?t+r:r,e.next=4;break;case 13:if(!this.eof){e.next=17;break}return e.abrupt("return",t);case 17:return e.next=19,this.readNextBlock();case 19:e.next=2;break;case 21:e.next=28;break;case 23:return e.prev=23,e.t0=e.catch(1),console.warn(e.t0),this.eof=!0,e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,this,[[1,23]])}))),function(){return n.apply(this,arguments)})},{key:"readNextBlock",value:(t=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=db(this.config,{range:{start:this.filePtr,size:26}}),e.next=3,$f.loadArrayBuffer(this.config.url,t);case 3:if(n=e.sent,0!==(r=Cf(n))){e.next=10;break}this.eof=!0,this.buffer=void 0,e.next=18;break;case 10:return i=db(this.config,{range:{start:this.filePtr,size:r}}),e.next=13,$f.loadArrayBuffer(this.config.url,i);case 13:(a=e.sent).byteLength<r&&(this.eof=!0),this.buffer=Sf(a),this.bufferPtr=0,this.filePtr+=a.byteLength;case 18:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Lx=function(){function e(t,n){var r;eo(this,e),this.config=t||{},this.genome=n,this.indexURL=t.indexURL,this.indexed=t.indexed,su(this.config.url)?this.filename=this.config.url.name:bb(this.config.url)?(this.indexed=!1,this.dataURI=t.url):(r=ru(this.config.url),this.filename=t.filename||r.file),this.parser=this.getParser(this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}var t,n,r,i,a,o,s;return no(e,[{key:"readFeatures",value:(s=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!e.sent){e.next=8;break}return this.indexed=!0,e.abrupt("return",this.loadFeaturesWithIndex(t,n,r));case 8:if(!this.dataURI){e.next=13;break}return this.indexed=!1,e.abrupt("return",this.loadFeaturesFromDataURI());case 13:return this.indexed=!1,e.abrupt("return",this.loadFeaturesNoIndex());case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"readHeader",value:(o=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dataURI){e.next=6;break}return e.next=3,this.loadFeaturesFromDataURI(this.dataURI);case 3:return e.abrupt("return",this.header);case 6:if(!this.config.indexURL){e.next=28;break}return e.next=9,this.getIndex();case 9:if(t=e.sent){e.next=12;break}throw new Error("Unable to load index: "+this.config.indexURL);case 12:if(!t.tabix){e.next=16;break}n=new Tx(this.config),e.next=22;break;case 16:return r=Object.values(t.chrIndex).flatMap((function(e){return e.blocks})).map((function(e){return e.max})).reduce((function(e,t){return Math.min(e,t)}),Number.MAX_SAFE_INTEGER),i=db(this.config,{bgz:t.tabix,range:{start:0,size:r}}),e.next=20,$f.loadString(this.config.url,i);case 20:a=e.sent,n=Ww(a);case 22:return e.next=24,this.parser.parseHeader(n);case 24:return this.header=e.sent,e.abrupt("return",this.header);case 28:return o=db(this.config),e.next=31,$f.loadString(this.config.url,o);case 31:return s=e.sent,c=Ww(s),e.next=35,this.parser.parseHeader(c);case 35:return this.header=e.sent,c=Ww(s),e.next=39,this.parser.parseFeatures(c);case 39:return this.features=e.sent,e.abrupt("return",this.header);case 41:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getParser",value:function(e){switch(e.format){case"vcf":return new Uw(e);case"seg":return new Pw("seg");case"mut":return new Pw("mut");case"maf":return new Pw("maf");case"gwas":return new Zw(e);case"aed":return new Qw(e);default:return new Tw(e)}}},{key:"loadFeaturesNoIndex",value:(a=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.features){e.next=6;break}return t=this.features,delete this.features,e.abrupt("return",t);case 6:return n=db(this.config),e.next=9,$f.loadString(this.config.url,n);case 9:if(r=e.sent,this.header){e.next=15;break}return i=Ww(r),e.next=14,this.parser.parseHeader(i);case 14:this.header=e.sent;case 15:return a=Ww(r),e.next=18,this.parser.parseFeatures(a);case 18:return o=e.sent,e.abrupt("return",o);case 20:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"loadFeaturesWithIndex",value:(i=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C,E,A,R,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.config,a=this.parser,o=this.index.tabix,void 0!==(s=o?this.index.sequenceIndexMap[t]:t)){e.next=6;break}return e.abrupt("return",[]);case 6:if(c=this.genome,(u=this.index.blocksForRange(s,n,r))&&0!==u.length){e.next=12;break}return e.abrupt("return",[]);case 12:l=[],h=go(u),e.prev=14,h.s();case 16:if((f=h.n()).done){e.next=71;break}if(d=f.value,p=d.minv.block,g=d.minv.offset,v=d.maxv.offset,m=void 0,!o){e.next=33;break}if(y=0,!(v>0)){e.next=30;break}return b=db(i,{range:{start:d.maxv.block,size:26}}),e.next=28,$f.loadArrayBuffer(i.url,b);case 28:w=e.sent,y=Cf(w);case 30:m=d.maxv.block+y,e.next=34;break;case 33:m=d.maxv.block;case 34:if(x=db(i,{range:{start:p,size:m-p+1}}),k=void 0,!o){e.next=43;break}return e.next=39,$f.loadArrayBuffer(i.url,x);case 39:_=e.sent,k=Sf(_),e.next=46;break;case 43:return e.next=45,$f.loadString(i.url,x);case 45:k=e.sent;case 46:return S=g?k.slice(g):k,C=Ww(S),e.next=50,a.parseFeatures(C);case 50:E=e.sent,A=!1,R=0;case 53:if(!(R<E.length)){e.next=69;break}if(T=E[R],(c?c.getChromosomeName(T.chr):T.chr)===t){e.next=62;break}if(0!==l.length){e.next=61;break}return e.abrupt("continue",66);case 61:return e.abrupt("break",69);case 62:if(!(T.start>r)){e.next=65;break}return l.push(T),e.abrupt("break",69);case 65:T.end>=n&&T.start<=r&&(A||(A=!0,R>0&&l.push(E[R-1])),l.push(T));case 66:R++,e.next=53;break;case 69:e.next=16;break;case 71:e.next=76;break;case 73:e.prev=73,e.t0=e.catch(14),h.e(e.t0);case 76:return e.prev=76,h.f(),e.finish(76);case 79:return l.sort((function(e,t){return e.start-t.start})),e.abrupt("return",l);case 81:case"end":return e.stop()}}),e,this,[[14,73,76,79]])}))),function(e,t,n){return i.apply(this,arguments)})},{key:"getIndex",value:(r=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.index&&this.config.indexURL){e.next=4;break}return e.abrupt("return",this.index);case 4:return e.next=6,this.loadIndex();case 6:return this.index=e.sent,e.abrupt("return",this.index);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadIndex",value:(n=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config.indexURL,e.abrupt("return",Ax(t,this.config,this.genome));case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadFeaturesFromDataURI",value:(t=Ja(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.features){e.next=6;break}return t=this.features,delete this.features,e.abrupt("return",t);case 6:return n=Tf(this.dataURI),r=Ww(n),e.next=10,this.parser.parseHeader(r);case 10:return this.header=e.sent,this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),r=Ww(n),e.next=15,this.parser.parseFeatures(r);case 15:return this.features=e.sent,e.abrupt("return",this.features);case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Mx=zc,Ix=function(){function e(t){eo(this,e),this.config=t}var t;return no(e,[{key:"readFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="function"==typeof this.config.url?this.config.url({chr:t,start:n,end:r}):this.config.url.replace("$CHR",t).replace("$START",n).replace("$END",r),a=Object.assign({},this.config),void 0!==this.config.body&&("function"==typeof this.config.body?a.body=this.config.body({chr:t,start:n,end:r}):a.body=this.config.body.replace("$CHR",t).replace("$START",n).replace("$END",r)),e.next=5,$f.load(i,a);case 5:if((s=e.sent)&&(o="function"==typeof this.config.parser?this.config.parser(s):Mx(s)?JSON.parse(s):s),this.config.mappings){c=Object.keys(this.config.mappings),u=go(o);try{for(u.s();!(l=u.n()).done;){h=l.value,f=go(c);try{for(f.s();!(d=f.n()).done;)p=d.value,h[p]=h[this.config.mappings[p]]}catch(e){f.e(e)}finally{f.f()}}}catch(e){u.e(e)}finally{u.f()}}return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Ox=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};Ox.prototype.readFeatures=function(e,t,n){var r=Math.max(0,Math.floor(t)),i=Math.ceil(n);if(this.genome){var a=this.genome.getChromosome(e);a&&i>a.bpLength&&(i=a.bpLength)}var o=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+r+"&end="+i;return $f.loadJson(o,this.config).then((function(e){return e?(e.forEach((function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,r,i,a,o;t=e.exonCount,n=e.exonStarts.split(","),r=e.exonEnds.split(","),i=[];for(var s=0;s<t;s++){var c={start:a=parseInt(n[s]),end:o=parseInt(r[s])};(e.cdsStart>o||e.cdsEnd<e.cdsStart)&&(c.utr=!0),e.cdsStart>=a&&e.cdsStart<=o&&(c.cdStart=e.cdsStart),e.cdsEnd>=a&&e.cdsEnd<=o&&(c.cdEnd=e.cdsEnd),i.push(c)}e.exons=i}(e)})),e):null}))};var Px=["Name","gene_name","gene","gene_id","alias","locus","name"],Nx=function(){function e(t){eo(this,e),this.format=t.format,this.nameField=t.nameField,this.filterTypes=void 0===t.filterTypes?new Set(["chromosome"]):new Set(t.filterTypes)}return no(e,[{key:"combineFeatures",value:function(e,t){var n,r=this.filterTypes;if(e=e.filter((function(e){return void 0===r||!r.has(e.type)})),"gff3"===this.format){var i=this.combineFeaturesById(e);n=this.combineFeaturesByType(i)}else n=this.combineFeaturesByType(e);return n.sort((function(e,t){return e.start-t.start})),this.numberExons(n,t),this.nameFeatures(n),n}},{key:"combineFeaturesById",value:function(e){var t,n=new Map,r=[],i=go(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(iw(a.type)||rw(a.type)||!a.id)r.push(a);else{var o=n.get(a.chr);o||(o=new Map,n.set(a.chr,o));var s=o.get(a.id);s?s.push(a):o.set(a.id,[a])}}}catch(e){i.e(e)}finally{i.f()}var c,u=go(n.values());try{for(u.s();!(c=u.n()).done;){var l,h=go(c.value.values());try{for(h.s();!(l=h.n()).done;){var f=l.value;if(f.length>1){var d=f[0];d.exons=[];var p,g=go(f);try{for(g.s();!(p=g.n()).done;){var v=p.value;d.start=Math.min(d.start,v.start),d.end=Math.max(d.end,v.end),d.exons.push({start:v.start,end:v.end})}}catch(e){g.e(e)}finally{g.f()}r.push(d)}else r.push(f[0])}}catch(e){h.e(e)}finally{h.f()}}}catch(e){u.e(e)}finally{u.f()}return r}},{key:"combineFeaturesByType",value:function(e){var t,n=e.filter((function(e){return"gene"===e.type||e.type.endsWith("_gene")})),r=Object.create(null),i=go(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;r[a.id]=a}}catch(e){i.e(e)}finally{i.f()}var o=Object.create(null),s=[],c=new Set,u=this.filterTypes;e=e.filter((function(e){return void 0===u||!u.has(e.type)}));var l,h=go(e);try{for(h.s();!(l=h.n()).done;){var f=l.value;if("biological_region"===f.type&&console.log(),rw(f.type)){var d=f.id;if(void 0!==d){var p=new sw(f);o[d]=p,s.push(p),c.add(f);var g=r[f.parent];g&&(p.geneObject=g,c.add(g))}}}}catch(e){h.e(e)}finally{h.f()}var v,m,y=go(e);try{for(y.s();!(v=y.n()).done;){var b=v.value;if(iw(b.type)){var w=M(b);if(w){var x,k=go(w);try{for(k.s();!(x=k.n()).done;){var _=x.value,S=o[_];if(!S&&"gtf"===this.format){var C=Object.assign({},b);C.type="transcript",S=new sw(C),o[_]=S,s.push(S)}if(void 0!==S){if(m=b.type,$b.has(m))if(w.length>1){var E=new ow(b);S.addExon(E)}else S.addExon(b);else S.addPart(b);c.add(b)}}}catch(e){k.e(e)}finally{k.f()}}}}}catch(e){y.e(e)}finally{y.f()}s.forEach((function(e){"function"==typeof e.finish&&e.finish()}));var A,R=e.filter((function(e){return!c.has(e)})),T=go(R);try{for(T.s();!(A=T.n()).done;){var L=A.value;s.push(L)}}catch(e){T.e(e)}finally{T.f()}return s;function M(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}},{key:"numberExons",value:function(e,t){var n,r=go(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.exons&&(!t||i.end<=t.end&&i.start>t.start))for(var a=0;a<i.exons.length;a++){i.exons[a].number="-"===i.strand?i.exons.length-a:a+1}}}catch(e){r.e(e)}finally{r.f()}}},{key:"nameFeatures",value:function(e){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.attributeString){var i="gff3"===this.format?"=":" ",a=hw(r.attributeString,i),o=new Map(a);if(this.nameField)r.name=o.get(this.nameField);else{var s,c=go(Px);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(o.has(u)){r.name=o.get(u);break}}}catch(e){c.e(e)}finally{c.f()}}}}}catch(e){n.e(e)}finally{n.f()}}}]),e}(),Fx=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};Fx.prototype.readFeatures=function(){var e=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,a=t.startsWith("chr")?t:"chr"+t,o=Math.floor(n),s=Math.ceil(r),c=this.datasetId,u=this.url+"?chromosome="+a+"&start="+o+"&end="+s+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+c,e.next=3,$f.loadJson(u,{withCredentials:i.config.withCredentials});case 3:if(!(l=e.sent)||!l.singleTissueEqtl){e.next=9;break}return l.singleTissueEqtl.forEach((function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId})),e.abrupt("return",l.singleTissueEqtl);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}();var Dx=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};Dx.prototype.readFeatures=function(e,t,n){var r=this,i=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise((function(e,t){$f.loadJson(i,{withCredentials:r.config.withCredentials}).then((function(t){t?(t.eqtls.forEach((function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1})),e(t.eqtls)):e(null)})).catch((function(e){t(e)}))}))};var Bx=$f.apiKey;function zx(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},$f.loadJson(t,e)}function Hx(e){return new Promise((function(t,n){var r=e.results?e.results:[],i=e.url,a=e.body,o=e.decode,s="?",c=e.fields;return Bx&&(i=i+s+"key="+Bx,s="&"),c&&(i=i+s+"fields="+c),function e(s){s?a.pageToken=s:void 0!==a.pageToken&&delete a.pageToken;var c=JSON.stringify(a);$f.loadJson(i,{sendData:c,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then((function(n){var i,a;n?((a=o?o(n):n)&&a.forEach((function(e){r.push(e)})),(i=n.nextPageToken)?e(i):t(r)):t(r)})).catch((function(e){n(e)}))}()}))}var jx=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};jx.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):Hx({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],r=new Set;return e.callSetIds.forEach((function(e){r.add(e)})),t.callSets.forEach((function(e){r.has(e.id)&&n.push(e)})),n}return t.callSets}}).then((function(t){return e.header.callSets=t,e.header})))},jx.prototype.readFeatures=function(e,t,n){var r=this,i=this.genome;return r.readHeader().then((function(e){return new Promise((function(e,t){r.chrAliasTable?e(r.chrAliasTable):r.readMetadata().then((function(t){r.metadata=t.metadata,r.chrAliasTable={},t.referenceBounds&&i&&t.referenceBounds.forEach((function(e){var t=e.referenceName,n=i.getChromosomeName(t);r.chrAliasTable[n]=t})),e(r.chrAliasTable)}))}))})).then((function(i){var a=i.hasOwnProperty(e)?i[e]:e;return Hx({url:r.url+"/variants/search",fields:r.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(r.variantSetId)?r.variantSetId:[r.variantSetId],callSetIds:r.callSetIds?r.callSetIds:void 0,referenceName:a,start:t.toString(),end:n.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach((function(e){t=function(e){var t,n=new Hw;return n.chr=e.referenceName,n.start=parseInt(e.start),n.end=parseInt(e.end),n.pos=n.start+1,n.names=Vw(e.names,"; "),n.referenceBases=e.referenceBases,n.alternateBases=Vw(e.alternateBases),n.quality=e.quality,n.filter=Vw(e.filter),n.info={},e.info&&Object.keys(e.info).forEach((function(t){var r,i=e.info[t];r=Array.isArray(i)?i.join(","):i,n.info[t]=r})),n.calls={},e.calls&&e.calls.forEach((function(e){t=e.callSetId,n.calls[t]=e})),init(n),n}(e),t.isRefBlock()||n.push(t)})),n}})}))},jx.prototype.readMetadata=function(){return zx({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var Vx=Math.log,Ux=Math.LOG10E;Oe({target:"Math",stat:!0},{log10:function(e){return Vx(e)*Ux}});var qx=function(){function e(t){eo(this,e),this.config=t}var t;return no(e,[{key:"readFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f.loadJson(this.config.url+"/variants/?count=50000");case 2:i=e.sent,a=i.records,o=[],s=go(a);try{for(s.s();!(c=s.n()).done;)(u=c.value).coordinates&&(u.id,(l=u.coordinates).chromosome&&o.push(new Wx(l.chromosome,l.start-1,l.stop,u)),l.chromosome2&&o.push(new Wx(l.chromosome2,l.start2-1,l.stop2,u)))}catch(e){s.e(e)}finally{s.f()}return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Wx=function(){function e(t,n,r,i){if(eo(this,e),this.chr=t,this.start=n,this.end=r,this.id=i.id,this.entrezName=i.entrez_name,this.name=i.name,this.actionabilityScore=i.civic_actionability_score,i.coordinates.reference_bases&&(this.refBases=i.coordinates.reference_bases),i.coordinates.variant_bases&&(this.altBases=i.coordinates.variant_bases),i.variant_types&&(this.variant_types=i.variant_types),this.locationString=this.chr+":"+Hc(this.start+1)+"-"+Hc(this.end),void 0!==this.actionabilityScore){var a;if(this.actionabilityScore<=10)a=.2;else{var o=Math.min(30,this.actionabilityScore);a=.2+.8*Math.log10((o-10)/2)}this.alpha=a}}return no(e,[{key:"popupData",value:function(){var e=s("CIViC","https://civicdb.org/links/variants/"+this.id);this.refBases!==this.altBases&&this.refBases&&1===this.refBases.length&&this.altBases&&this.altBases.length;var t=[e];if(t.push({name:"Entrez",value:s(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),t.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var n,r,i=1===this.variant_types.length?"Type":"Types",a=go(this.variant_types);try{for(a.s();!(r=a.n()).done;){var o=r.value;n?n+=", "+o.display_name:n=o.display_name}}catch(e){a.e(e)}finally{a.f()}t.push({name:i,value:n})}return t.push({name:"Actionability",value:this.actionabilityScore}),t.push({name:"Location",value:this.locationString}),t;function s(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}}}]),e}();function Gx(e,t){t=t||Number.MAX_SAFE_INTEGER;var n=[];e.sort((function(e,t){return e.start-t.start})),n.push(-1e3);var r,i=go(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=0,s=Math.min(n.length,t);for(o=0;o<s;o++)if(a.start>n[o]){a.row=o,n[o]=a.end;break}a.row=o,n[o]=a.end}}catch(e){i.e(e)}finally{i.f()}}var $x,Zx="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Yx=T.f,Xx=r.Int8Array,Kx=Xx&&Xx.prototype,Qx=r.Uint8ClampedArray,Jx=Qx&&Qx.prototype,ek=Xx&&_t(Xx),tk=Kx&&_t(Kx),nk=Object.prototype,rk=nk.isPrototypeOf,ik=Ve("toStringTag"),ak=q("TYPED_ARRAY_TAG"),ok=Zx&&!!Ot&&"Opera"!==Bn(r.opera),sk=!1,ck={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},uk=function(e){return m(e)&&w(ck,Bn(e))};for($x in ck)r[$x]||(ok=!1);if((!ok||"function"!=typeof ek||ek===Function.prototype)&&(ek=function(){throw TypeError("Incorrect invocation")},ok))for($x in ck)r[$x]&&Ot(r[$x],ek);if((!ok||!tk||tk===nk)&&(tk=ek.prototype,ok))for($x in ck)r[$x]&&Ot(r[$x].prototype,tk);if(ok&&_t(Jx)!==tk&&Ot(Jx,tk),a&&!w(tk,ik))for($x in sk=!0,Yx(tk,ik,{get:function(){return m(this)?this[ak]:void 0}}),ck)r[$x]&&L(r[$x],ak,$x);var lk={NATIVE_ARRAY_BUFFER_VIEWS:ok,TYPED_ARRAY_TAG:sk&&ak,aTypedArray:function(e){if(uk(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Ot){if(rk.call(ek,e))return e}else for(var t in ck)if(w(ck,$x)){var n=r[t];if(n&&(e===n||rk.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var i in ck){var o=r[i];o&&w(o.prototype,e)&&delete o.prototype[e]}tk[e]&&!n||re(tk,e,n?t:ok&&Kx[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,o;if(a){if(Ot){if(n)for(i in ck)(o=r[i])&&w(o,e)&&delete o[e];if(ek[e]&&!n)return;try{return re(ek,e,n?t:ok&&Xx[e]||t)}catch(e){}}for(i in ck)!(o=r[i])||o[e]&&!n||re(o,e,t)}},isView:function(e){var t=Bn(e);return"DataView"===t||w(ck,t)},isTypedArray:uk,TypedArray:ek,TypedArrayPrototype:tk},hk=lk.NATIVE_ARRAY_BUFFER_VIEWS,fk=r.ArrayBuffer,dk=r.Int8Array,pk=!hk||!i((function(){dk(1)}))||!i((function(){new dk(-1)}))||!er((function(e){new dk,new dk(null),new dk(1.5),new dk(e)}),!0)||i((function(){return 1!==new dk(new fk(2),1,void 0).length})),gk=function(e){if(void 0===e)return 0;var t=ue(e),n=he(t);if(t!==n)throw RangeError("Wrong length or index");return n},vk=1/0,mk=Math.abs,yk=Math.pow,bk=Math.floor,wk=Math.log,xk=Math.LN2,kk=function(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?yk(2,-24)-yk(2,-77):0,h=e<0||0===e&&1/e<0?1:0,f=0;for((e=mk(e))!=e||e===vk?(i=e!=e?1:0,r=c):(r=bk(wk(e)/xk),e*(a=yk(2,-r))<1&&(r--,a*=2),(e+=r+u>=1?l/a:l*yk(2,1-u))*a>=2&&(r++,a/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(e*a-1)*yk(2,t),r+=u):(i=e*yk(2,u-1)*yk(2,t),r=0));t>=8;o[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[f++]=255&r,r/=256,s-=8);return o[--f]|=128*h,o},_k=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,o=a>>1,s=i-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===l)l=1-o;else{if(l===a)return n?NaN:u?-1/0:vk;n+=yk(2,t),l-=o}return(u?-1:1)*n*yk(2,l-t)},Sk=xe.f,Ck=T.f,Ek=ne.get,Ak=ne.set,Rk="ArrayBuffer",Tk="DataView",Lk="Wrong index",Mk=r.ArrayBuffer,Ik=Mk,Ok=r.DataView,Pk=Ok&&Ok.prototype,Nk=Object.prototype,Fk=r.RangeError,Dk=kk,Bk=_k,zk=function(e){return[255&e]},Hk=function(e){return[255&e,e>>8&255]},jk=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Vk=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Uk=function(e){return Dk(e,23,4)},qk=function(e){return Dk(e,52,8)},Wk=function(e,t){Ck(e.prototype,t,{get:function(){return Ek(this)[t]}})},Gk=function(e,t,n,r){var i=gk(n),a=Ek(e);if(i+t>a.byteLength)throw Fk(Lk);var o=Ek(a.buffer).bytes,s=i+a.byteOffset,c=o.slice(s,s+t);return r?c:c.reverse()},$k=function(e,t,n,r,i,a){var o=gk(n),s=Ek(e);if(o+t>s.byteLength)throw Fk(Lk);for(var c=Ek(s.buffer).bytes,u=o+s.byteOffset,l=r(+i),h=0;h<t;h++)c[u+h]=l[a?h:t-h-1]};if(Zx){if(!i((function(){Mk(1)}))||!i((function(){new Mk(-1)}))||i((function(){return new Mk,new Mk(1.5),new Mk(NaN),Mk.name!=Rk}))){for(var Zk,Yk=(Ik=function(e){return Yn(this,Ik),new Mk(gk(e))}).prototype=Mk.prototype,Xk=Sk(Mk),Kk=0;Xk.length>Kk;)(Zk=Xk[Kk++])in Ik||L(Ik,Zk,Mk[Zk]);Yk.constructor=Ik}Ot&&_t(Pk)!==Nk&&Ot(Pk,Nk);var Qk=new Ok(new Ik(2)),Jk=Pk.setInt8;Qk.setInt8(0,2147483648),Qk.setInt8(1,2147483649),!Qk.getInt8(0)&&Qk.getInt8(1)||nr(Pk,{setInt8:function(e,t){Jk.call(this,e,t<<24>>24)},setUint8:function(e,t){Jk.call(this,e,t<<24>>24)}},{unsafe:!0})}else Ik=function(e){Yn(this,Ik,Rk);var t=gk(e);Ak(this,{bytes:jd.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},Ok=function(e,t,n){Yn(this,Ok,Tk),Yn(e,Ik,Tk);var r=Ek(e).byteLength,i=ue(t);if(i<0||i>r)throw Fk("Wrong offset");if(i+(n=void 0===n?r-i:he(n))>r)throw Fk("Wrong length");Ak(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},a&&(Wk(Ik,"byteLength"),Wk(Ok,"buffer"),Wk(Ok,"byteLength"),Wk(Ok,"byteOffset")),nr(Ok.prototype,{getInt8:function(e){return Gk(this,1,e)[0]<<24>>24},getUint8:function(e){return Gk(this,1,e)[0]},getInt16:function(e){var t=Gk(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Gk(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Vk(Gk(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Vk(Gk(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Bk(Gk(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Bk(Gk(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){$k(this,1,e,zk,t)},setUint8:function(e,t){$k(this,1,e,zk,t)},setInt16:function(e,t){$k(this,2,e,Hk,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){$k(this,2,e,Hk,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){$k(this,4,e,jk,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){$k(this,4,e,jk,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){$k(this,4,e,Uk,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){$k(this,8,e,qk,t,arguments.length>2?arguments[2]:void 0)}});Tt(Ik,Rk),Tt(Ok,Tk);var e_={ArrayBuffer:Ik,DataView:Ok},t_=function(e,t){var n=function(e){var t=ue(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},n_=lk.aTypedArrayConstructor,r_=function(e){var t,n,r,i,a,o,s=Ne(e),c=arguments.length,u=c>1?arguments[1]:void 0,l=void 0!==u,h=Gn(s);if(null!=h&&!qn(h))for(o=(a=h.call(s)).next,s=[];!(i=o.call(a)).done;)s.push(i.value);for(l&&c>2&&(u=$t(u,arguments[2],2)),n=he(s.length),r=new(n_(this))(n),t=0;n>t;t++)r[t]=l?u(s[t],t):s[t];return r},i_=t((function(e){var t=xe.f,n=Xt.forEach,i=ne.get,o=ne.set,s=T.f,c=E.f,u=Math.round,h=r.RangeError,f=e_.ArrayBuffer,d=e_.DataView,p=lk.NATIVE_ARRAY_BUFFER_VIEWS,g=lk.TYPED_ARRAY_TAG,v=lk.TypedArray,b=lk.TypedArrayPrototype,x=lk.aTypedArrayConstructor,k=lk.isTypedArray,_="BYTES_PER_ELEMENT",S="Wrong length",C=function(e,t){for(var n=0,r=t.length,i=new(x(e))(r);r>n;)i[n]=t[n++];return i},A=function(e,t){s(e,t,{get:function(){return i(this)[t]}})},R=function(e){var t;return e instanceof f||"ArrayBuffer"==(t=Bn(e))||"SharedArrayBuffer"==t},M=function(e,t){return k(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},I=function(e,t){return M(e,t=y(t,!0))?l(2,e[t]):c(e,t)},O=function(e,t,n){return!(M(e,t=y(t,!0))&&m(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?s(e,t,n):(e[t]=n.value,e)};a?(p||(E.f=I,T.f=O,A(b,"buffer"),A(b,"byteOffset"),A(b,"byteLength"),A(b,"length")),Oe({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:I,defineProperty:O}),e.exports=function(e,a,c){var l=e.match(/\d+$/)[0]/8,y=e+(c?"Clamped":"")+"Array",w="get"+e,x="set"+e,E=r[y],A=E,T=A&&A.prototype,M={},I=function(e,t){s(e,t,{get:function(){return function(e,t){var n=i(e);return n.view[w](t*l+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var r=i(e);c&&(n=(n=u(n))<0?0:n>255?255:255&n),r.view[x](t*l+r.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};p?pk&&(A=a((function(e,t,n,r){return Yn(e,A,y),ln(m(t)?R(t)?void 0!==r?new E(t,t_(n,l),r):void 0!==n?new E(t,t_(n,l)):new E(t):k(t)?C(A,t):r_.call(A,t):new E(gk(t)),e,A)})),Ot&&Ot(A,v),n(t(E),(function(e){e in A||L(A,e,E[e])})),A.prototype=T):(A=a((function(e,t,n,r){Yn(e,A,y);var i,a,s,c=0,u=0;if(m(t)){if(!R(t))return k(t)?C(A,t):r_.call(A,t);i=t,u=t_(n,l);var p=t.byteLength;if(void 0===r){if(p%l)throw h(S);if((a=p-u)<0)throw h(S)}else if((a=he(r)*l)+u>p)throw h(S);s=a/l}else s=gk(t),i=new f(a=s*l);for(o(e,{buffer:i,byteOffset:u,byteLength:a,length:s,view:new d(i)});c<s;)I(e,c++)})),Ot&&Ot(A,v),T=A.prototype=ft(b)),T.constructor!==A&&L(T,"constructor",A),g&&L(T,g,y),M[y]=A,Oe({global:!0,forced:A!=E,sham:!p},M),_ in A||L(A,_,l),_ in T||L(T,_,l),ir(y)}):e.exports=function(){}}));i_("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var a_=Math.min,o_=[].copyWithin||function(e,t){var n=Ne(this),r=he(n.length),i=pe(e,r),a=pe(t,r),o=arguments.length>2?arguments[2]:void 0,s=a_((void 0===o?r:pe(o,r))-a,r-i),c=1;for(a<i&&i<a+s&&(c=-1,a+=s-1,i+=s-1);s-- >0;)a in n?n[i]=n[a]:delete n[i],i+=c,a+=c;return n},s_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("copyWithin",(function(e,t){return o_.call(s_(this),e,t,arguments.length>2?arguments[2]:void 0)}));var c_=Xt.every,u_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("every",(function(e){return c_(u_(this),e,arguments.length>1?arguments[1]:void 0)}));var l_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("fill",(function(e){return jd.apply(l_(this),arguments)}));var h_=Xt.filter,f_=lk.aTypedArray,d_=lk.aTypedArrayConstructor;(0,lk.exportTypedArrayMethod)("filter",(function(e){for(var t=h_(f_(this),e,arguments.length>1?arguments[1]:void 0),n=Ga(this,this.constructor),r=0,i=t.length,a=new(d_(n))(i);i>r;)a[r]=t[r++];return a}));var p_=Xt.find,g_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("find",(function(e){return p_(g_(this),e,arguments.length>1?arguments[1]:void 0)}));var v_=Xt.findIndex,m_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("findIndex",(function(e){return v_(m_(this),e,arguments.length>1?arguments[1]:void 0)}));var y_=Xt.forEach,b_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("forEach",(function(e){y_(b_(this),e,arguments.length>1?arguments[1]:void 0)}));var w_=ve.includes,x_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("includes",(function(e){return w_(x_(this),e,arguments.length>1?arguments[1]:void 0)}));var k_=ve.indexOf,__=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("indexOf",(function(e){return k_(__(this),e,arguments.length>1?arguments[1]:void 0)}));var S_=Ve("iterator"),C_=r.Uint8Array,E_=Wt.values,A_=Wt.keys,R_=Wt.entries,T_=lk.aTypedArray,L_=lk.exportTypedArrayMethod,M_=C_&&C_.prototype[S_],I_=!!M_&&("values"==M_.name||null==M_.name),O_=function(){return E_.call(T_(this))};L_("entries",(function(){return R_.call(T_(this))})),L_("keys",(function(){return A_.call(T_(this))})),L_("values",O_,!I_),L_(S_,O_,!I_);var P_=lk.aTypedArray,N_=[].join;(0,lk.exportTypedArrayMethod)("join",(function(e){return N_.apply(P_(this),arguments)}));var F_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("lastIndexOf",(function(e){return Yd.apply(F_(this),arguments)}));var D_=Xt.map,B_=lk.aTypedArray,z_=lk.aTypedArrayConstructor;(0,lk.exportTypedArrayMethod)("map",(function(e){return D_(B_(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(z_(Ga(e,e.constructor)))(t)}))}));var H_=Km.left,j_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("reduce",(function(e){return H_(j_(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var V_=Km.right,U_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("reduceRight",(function(e){return V_(U_(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var q_=lk.aTypedArray,W_=lk.exportTypedArrayMethod,G_=Math.floor;W_("reverse",(function(){for(var e,t=this,n=q_(t).length,r=G_(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t}));var $_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("set",(function(e){$_(this);var t=t_(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Ne(e),i=he(r.length),a=0;if(i+t>n)throw RangeError("Wrong length");for(;a<i;)this[t+a]=r[a++]}),i((function(){new Int8Array(1).set({})})));var Z_=lk.aTypedArray,Y_=lk.aTypedArrayConstructor,X_=[].slice;(0,lk.exportTypedArrayMethod)("slice",(function(e,t){for(var n=X_.call(Z_(this),e,t),r=Ga(this,this.constructor),i=0,a=n.length,o=new(Y_(r))(a);a>i;)o[i]=n[i++];return o}),i((function(){new Int8Array(1).slice()})));var K_=Xt.some,Q_=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("some",(function(e){return K_(Q_(this),e,arguments.length>1?arguments[1]:void 0)}));var J_=lk.aTypedArray,eS=[].sort;(0,lk.exportTypedArrayMethod)("sort",(function(e){return eS.call(J_(this),e)}));var tS=lk.aTypedArray;(0,lk.exportTypedArrayMethod)("subarray",(function(e,t){var n=tS(this),r=n.length,i=pe(e,r);return new(Ga(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,he((void 0===t?r:pe(t,r))-i))}));var nS=r.Int8Array,rS=lk.aTypedArray,iS=lk.exportTypedArrayMethod,aS=[].toLocaleString,oS=[].slice,sS=!!nS&&i((function(){aS.call(new nS(1))}));iS("toLocaleString",(function(){return aS.apply(sS?oS.call(rS(this)):rS(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new nS([1,2]).toLocaleString()}))||!i((function(){nS.prototype.toLocaleString.call([1,2])})));var cS=lk.exportTypedArrayMethod,uS=r.Uint8Array,lS=uS&&uS.prototype||{},hS=[].toString,fS=[].join;i((function(){hS.call({})}))&&(hS=function(){return fS.call(this)});var dS=lS.toString!=hS;cS("toString",hS,dS);var pS=function(){function e(t,n){if(eo(this,e),this.config=t,this.genome=n,this.format=t.format?t.format.toUpperCase():"BAM","BAM"!==this.format&&"VCF"!==this.format)throw Error("htsget format ".concat(t.format," is not supported"))}var t,n,r,i;return no(e,[{key:"readHeaderData",value:(i=Ja(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(gS(this.config),"?class=header&format=").concat(this.format),e.next=3,$f.loadJson(t,db(this.config));case 3:return n=e.sent,e.next=6,this.loadUrls(n.htsget.urls);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"readData",value:(r=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(gS(this.config),"?format=").concat(this.format,"&referenceName=").concat(t,"&start=").concat(Math.floor(n),"&end=").concat(Math.ceil(r)),e.next=3,$f.loadJson(i,db(this.config));case 3:return a=e.sent,e.abrupt("return",this.loadUrls(a.htsget.urls));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"loadUrls",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=go(t);try{for(r.s();!(i=r.n()).done;)(a=i.value).url.startsWith("data:")?n.push(Promise.resolve(mS(a.url))):(o=db(this.config||{}),a.headers&&(o.headers=Object.assign(o.headers||{},a.headers)),n.push($f.loadArrayBuffer(a.url,o)))}catch(e){r.e(e)}finally{r.f()}return e.next=5,Promise.all(n);case 5:return s=e.sent,e.abrupt("return",vS(s));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}],[{key:"inferFormat",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=gS(t),r="".concat(n).concat(n.includes("?")?"&":"?","class=header"),e.next=5,$f.loadJson(r,db(t));case 5:if(!(i=e.sent).htsget){e.next=16;break}if("BAM"===(a=i.htsget.format)||"VCF"===a){e.next=10;break}throw Error("htsget format ".concat(a," is not supported"));case 10:if(t.format=a.toLowerCase(),t.sourceType="htsget",t.name){e.next=16;break}return e.next=15,vb(t.url);case 15:t.name=e.sent;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18]])}))),function(e){return t.apply(this,arguments)})}]),e}();function gS(e){if(e.url&&e.endpoint&&e.id)return e.url+e.endpoint+e.id;if(e.endpoint&&e.id)return e.endpoint+e.id;if(e.url)return e.url.startsWith("htsget://")?e.url.replace("htsget://","https://"):e.url;throw Error("Must specify either 'url', or 'endpoint' and 'id")}function vS(e){var t,n=0,r=go(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.byteLength}}catch(e){r.e(e)}finally{r.f()}var i,a=0,o=new Uint8Array(n),s=go(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=new Uint8Array(c);o.set(u,a),a+=u.length}}catch(e){s.e(e)}finally{s.f()}return o}function mS(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}var yS=function(e){ro(i,e);var t,n,r=co(i);function i(e,t){var n;return eo(this,i),(n=r.call(this,e,t)).parser=new Uw,n}return no(i,[{key:"readHeader",value:(n=Ja(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=9;break}return e.next=3,this.readHeaderData();case 3:return t=e.sent,n=Ww(t),e.next=7,this.parser.parseHeader(n,this.genome);case 7:this.header=e.sent,this.chrAliasTable=this.header.chrAliasTable;case 9:return e.abrupt("return",this.header);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"readFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.format||"VCF"===this.config.format.toUpperCase()){e.next=2;break}throw Error("htsget format ".concat(this.config.format," is not supported"));case 2:if(this.chrAliasTable){e.next=5;break}return e.next=5,this.readHeader();case 5:return i=this.chrAliasTable.has(t)?this.chrAliasTable.get(t):t,e.next=8,this.readData(i,n,r);case 8:return a=e.sent,o=Ww(a),e.abrupt("return",this.parser.parseFeatures(o));case 11:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),i}(pS),bS=function(){function e(t,n){eo(this,e),this.config=t||{},this.genome=n,this.sourceType=void 0===t.sourceType?"file":t.sourceType,this.visibilityWindow=t.visibilityWindow;var r=new Set(["bigwig","bw","bigbed","bb","tdf"]);if(t.features&&Array.isArray(t.features)){var i=function(e,t){if(!e||0===e.length)return[];if(void 0===e[0].chr&&void 0!==e[0].chr1){var n,r=[],i=go(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t&&(a.chr1=t.getChromosomeName(a.chr1),a.chr2=t.getChromosomeName(a.chr2)),a.chr1===a.chr2?(a.chr=a.chr1,a.start=Math.min(a.start1,a.start2),a.end=Math.max(a.end1,a.end2)):r.push(a)}}catch(e){i.e(e)}finally{i.f()}for(var o=0,s=r;o<s.length;o++){var c=s[o],u=Object.assign({dup:!0},c);e.push(u),c.chr=c.chr1,c.start=c.start1,c.end=c.end1,u.chr=u.chr2,u.start=u.start2,u.end=u.end2}}else if(t){var l,h=go(e);try{for(h.s();!(l=h.n()).done;){var f=l.value;f.chr=t.getChromosomeName(f.chr)}}catch(e){h.e(e)}finally{h.f()}}return e}(t.features,n);wS(i),t.mappings&&function(e,t){var n=Object.keys(t);e.forEach((function(e){n.forEach((function(n){e[n]=e[t[n]]}))}))}(i,t.mappings),this.queryable=!1,this.featureCache=new cd(i,n)}else t.reader?(this.reader=t.reader,this.queryable=void 0===t.queryable||t.queryable,this.expandQuery=!!t.expandQuery):"ga4gh"===t.sourceType?(this.reader=new jx(t,n),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new Dx(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new Fx(t),this.queryable=!0,this.expandQuery=!!t.expandQuery):"htsget"===t.sourceType?this.reader=new yS(t,n):"ucscservice"===t.sourceType?(this.reader=new Ox(t.source),this.queryable=!0):"custom"===t.sourceType||void 0!==t.source?(this.reader=new Ix(t.source),this.queryable=void 0===t.source.queryable||t.source.queryable,this.expandQuery=!!t.expandQuery):"civic-ws"===t.sourceType?(this.reader=new qx(t),this.queryable=!1,this.expandQuery=!!t.expandQuery):(this.reader=new Lx(t,n),void 0!==t.queryable?this.queryable=t.queryable:r.has(t.format)&&(this.queryable=r.has(t.format)||this.reader.indexed))}var t,n,r,i;return no(e,[{key:"supportsWholeGenome",value:function(){return!this.queryable&&(void 0===this.visibilityWindow||this.visibilityWindow<=0)}},{key:"trackType",value:(i=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t.type);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getHeader",value:(r=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=9;break}if(!this.reader||"function"!=typeof this.reader.readHeader){e.next=8;break}return e.next=4,this.reader.readHeader();case 4:(t=e.sent)?(this.header=t,t.format&&(this.config.format=t.format)):this.header={},e.next=9;break;case 8:this.header={};case 9:return e.abrupt("return",this.header);case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getFeatures",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,r=t.start,i=t.end,a=t.visibilityWindow,o=this.genome,s=o?o.getChromosomeName(n):n,!((c="all"===s.toLowerCase())&&!this.getWGFeatures||this.config.disableCache)&&this.featureCache&&this.featureCache.containsRange(new Fy(s,r,i))){e.next=7;break}return e.next=7,this.loadFeatures(r,i,a,s);case 7:if(!c){e.next=12;break}return this.wgFeatures||(this.queryable?this.wgFeatures=[]:this.wgFeatures=this.getWGFeatures(this.featureCache.getAllFeatures())),e.abrupt("return",this.wgFeatures);case 12:return e.abrupt("return",this.featureCache.queryFeatures(s,r,i));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"loadFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.reader,o=t,s=n,(!r||r<=0)&&!1!==this.expandQuery?(c=this.genome?this.genome.getChromosome(i):void 0,o=0,s=c?c.bpLength:Number.MAX_SAFE_INTEGER):r>n-t&&!1!==this.expandQuery&&(u=Math.min(4.1*(n-t),r),o=Math.max(0,(t+n)/2-u),s=t+u),e.next=6,a.readFeatures(i,o,s);case 6:l=e.sent,void 0===this.queryable&&(this.queryable=a.indexed),h=this.queryable?new Fy(i,o,s):void 0,l?(!1===this.config.assembleGFF||"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(l=new Nx(this.config).combineFeatures(l,h)),"wig"!==this.config.format&&"junctions"!==this.config.type&&(f=this.config.maxRows||Number.MAX_SAFE_INTEGER,wS(l,f)),this.featureCache=new cd(l,this.genome,h),(this.config.searchable||this.config.searchableFields)&&this.addFeaturesToDB(l)):this.featureCache=new cd([],h);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"addFeaturesToDB",value:function(e){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.name&&(this.genome.featureDB[r.name.toUpperCase()]=r),r.gene&&r.gene.name&&(this.genome.featureDB[r.gene.name.toUpperCase()]=r),this.config.searchableFields){var i,a=go(this.config.searchableFields);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=r.getAttributeValue(o);s&&(s.indexOf(" ")>0?(this.genome.featureDB[s.replaceAll(" ","+").toUpperCase()]=r,this.genome.featureDB[s.replaceAll(" ","%20").toUpperCase()]=r):this.genome.featureDB[s.toUpperCase()]=r)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"getWGFeatures",value:function(e){var t,n=this.genome,r=new Set(n.wgChromosomeNames),i=[],a=go(n.wgChromosomeNames);try{for(a.s();!(t=a.n()).done;){var o=e[t.value];if(o){var s,c=go(o);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=n.getChromosomeName(u.chr);if(r.has(l)){var h=Object.assign({},u);h.chr="all",h.start=n.getGenomeCoordinate(u.chr,u.start),h.end=n.getGenomeCoordinate(u.chr,u.end),h._f=u,h.exons&&delete h.exons,i.push(h)}}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){a.e(e)}finally{a.f()}return i.sort((function(e,t){return e.start-t.start})),i}}]),e}();function wS(e,t){if(t=t||1e3,null!=e&&0!==e.length){var n,r={},i=[],a=go(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.chr,c=r[s];c||(c=[],r[s]=c,i.push(s)),c.push(o)}}catch(e){a.e(e)}finally{a.f()}for(var u=0,l=i;u<l.length;u++){Gx(r[l[u]],t)}}}var xS=function(){function e(t,n,r){eo(this,e),this.path=t.url,this.bufferSize=r||512e3,this.range={start:-1,size:-1},this.config=t}var t;return no(e,[{key:"dataViewForRange",value:(t=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.data&&this.range.start<=t.start&&this.range.start+this.range.size>=t.start+t.size){e.next=9;break}return r=t.size?Math.max(this.bufferSize,t.size):this.bufferSize,i={start:t.start,size:r},e.next=6,$f.loadArrayBuffer(this.path,db(this.config,{range:i}));case 6:a=e.sent,this.data=a,this.range=i;case 9:return o=this.data.byteLength,s=t.start-this.range.start,e.abrupt("return",n?new Uint8Array(this.data,s,o-s):new DataView(this.data,s,o-s));case 12:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function kS(e){var t,n,r=[],i=!1,a=go(e.trim().split(/\s*[\r\n]+\s*/g));try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.startsWith("table"))t=o.split(/\s+/)[1].trim();else if(o.startsWith("("))i=!0;else if(o.startsWith(")"));else if(i&&o.length>0){var s=o.indexOf(";"),c=o.substr(0,s).split(/\s+/),u=o.substr(s+1).replace(/"/g,"").trim();r.push({type:c[0],name:c[1],description:u})}}}catch(e){a.e(e)}finally{a.f()}return{table:t,fields:r}}var _S=512e3,SS=function(){function e(t,n){eo(this,e),this.path=t.url,this.genome=n,this.rpTreeCache={},this.config=t,this.loader=bb(this.path)?new FS(this.path):$f}var t,n,r,i,a,o,s;return no(e,[{key:"readWGFeatures",value:(s=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:return r=this.chromTree.idToChrom.length-1,i=this.chromTree.idToChrom[0],a=this.chromTree.idToChrom[r],e.abrupt("return",this.readFeatures(i,0,a,Number.MAX_VALUE,t,n));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"readFeatures",value:(o=Ja(regeneratorRuntime.mark((function e(t,n,r,i,a,o){var s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C,E,A,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:if(s=this.chromTree.chromToID[t],c=this.chromTree.chromToID[r],void 0!==s&&void 0!==c){e.next=6;break}return e.abrupt("return",[]);case 6:if("bigwig"!==this.type){e.next=14;break}return e.next=9,this.getZoomHeaders();case 9:h=e.sent,(f=a?IS(a,h):void 0)?(u=f.indexOffset,l=NS):(u=this.header.fullIndexOffset,l=OS),e.next=16;break;case 14:u=this.header.fullIndexOffset,l=PS.call(this);case 16:return e.next=18,this.loadRPTree(u);case 18:return d=e.sent,e.next=21,d.findLeafItemsOverlapping(s,n,c,i);case 21:if((p=e.sent)&&0!==p.length){e.next=26;break}return e.abrupt("return",[]);case 26:g=Number.MAX_VALUE,v=0,m=go(p);try{for(m.s();!(y=m.n()).done;)b=y.value,g=Math.min(g,b.dataOffset),v=Math.max(v,b.dataOffset+b.dataSize)}catch(e){m.e(e)}finally{m.f()}return w=v-g,e.next=33,this.loader.loadArrayBuffer(this.config.url,db(this.config,{range:{start:g,size:w}}));case 33:x=e.sent,k=[],_=go(p);try{for(_.s();!(S=_.n()).done;)C=S.value,E=new Uint8Array(x,C.dataOffset-g,C.dataSize),A=void 0,R=this.header.uncompressBuffSize>0,A=R?_f(E):E,l.call(this,new DataView(A.buffer),s,n,c,i,k,this.chromTree.idToChrom,o)}catch(e){_.e(e)}finally{_.f()}return k.sort((function(e,t){return e.start-t.start})),e.abrupt("return",k);case 39:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,i,a){return o.apply(this,arguments)})},{key:"getZoomHeaders",value:(a=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zoomLevelHeaders){e.next=4;break}return e.abrupt("return",this.zoomLevelHeaders);case 4:return e.next=6,this.loadHeader();case 6:return e.abrupt("return",this.zoomLevelHeaders);case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"loadHeader",value:(i=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.header){e.next=4;break}return e.abrupt("return",this.header);case 4:return e.next=6,this.loader.loadArrayBuffer(this.path,db(this.config,{range:{start:0,size:64}}));case 6:return t=e.sent,this.littleEndian=!0,r=new ax(new DataView(t)),2291137574===(i=r.getUInt())?this.type="bigwig":2273964779===i?this.type="bigbed":(this.littleEndian=!1,r.littleEndian=!1,r.position=0,654085990===(a=r.getUInt())?this.type="bigwig":3958540679===a&&(this.type="bigbed")),n={bwVersion:r.getUShort(),nZoomLevels:r.getUShort(),chromTreeOffset:r.getLong(),fullDataOffset:r.getLong(),fullIndexOffset:r.getLong(),fieldCount:r.getUShort(),definedFieldCount:r.getUShort(),autoSqlOffset:r.getLong(),totalSummaryOffset:r.getLong(),uncompressBuffSize:r.getInt(),extensionOffset:r.getLong()},s={start:o=64,size:n.fullDataOffset-o+5},e.next=16,this.loader.loadArrayBuffer(this.path,db(this.config,{range:s}));case 16:for(t=e.sent,c=n.nZoomLevels,r=new ax(new DataView(t)),this.zoomLevelHeaders=[],this.firstZoomDataOffset=Number.MAX_SAFE_INTEGER,u=1;u<=c;u++)h=new CS(l=c-u,r),this.firstZoomDataOffset=Math.min(h.dataOffset,this.firstZoomDataOffset),this.zoomLevelHeaders[l]=h;if(n.autoSqlOffset>0&&(r.position=n.autoSqlOffset-o,(f=r.getString())&&(this.autoSql=kS(f))),n.totalSummaryOffset>0&&(r.position=n.totalSummaryOffset-o,this.totalSummary=new LS(r)),!(n.chromTreeOffset>0)){e.next=29;break}r.position=n.chromTreeOffset-o,this.chromTree=new RS(r,o,this.genome),e.next=30;break;case 29:throw"BigWig chromosome tree offset <= 0";case 30:return r.position=n.fullDataOffset-o,n.dataCount=r.getInt(),this.setDefaultVisibilityWindow(n),this.header=n,e.abrupt("return",this.header);case 35:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadRPTree",value:(r=Ja(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.rpTreeCache[t])){e.next=5;break}return e.abrupt("return",n);case 5:return n=new ES(t,this.config,this.littleEndian,this.loader),e.next=8,n.load();case 8:return this.rpTreeCache[t]=n,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getType",value:(n=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:return e.abrupt("return",this.type);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getTrackType",value:(t=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHeader();case 2:if("bigwig"!==this.type){e.next=6;break}return e.abrupt("return","wig");case 6:return e.abrupt("return",this.autoSql&&"chromatinInteract"===this.autoSql.table?"interact":"annotation");case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setDefaultVisibilityWindow",value:function(e){if("bigwig"===this.type)this.visibilityWindow=-1;else{var t=this.genome?this.genome.getGenomeLength():3088286401;this.visibilityWindow=e.dataCount<1e3?-1:t/e.dataCount*1e3}}}]),e}(),CS=function e(t,n){eo(this,e),this.index=t,this.reductionLevel=n.getInt(),this.reserved=n.getInt(),this.dataOffset=n.getLong(),this.indexOffset=n.getLong()},ES=function(){function e(t,n,r,i){eo(this,e),this.config=n,this.loader=i,this.fileOffset=t,this.path=n.url,this.littleEndian=r}var t,n,r;return no(e,[{key:"load",value:(r=Ja(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fileOffset+48,n=bb(this.path)?this.loader:new xS(this.config,_S),e.next=4,this.readNode(t,n);case 4:return this.rootNode=e.sent,e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"readNode",value:(n=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dataViewForRange({start:t,size:4},!1);case 2:return r=e.sent,i=new ax(r,this.littleEndian),a=i.getByte(),o=1===a,i.getByte(),s=i.getUShort(),c={start:t+=4,size:s*(o?32:24)},e.next=13,n.dataViewForRange(c,!1);case 13:if(r=e.sent,u=new Array(s),i=new ax(r),!o){e.next=21;break}for(l=0;l<s;l++)h={isLeaf:!0,startChrom:i.getInt(),startBase:i.getInt(),endChrom:i.getInt(),endBase:i.getInt(),dataOffset:i.getLong(),dataSize:i.getLong()},u[l]=h;return e.abrupt("return",new AS(u));case 21:for(f=0;f<s;f++)d={isLeaf:!1,startChrom:i.getInt(),startBase:i.getInt(),endChrom:i.getInt(),endBase:i.getInt(),childOffset:i.getLong()},u[f]=d;return e.abrupt("return",new AS(u));case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"findLeafItemsOverlapping",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,e.abrupt("return",new Promise((function(e,o){var s=[],c=new Set,u=bb(a.path)?a.loader:new xS(a.config,_S);c.add(0),function l(h,f){TS(h,t,n,r,i)&&h.items.forEach((function(e){TS(e,t,n,r,i)&&(e.isLeaf?s.push(e):e.childNode?l(e.childNode):(c.add(e.childOffset),a.readNode(e.childOffset,u).then((function(t){e.childNode=t,l(t,e.childOffset)})).catch(o)))})),void 0!==f&&c.delete(f),0===c.size&&e(s)}(a.rootNode,0)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})}]),e}(),AS=function e(t){eo(this,e),this.items=t;var n,r,i=Number.MAX_SAFE_INTEGER,a=0,o=Number.MAX_SAFE_INTEGER,s=0;for(n=0;n<t.length;n++)r=t[n],i=Math.min(i,r.startChrom),a=Math.max(a,r.endChrom),o=Math.min(o,r.startBase),s=Math.max(s,r.endBase);this.startChrom=i,this.endChrom=a,this.startBase=o,this.endBase=s},RS=function e(t,n,r){eo(this,e);var i=t.getInt(),a=t.getInt(),o=t.getInt(),s=t.getInt(),c=t.getLong(),u=t.getLong(),l={},h=[];this.header={magic:i,blockSize:a,keySize:o,valSize:s,itemCount:c,reserved:u},this.chromToID=l,this.idToChrom=h,function e(t,i){i>=0&&(t.position=i);var a=t.getByte();t.getByte();var s,c,u,f,d,p,g=t.getUShort();if(1===a)for(s=0;s<g;s++)c=t.getFixedLengthTrimmedString(o),u=t.getInt(),t.getInt(),r&&(c=r.getChromosomeName(c)),l[c]=u,h[u]=c;else for(s=0;s<g;s++)c=t.getFixedLengthTrimmedString(o),f=t.getLong(),d=f-n,p=t.position,e(t,d),t.position=p}(t,-1)};function TS(e,t,n,r,i){return e?(r>e.startChrom||r===e.startChrom&&i>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase):(console.log("null item for "+t+" "+n+" "+i),!1)}var LS=function e(t){eo(this,e),t?(this.basesCovered=t.getLong(),this.minVal=t.getDouble(),this.maxVal=t.getDouble(),this.sumData=t.getDouble(),this.sumSquares=t.getDouble(),MS.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)};function MS(){var e=this.basesCovered;if(e>0){this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1));var t=this.minVal<0?this.mean-2*this.stddev:0,n=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:t,max:n}}}function IS(e,t){for(var n,r=0;r<t.length;r++){var i=t[r];if(i.reductionLevel<e){n=i;break}}return n}function OS(e,t,n,r,i,a,o){var s=new ax(e),c=s.getInt(),u=s.getInt(),l=s.getInt(),h=s.getInt(),f=s.getInt(),d=s.getByte();s.getByte();var p=s.getUShort();if(c>=t&&c<=r)for(;p-- >0;){var g=void 0;switch(d){case 1:u=s.getInt(),l=s.getInt(),g=s.getFloat();break;case 2:u=s.getInt(),g=s.getFloat(),l=u+f;break;case 3:g=s.getFloat(),l=u+f,u+=h}if(!(c<t||c===t&&l<n)){if(c>r||c===r&&u>=i)break;if(Number.isFinite(g)){var v=o[c];a.push({chr:v,start:u,end:l,value:g})}}}}function PS(){var e=function(e,t,n){if(n&&"chromatinInteract"===n.table)return function(e,t){return e.chr1=t[5],e.start1=Number.parseInt(t[6]),e.end1=Number.parseInt(t[7]),e.chr2=t[10],e.start2=Number.parseInt(t[11]),e.end2=Number.parseInt(t[12]),e.name=t[0],e.score=Number.parseFloat(t[1]),e.value=Number.parseFloat(t[2]),e.color="."===t[4]?void 0:"0"===t[4]?"rgb(0,0,0)":t[4],e};var r=e-3;return function(i,a){if(r>0&&(i.name=a[0]),r>1&&(i.score=parseFloat(a[1])),r>2&&(i.strand=a[2]),r>3&&(i.cdStart=parseInt(a[3])),r>4&&(i.cdEnd=parseInt(a[4])),r>5&&"."!==a[5]&&"0"!==a[5]&&"-1"!==a[5]){var o=Nf.createColorString(a[5]);i.color=o.startsWith("rgb")?o:void 0}if(r>8){for(var s=parseInt(a[6]),c=a[7].split(","),u=a[8].split(","),l=[],h=0;h<s;h++){var f=i.start+parseInt(u[h]),d=f+parseInt(c[h]);l.push({start:f,end:d})}i.exons=l}if(n)for(var p=e;p<t;p++)if(p<n.fields.length){var g=n.fields[p].name,v=a[p-3];i[g]=v}}}(this.header.definedFieldCount,this.header.fieldCount,this.autoSql);return function(t,n,r,i,a,o,s){for(var c=new ax(t);c.remLength()>=13;){var u=c.getInt(),l=s[u],h=c.getInt(),f=c.getInt(),d=c.getString();if(!(u<n||u===n&&f<r)){if(u>i||u===i&&h>=a)break;if(f>0){var p={chr:l,start:h,end:f};o.push(p);var g=d.split("\t");e(p,g)}}}}}function NS(e,t,n,r,i,a,o,s){for(var c=new ax(e);c.remLength()>=32;){var u=c.getInt(),l=o[u],h=c.getInt(),f=c.getInt(),d=c.getInt(),p=c.getFloat(),g=c.getFloat(),v=c.getFloat();c.getFloat();var m=void 0;switch(s){case"min":m=p;break;case"max":m=g;break;default:m=0===d?0:v/d}if(!(u<t||u===t&&f<n)){if(u>r||u===r&&h>=i)break;Number.isFinite(m)&&a.push({chr:l,start:h,end:f,value:m})}}}var FS=function(){function e(t){eo(this,e),this.data=Tf(t).buffer}var t;return no(e,[{key:"loadArrayBuffer",value:function(e,t){var n=t.range;return n?this.data.slice(n.start,n.start+n.size):this.data}},{key:"dataViewForRange",value:(t=Ja(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.min(this.data.byteLength-t.start,t.size),e.abrupt("return",n?new Uint8Array(this.data,t.start,r):new DataView(this.data,t.start,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),DS=function(){function e(t,n){eo(this,e),this.reader=new SS(t,n),this.genome=n,this.format=t.format||"bigwig",this.wgValues={}}var t,n,r,i,a;return no(e,[{key:"getFeatures",value:(a=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,r=t.start,i=t.end,a=t.bpPerPixel,o=t.windowFunction,"all"!==n.toLowerCase()){e.next=7;break}return e.next=4,this.getWGValues(o);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.reader.readFeatures(n,r,n,i,a,o);case 9:e.t0=e.sent;case 10:return s=e.t0,"bigwig"===this.reader.type||Gx(s),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getHeader",value:(i=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.reader.loadHeader());case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getDefaultRange",value:function(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0}},{key:"defaultVisibilityWindow",value:(r=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.reader.defaultVisibilityWindow);case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getWGValues",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1e3,r=this.genome,!this.wgValues[t]){e.next=6;break}return e.abrupt("return",this.wgValues[t]);case 6:return i=r.getGenomeLength()/n,e.next=9,this.reader.readWGFeatures(i,t);case 9:a=e.sent,o=[],s=go(a);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.chr,h=r.getCumulativeOffset(l),(f=Object.assign({},u)).chr="all",f.start=h+u.start,f.end=h+u.end,o.push(f)}catch(e){s.e(e)}finally{s.f()}return this.wgValues[t]=o,e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return"bigwig"===this.reader.type||this.defaultVisibilityWindow()<=0}},{key:"trackType",value:(t=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.reader.getTrackType());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();a&&("g"!=/./g.flags||ra.UNSUPPORTED_Y)&&T.f(RegExp.prototype,"flags",{configurable:!0,get:ta});var BS=function(){function e(t,n){eo(this,e),this.config=t,this.genome=n,this.path=t.url,this.groupCache={},this.datasetCache={}}var t,n,r,i,a,o;return no(e,[{key:"readHeader",value:(o=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.magic){e.next=2;break}return e.abrupt("return",this);case 2:return e.next=4,$f.loadArrayBuffer(this.path,db(this.config,{range:{start:0,size:64e3}}));case 4:if(t=e.sent,n=new ax(new DataView(t)),this.magic=n.getInt(),this.version=n.getInt(),this.indexPos=n.getLong(),this.indexSize=n.getInt(),n.getInt(),this.version>=2)for(r=n.getInt(),this.windowFunctions=[];r-- >0;)this.windowFunctions.push(n.getString());for(this.trackType=n.getString(),this.trackLine=n.getString(),i=n.getInt(),this.trackNames=[];i-- >0;)this.trackNames.push(n.getString());return this.genomeID=n.getString(),this.flags=n.getInt(),this.compressed=0!=(1&this.flags),e.next=22,$f.loadArrayBuffer(this.path,db(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 22:for(t=e.sent,n=new ax(new DataView(t)),this.datasetIndex={},a=n.getInt();a-- >0;)o=n.getString(),s=n.getLong(),c=n.getInt(),this.datasetIndex[o]={position:s,size:c};for(this.groupIndex={},a=n.getInt();a-- >0;)u=n.getString(),l=n.getLong(),h=n.getInt(),this.groupIndex[u]={position:l,size:h};return e.abrupt("return",this);case 31:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"readDataset",value:(a=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,g,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t+"_"+n+"_"+r,!this.datasetCache[i]){e.next=5;break}return e.abrupt("return",this.datasetCache[i]);case 5:return e.next=7,this.readHeader();case 7:if(a=this.version<2?"":"/"+n,o="all"===t.toLowerCase()||void 0===r?"0":r.toString(),s="raw"===n?"/"+t+"/raw":"/"+t+"/z"+o+a,void 0!==(c=this.datasetIndex[s])){e.next=13;break}return e.abrupt("return",void 0);case 13:return e.next=15,$f.loadArrayBuffer(this.path,db(this.config,{range:{start:c.position,size:c.size}}));case 15:if(u=e.sent){e.next=18;break}return e.abrupt("return",void 0);case 18:for(l=new ax(new DataView(u)),h=l.getInt(),f={};h-- >0;)f[l.getString()]=l.getString();for(d=l.getString(),p=l.getFloat(),g=l.getInt(),v=[];g-- >0;)v.push({position:l.getLong(),size:l.getInt()});return m={name:s,attributes:f,dataType:d,tileWidth:p,tiles:v},this.datasetCache[i]=m,e.abrupt("return",m);case 30:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"readRootGroup",value:(i=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,!(n=this.groupCache["/"])){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.readGroup("/");case 8:return r=e.sent,i=r.chromosomes,(a=r.maxZoom)&&(this.maxZoom=Number(a)),(o=r.totalCount)&&(r.totalCount=Number.parseFloat(o)),s={},i&&i.split(",").forEach((function(e){var n=t.getChromosomeName(e);s[n]=e})),this.chrAliasTable=s,this.groupCache["/"]=r,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"readGroup",value:(r=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.groupCache[t])){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.readHeader();case 7:if(void 0!==(r=this.groupIndex[t])){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.next=12,$f.loadArrayBuffer(this.path,db(this.config,{range:{start:r.position,size:r.size}}));case 12:if(i=e.sent){e.next=15;break}return e.abrupt("return",void 0);case 15:for(a=new ax(new DataView(i)),o={name:t},s=a.getInt();s-- >0;)c=a.getString(),u=a.getString(),o[c]=u;return this.groupCache[t]=o,e.abrupt("return",o);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readTiles",value:(n=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sort((function(e,t){return e.position-t.position})),0!==(t=t.filter((function(e){return e.size>0}))).length){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return r=t[0],i=t[t.length-1],a=r.position,o=i.position+i.size-a,e.next=10,$f.loadArrayBuffer(this.path,db(this.config,{range:{start:a,size:o}}));case 10:s=e.sent,c=[],u=go(t),e.prev=13,u.s();case 15:if((l=u.n()).done){e.next=38;break}if(h=l.value,f=h.position-a,!((d=h.size)>0)){e.next=36;break}p=void 0,this.compressed?(g=_f(s.slice(f,f+d)),p=g.buffer):p=s.slice(f,f+d),v=new ax(new DataView(p)),m=v.getString(),y=void 0,e.t0=m,e.next="fixedStep"===e.t0?28:"variableStep"===e.t0?30:"bed"===e.t0||"bedWithName"===e.t0?32:34;break;case 28:return y=zS(v,n),e.abrupt("break",35);case 30:return y=HS(v,n),e.abrupt("break",35);case 32:return y=jS(v,n,m),e.abrupt("break",35);case 34:throw"Unknown tile type: "+m;case 35:c.push(y);case 36:e.next=15;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(13),u.e(e.t1);case 43:return e.prev=43,u.f(),e.finish(43);case 46:return e.abrupt("return",c);case 47:case"end":return e.stop()}}),e,this,[[13,40,43,46]])}))),function(e,t){return n.apply(this,arguments)})},{key:"readTile",value:(t=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f.loadArrayBuffer(this.path,db(this.config,{range:{start:t.position,size:t.size}}));case 2:r=e.sent,this.compressed&&(i=_f(r),r=i.buffer),a=new ax(new DataView(r)),o=a.getString(),e.t0=o,e.next="fixedStep"===e.t0?9:"variableStep"===e.t0?10:"bed"===e.t0||"bedWithName"===e.t0?11:12;break;case 9:return e.abrupt("return",zS(a,n));case 10:return e.abrupt("return",HS(a,n));case 11:return e.abrupt("return",jS(a,n,o));case 12:throw"Unknown tile type: "+o;case 13:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function zS(e,t){for(var n=e.getInt(),r=e.getInt(),i=e.getFloat(),a=[],o=t;o-- >0;){for(var s=n,c=[];s-- >0;)c.push(e.getFloat());a.push(c)}return{type:"fixedStep",start:r,span:i,data:a,nTracks:t,nPositions:n}}function HS(e,t){for(var n=e.getInt(),r=e.getFloat(),i=e.getInt(),a=[],o=i;o-- >0;)a.push(e.getInt());e.getInt();for(var s=[],c=t;c-- >0;){o=i;for(var u=[];o-- >0;)u.push(e.getFloat());s.push(u)}return{type:"variableStep",tileStart:n,span:r,start:a,data:s,nTracks:t,nPositions:i}}function jS(e,t,n){for(var r=e.getInt(),i=r,a=[];i-- >0;)a.push(e.getInt());i=r;for(var o=[];i-- >0;)o.push(e.getInt());e.getInt();for(var s=[],c=t;c-- >0;){for(var u=r,l=[];u-- >0;)l.push(e.getFloat());s.push(l)}if("bedWithName"===n){i=r;for(var h=[];i-- >0;)h.push(e.getString())}return{type:n,start:a,end:o,data:s,nTracks:t,nPositions:r}}var VS=function(){function e(t,n){eo(this,e),this.genome=n,this.windowFunction=t.windowFunction||"mean",this.reader=new BS(t,n)}var t;return no(e,[{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chr,r=t.start,i=t.end,a=t.bpPerPixel,o=new Fy(n,r,i),s=this.genome,this.rootGroup){e.next=8;break}return e.next=6,this.reader.readRootGroup();case 6:this.rootGroup=e.sent,this.normalizationFactor||(c=this.rootGroup.totalCount)&&(this.normalizationFactor=1e6/c);case 8:if("all"!==n.toLowerCase()){e.next=10;break}return e.abrupt("return",[]);case 10:return o.bpPerPixel=a,u=$S(n,a,s),l=this.reader.chrAliasTable[n],h=this.reader.maxZoom,void 0===l&&(l=n),void 0===h&&(h=-1),f=u>h?"raw":this.windowFunction,e.next=19,this.reader.readDataset(l,f,u);case 19:if(null!=(d=e.sent)){e.next=22;break}return e.abrupt("return",[]);case 22:return p=d.tileWidth,g=Math.floor(r/p),v=Math.floor(i/p),e.next=28,this.reader.readTiles(d.tiles.slice(g,v+1),1);case 28:m=e.sent,y=[],b=go(m),e.prev=31,b.s();case 33:if((w=b.n()).done){e.next=47;break}x=w.value,e.t0=x.type,e.next="bed"===e.t0?38:"variableStep"===e.t0?40:"fixedStep"===e.t0?42:44;break;case 38:return US(x,n,r,i,a,y),e.abrupt("break",45);case 40:return qS(x,n,r,i,a,y),e.abrupt("break",45);case 42:return WS(x,n,r,i,a,y),e.abrupt("break",45);case 44:throw"Unknown tile type: "+x.type;case 45:e.next=33;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(31),b.e(e.t1);case 52:return e.prev=52,b.f(),e.finish(52);case 55:return y.sort((function(e,t){return e.start-t.start})),e.abrupt("return",y);case 57:case"end":return e.stop()}}),e,this,[[31,49,52,55]])}))),function(e){return t.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!1}}]),e}();function US(e,t,n,r,i,a){for(var o=e.nPositions,s=e.start,c=e.end,u=e.data[0],l=0;l<o;l++){var h=s[l],f=c[l];if(!(f<n)){if(h>r)break;a.push({chr:t,start:h,end:f,value:u[l]})}}}function qS(e,t,n,r,i,a){for(var o=e.nPositions,s=e.start,c=e.span,u=e.data[0],l=0;l<o;l++){var h=s[l],f=h+c;if(!(f<n)){if(h>r)break;a.push({chr:t,start:h,end:f,value:u[l]})}}}function WS(e,t,n,r,i,a){for(var o=e.nPositions,s=e.start,c=e.span,u=e.data[0],l=0;l<o;l++){var h=s+c;if(s>r)break;h>=n&&(Number.isNaN(u[l])||a.push({chr:t,start:s,end:h,value:u[l]})),s=h}}var GS=Math.log(2);function $S(e,t,n){var r=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,r/(700*t)))/GS)}function ZS(e,t){var n=e.format?e.format.toLowerCase():void 0;return"bigwig"===n||"bigbed"===n||"bb"===n?new DS(e,t):"tdf"===n?new VS(e,t):new bS(e,t)}for(var YS=new Map,XS=0,KS=[["A","T"],["G","C"],["Y","R"],["W","S"],["K","M"],["D","H"],["B","V"]];XS<KS.length;XS++){var QS=KS[XS],JS=QS[0],eC=QS[1];YS.set(JS,eC),YS.set(eC,JS),YS.set(JS.toLowerCase(),eC.toLowerCase()),YS.set(eC.toLowerCase(),JS.toLowerCase())}function tC(e){for(var t="",n=e.length;n-- >0;){var r=e[n];t+=YS.has(r)?YS.get(r):r}return t}var nC={getTissueInfo:function(e,t){var n=(t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8");return $f.loadJson(n,{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}};function rC(e,t,n){var r=(e.start-t)/n,i=(e.end-t)/n,a=i-r;return a<3&&(a=3,r-=1.5),{px:r,px1:i,pw:a}}function iC(e,t,n,r,i,a){try{i.save(),i.fillStyle=this.defaultColor,i.strokeStyle=this.defaultColor;var o,s,c=oC.call(this,e);i.fillStyle=c,i.strokeStyle=c,"SQUISHED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight/2,s=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(o=this.featureHeight,s=this.margin+this.expandedRowHeight*e.row):(o=this.featureHeight,s=this.margin);var u=s+o/2,l=o/2,h=u-l/2,f=e.exons?e.exons.length:0,d=rC(e,t,n),p=this.arrowSpacing,g="+"===e.strand?1:"-"===e.strand?-1:0;if(0===f){if(i.fillRect(d.px,s,d.pw,o),0!==g){i.fillStyle="white",i.strokeStyle="white";for(var v=d.px+p/2;v<d.px1;v+=p)Vd.strokeLine(i,v-2*g,u-2,v,u),Vd.strokeLine(i,v-2*g,u+2,v,u);i.fillStyle=c,i.strokeStyle=c}}else{Vd.strokeLine(i,d.px+1,u,d.px1-1,u);for(var m=a.pixelWidth,y=Math.max(0,d.px)+p/2,b=Math.min(m,d.px1),w=y;w<b;w+=p)Vd.strokeLine(i,w-2*g,u-2,w,u),Vd.strokeLine(i,w-2*g,u+2,w,u);for(var x=0;x<f;x++){var k=e.exons[x],_=Math.round((k.start-t)/n),S=Math.round((k.end-t)/n),C=Math.max(1,S-_),E=void 0;if(!(_+C<0)){if(_>m)break;if(k.utr)i.fillRect(_,h,C,l);else if(k.cdStart&&(E=Math.round((k.cdStart-t)/n),i.fillRect(_,h,E-_,l),C-=E-_,_=E),k.cdEnd&&(E=Math.round((k.cdEnd-t)/n),i.fillRect(E,h,S-E,l),C-=S-E,S=E),C=Math.max(C,1),i.fillRect(_,s,C,o),C>p+5&&0!==g){i.fillStyle="white",i.strokeStyle="white";for(var A=_+p/2;A<S;A+=p)Vd.strokeLine(i,A-2*g,u-2,A,u),Vd.strokeLine(i,A-2*g,u+2,A,u);i.fillStyle=c,i.strokeStyle=c}}}}a.drawLabel&&"SQUISHED"!==this.displayMode&&aC.call(this,i,e,d.px,d.px1,s,a.referenceFrame,a)}finally{i.restore()}}function aC(e,t,n,r,i,a,o){try{e.save();var s=t.name;if(void 0===s&&t.gene&&(s=t.gene.name),void 0===s&&(s=t.id||t.ID),!s||"."===s)return;var c,u=o.pixelXOffset||0,l=(Math.max(n,-u)+Math.min(r,-u+o.viewportWidth))/2;"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(c={rotate:{angle:45}});var h,f=function(e,t){return t?e+20:e+25}(i,c),d=oC.call(this,t),p=!1;a.selection&&nC.gtexLoaded&&(p=!0,h=a.selection.colorForGene(s));var g={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:h||d,strokeStyle:h||d},v=e.measureText(s),m=l-v.width/2,y=l+v.width/2;(o.labelAllFeatures||m>o.rowLastX[t.row]||p)&&(o.rowLastX[t.row]=y,Vd.fillText(e,s,l,f,g,c))}finally{e.restore()}}function oC(e){var t;if(this.altColor&&"-"===e.strand)t="function"==typeof this.altColor?this.altColor(e):this.altColor;else if(this.color)t="function"==typeof this.color?this.color(e):this.color;else if(this.colorBy){var n=e.getAttributeValue?e.getAttributeValue(this.colorBy):e[this.colorBy];t=this.colorTable.getColor(n)}else t=e.color?e.color:this.defaultColor;if(e.alpha&&1!==e.alpha)t=Nf.addAlpha(t,e.alpha);else if(this.useScore&&e.score&&!Number.isNaN(e.score)){var r=function(e,t,n){var r=(t-e)/9,i=Math.floor((n-e)/r);return Math.min(1,.2+.8*i/9)}(this.config.min?this.config.min:0,this.config.max?this.config.max:1e3,e.score);e.alpha=r,t=Nf.addAlpha(t,r)}return t}var sC=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),cC=new Set(["coding-synon"]),uC=new Set(["splice-3","splice-5"]),lC=new Set(["untranslated-5","untranslated-3"]);function hC(e,t,n,r,i){var a,o,s,c,u=rC(e,t,n),l=this.margin,h=this.snpColors.length;switch(a="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":c=e.func,o=c.split(",").map((function(e){return sC.has(e)||uC.has(e)?h-1:cC.has(e)?h-2:lC.has(e)?h-3:0})).reduce((function(e,t){return Math.max(e,t)}));break;case"class":o="deletion"===(s=e.class)?h-1:"mnp"===s?h-2:"microsatellite"===s||"named"===s?h-3:0}i.fillStyle=this.snpColors[o],i.fillRect(u.px,l,u.pw,a)}function fC(e,t,n,r,i){var a="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight,o=this.margin;"COLLAPSED"!==this.displayMode&&void 0!==e.row&&(o+=e.row*a);var s=o+.5*a,c=s-.5*a,u=s+.5*a,l=Math.round((e.junction_left-t)/n),h=Math.round((e.junction_right-t)/n);i.beginPath(),i.moveTo(l,s),i.bezierCurveTo(l,c,h,c,h,s),i.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();for(var f=e.spanning_frag_coords,d=0;d<f.length;d++){var p=f[d],g=Math.round((p.left-t)/n),v=Math.round((p.right-t)/n);i.beginPath(),i.moveTo(g,s),i.bezierCurveTo(g,u,v,u,v,s),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}var dC=function(e){ro(i,e);var t,n,r=co(i);function i(e,t){return eo(this,i),r.call(this,e,t)}return no(i,[{key:"init",value:function(e){uo(io(i.prototype),"init",this).call(this,e),this.type=e.type||"annotation",this.maxRows=void 0===e.maxRows?1e3:e.maxRows,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:ZS(e,this.browser.genome),this.autoHeight=e.autoHeight,this.margin=void 0===e.margin?10:e.margin,this.featureHeight=e.featureHeight||14,"FusionJuncSpan"===e.type?(this.render=e.render||fC,this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.render=e.render||hC,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function",this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.render=e.render||iC,this.arrowSpacing=30,function(e){e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",n));function t(){e.trackView&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}function n(r){e.browser.un&&e===r&&(e.browser.un("trackdragend",t),e.browser.un("trackremoved",n))}}(this),this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight,e.colorBy&&(e.colorBy.field&&(e.colorTable=e.colorBy.pallete||e.colorBy.palette,e.colorBy=e.colorBy.field),this.colorBy=e.colorBy,e.colorTable?this.colorTable=new hy(e.colorTable):this.colorTable=new ly("Set1"))),this.useScore=e.useScore}},{key:"postInit",value:(n=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getHeader){e.next=4;break}return e.next=3,this.featureSource.getHeader();case 3:this.header=e.sent;case 4:if(this.header&&this.setTrackProperties(this.header),void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){e.next=10;break}return e.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.visibilityWindow,e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:r,bpPerPixel:i,visibilityWindow:a}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var t=0;if(e&&"function"==typeof e.forEach){var n,r=go(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.row&&i.row>t&&(t=i.row)}}catch(e){r.e(e)}finally{r.f()}}return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)}},{key:"draw",value:function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,a=e.pixelWidth,o=e.pixelHeight,s=i+a*r+1;if(this.config.isMergedTrack||Vd.fillRect(n,0,e.pixelTop,a,o,{fillStyle:"rgb(255, 255, 255)"}),t){var c=[];e.rowLastX=[];var u,l=go(t);try{for(l.s();!(u=l.n()).done;){var h=u.value.row||0;void 0===c[h]?c[h]=1:c[h]++,e.rowLastX[h]=-Number.MAX_SAFE_INTEGER}}catch(e){l.e(e)}finally{l.f()}var f,d=[],p=go(t);try{for(p.s();!(f=p.n()).done;){var g=f.value;if(!(g.end<i)){if(g.start>s)break;var v="COLLAPSED"===this.displayMode?0:g.row,m=a/c[v];e.drawLabel=e.labelAllFeatures||m>10;var y=Math.ceil((g.end-i)/r),b=d[v];if(!b||y>b){this.render.call(this,g,i,r,o,n,e);var w=Math.floor((g.start-i)/r);b&&w-b<=0&&(n.globalAlpha=.5,Vd.strokeLine(n,w,0,w,o,{strokeStyle:"rgb(255, 255, 255)"}),n.globalAlpha=1),d[v]=y}}}}catch(e){p.e(e)}finally{p.f()}}else console.log("No feature list")}},{key:"clickedFeatures",value:function(e,t){var n,r=e.y-this.margin,a=uo(io(i.prototype),"clickedFeatures",this).call(this,e,t);switch(this.displayMode){case"SQUISHED":n=Math.floor(r/this.squishedRowHeight);break;case"EXPANDED":n=Math.floor(r/this.expandedRowHeight);break;default:n=void 0}return a.filter((function(e){return void 0===n||void 0===e.row||n===e.row}))}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n,r=e.genomicLocation,i=[],a=go(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o._f||o,c="function"==typeof s.popupData?s.popupData(r):this.extractPopupData(s);if(c){i.length>0&&i.push("<hr/><hr/>");var u,l=this.infoURL||this.config.infoURL,h=go(c);try{for(h.s();!(u=h.n()).done;){var f=u.value;if(i.push(f),l&&f.name&&"name"===f.name.toLowerCase()&&f.value&&zc(f.value)&&!f.value.startsWith("<")){var d=(this.infoURL||this.config.infoURL).replace("$$",o.name);i.push({name:"Info",value:'<a target="_blank" href='.concat(d,">").concat(f.value,"</a>")})}}}catch(e){h.e(e)}finally{h.f()}var p="gff"===this.config.format||"gff3"===this.config.format||"gtf"===this.config.format;if(s.exons)for(var g=0;g<s.exons.length;g++){var v=s.exons[g];if(r>=v.start&&r<=v.end){var m=p?v.number:"-"===s.strand?s.exons.length-g:g+1;m&&(i.push("<hr/>"),i.push({name:"Exon Number",value:m}));break}}}}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"menuItemList",value:function(){var e=this,t=this,n=[];if(this.render===hC){n.push("<hr/>");for(var r=function(){var t=a[i];n.push({object:Lc(fd("Color by "+t,t===e.colorBy)),click:function(){e.colorBy=t,e.trackView.repaintViews()}})},i=0,a=["function","class"];i<a.length;i++)r()}return n.push("<hr/>"),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(e){n.push({object:Lc(fd({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[e],e===t.displayMode)),click:function(){t.displayMode=e,t.config.displayMode=e,t.trackView.checkContentHeight(),t.trackView.repaintViews()}})})),n}},{key:"contextMenuItemList",value:function(e){var t=this,n=this.clickedFeatures(e);n.length>1&&n.sort((function(e,t){return e.end-e.start-(t.end-t.start)}));var r,i=n[0];return i.end-i.start<=1e6?[{label:"Copy feature sequence",click:(r=Ja(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.browser.genome.getSequence(i.chr,i.start,i.end);case 2:n=e.sent,"-"===i.strand&&(n=tC(n)),navigator.clipboard.writeText(n);case 5:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},"<hr/>"]:void 0}},{key:"description",value:function(){if(hC===this.render){var e="<html>"+this.name+"<hr/>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',e+='<span style="color:black">Black</span>: Indel, Insertion, SNP',e+="</html>"}return this.name}},{key:"dispose",value:function(){this.trackView=void 0}}]),i}(Fw);function pC(e,t,n){var r,i,a,o,s,c,u,l={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function h(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(Vd.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"}),r=(u=.95*t)-8,.01,s={x:i=u,y:a=o=.01*n},Vd.strokeLine(e,r,a,i,o,l),Vd.fillText(e,h(this.dataRange.max),r+4,a+12,l),c={x:i,y:a=o=.99*n},Vd.strokeLine(e,r,a,i,o,l),Vd.fillText(e,h(this.dataRange.min),r+4,a-4,l),Vd.strokeLine(e,s.x,s.y,c.x,c.y,l))}var gC=function(e){ro(a,e);var t,n,r,i=co(a);function a(e,t){return eo(this,a),i.call(this,e,t)}return no(a,[{key:"init",value:function(e){uo(io(a.prototype),"init",this).call(this,e),this.type="wig",this.height=e.height||50,this.featureType="numeric",this.paintAxis=pC;var t=e.format?e.format.toLowerCase():e.format;this.featureSource="bigwig"===t?new DS(e,this.browser.genome):"tdf"===t?new VS(e,this.browser.genome):ZS(e,this.browser.genome),this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max}),this.windowFunction=e.windowFunction||"mean",this.graphType=e.graphType||"bar",this.normalize=e.normalize,this.scaleFactor=e.scaleFactor}},{key:"postInit",value:(r=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:(t=e.sent)&&this.setTrackProperties(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getFeatures",value:(n=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,c,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures({chr:t,start:n,end:r,bpPerPixel:i,windowFunction:this.windowFunction});case 2:if(a=e.sent,this.normalize&&this.featureSource.normalizationFactor){o=this.featureSource.normalizationFactor,s=go(a);try{for(s.s();!(c=s.n()).done;)c.value.value*=o}catch(e){s.e(e)}finally{s.f()}}if(this.scaleFactor){u=this.scaleFactor,l=go(a);try{for(l.s();!(h=l.n()).done;)h.value.value*=u}catch(e){l.e(e)}finally{l.f()}}return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"menuItemList",value:function(){return dd.numericDataMenuItems(this.trackView)}},{key:"getHeader",value:(t=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getHeader){e.next=4;break}return e.next=3,this.featureSource.getHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t,n=this,r=e.features,i=e.context,a=e.bpPerPixel,o=e.bpStart,s=e.pixelWidth,c=e.pixelHeight,u=o+s*a+1,l=-1,h=-1,f=this.color||"rgb(150,150,150)";"string"==typeof f&&f.startsWith("rgb(")&&(t=Nf.addAlpha(f,.1));var d=function(e){return(n.dataRange.max-e)/(n.dataRange.max-n.dataRange.min)*c};if(r&&r.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){var p,g=0==this.dataRange.min?c:d(0),v=go(r);try{for(v.s();!(p=v.n()).done;){var m=p.value;if(!(m.end<o)){if(m.start>u)break;var y=Math.floor((m.start-o)/a);if(!isNaN(y)){var b=d(m.value),w=Math.ceil((m.end-o)/a),x=Math.max(1,w-y),k=m.value<0&&this.altColor?this.altColor:f,_="function"==typeof k?k(m.value):k;if("points"===this.graphType){var S=this.config.pointSize||3,C=y+x/2;Vd.fillCircle(i,C,b,S/2,{fillStyle:_,strokeStyle:_})}else{var E=b-g;Math.abs(E)<1&&(E=E<0?-1:1);var A=y+x;(A>l||m.value>=0&&m.value>h||m.value<0&&m.value<1)&&Vd.fillRect(i,y,g,x,E,{fillStyle:_}),h=m.value,l=A}}}}}catch(e){v.e(e)}finally{v.f()}if(this.dataRange.min<0){var R=this.dataRange.max/(this.dataRange.max-this.dataRange.min)*e.pixelHeight;Vd.strokeLine(i,0,R,e.pixelWidth,R,{strokeStyle:t})}}if(this.config.hasOwnProperty("guideLines")){var T,L=go(this.config.guideLines);try{for(L.s();!(T=L.n()).done;){var M=T.value;if(M.hasOwnProperty("color")&&M.hasOwnProperty("y")&&M.hasOwnProperty("dotted")){var I=d(M.y),O={strokeStyle:M.color,strokeWidth:2};M.dotted?Vd.dashedLine(e.context,0,I,e.pixelWidth,I,5,O):Vd.strokeLine(e.context,0,I,e.pixelWidth,I,O)}}}catch(e){L.e(e)}finally{L.f()}}}},{key:"popupData",value:function(e,t){if((t=this.clickedFeatures(e,t))&&t.length>0){var n=e.genomicLocation,r=[];t.sort((function(e,t){return Math.abs((e.start+e.end)/2-n)-Math.abs((t.start+t.end)/2-n)}));var i=t.length>10?t.slice(0,10):t;i.sort((function(e,t){return e.start-t.start}));var a,o=go(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s){r.length>0&&r.push("<hr/>");var c=s.end-s.start==1?Hc(s.start+1):Hc(s.start+1)+"-"+Hc(s.end);r.push({name:"Position:",value:c}),r.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:Hc(s.value)})}}}catch(e){o.e(e)}finally{o.f()}return i.length<t.length&&r.push("<hr/>..."),r}return[]}},{key:"supportsWholeGenome",value:function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()}},{key:"dispose",value:function(){this.trackView=void 0}}]),a}(Fw);function vC(e){this.thresholds=e.thresholds,this.colors=e.colors}function mC(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}vC.prototype.getColor=function(e){var t,n=go(this.thresholds);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e<r)return this.colors[this.thresholds.indexOf(r)]}}catch(e){n.e(e)}finally{n.f()}return this.colors[this.colors.length-1]},mC.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};var yC=function(){function e(t){eo(this,e),this.color=t}return no(e,[{key:"getColor",value:function(){return this.color}}]),e}(),bC=function(e){ro(a,e);var t,n,r,i=co(a);function a(e,t){return eo(this,a),i.call(this,e,t)}return no(a,[{key:"init",value:function(e){if(uo(io(a.prototype),"init",this).call(this,e),this.type=e.type||"seg","maf"===this.type&&(this.type="mut"),this.isLog=e.isLog,this.displayMode=e.displayMode||"EXPANDED",this.height=e.height||300,this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||13,this.sampleHeight=this.squishedRowHeight,e.color?this.color=e.color:(this.posColorScale=e.posColorScale||new mC({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new mC({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),"mut"===this.type&&(this.colorTable=new hy(e.colorTable||wC))),this.sampleKeys=[],this.sampleNames=new Map,e.samples){var t,n=go(e.samples);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.sampleKeys.push(r),this.sampleNames.set(r,r)}}catch(e){n.e(e)}finally{n.f()}this.explicitSamples=!0}this.featureSource=ZS(this.config,this.browser.genome),this.initialSort=e.sort}},{key:"postInit",value:(r=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getHeader){e.next=4;break}return e.next=3,this.featureSource.getHeader();case 3:this.header=e.sent;case 4:this.header&&this.setTrackProperties(this.header);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"menuItemList",value:function(){var e=this,t=[],n={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};t.push("<hr/>"),t.push("DisplayMode:");for(var r="seg"===this.type?["SQUISHED","EXPANDED","FILL"]:["SQUISHED","EXPANDED"],i=function(){var r=o[a],i=fd(n[r],r===e.displayMode);t.push({object:Lc(i),click:function(){e.displayMode=r,e.config.displayMode=r,e.trackView.checkContentHeight(),e.trackView.repaintViews(),e.trackView.moveScroller(e.trackView.sampleNameViewport.trackScrollDelta)}})},a=0,o=r;a<o.length;a++)i();return t}},{key:"hasSamples",value:function(){return!0}},{key:"getSamples",value:function(){var e=this;return{names:this.sampleKeys.map((function(t){return e.sampleNames.get(t)})),height:this.sampleHeight,yOffset:0}}},{key:"getFeatures",value:(n=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures({chr:t,start:n,end:r});case 2:return i=e.sent,this.initialSort&&(a=this.initialSort,this.sortSamples(a.chr,a.start,a.end,a.direction,i),this.initialSort=void 0),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context;e.renderSVG;var n=e.pixelTop,r=e.pixelWidth,i=e.pixelHeight,a=e.features,o=e.bpPerPixel,s=e.bpStart;if(Vd.fillRect(t,0,0,r,i,{fillStyle:"rgb(255, 255, 255)"}),a&&a.length>0){this.checkForLog(a),this.updateSampleKeys(a);var c,u={};switch(this.sampleKeys.forEach((function(e,t){u[e]=t})),this.displayMode){case"FILL":this.sampleHeight=i/this.sampleKeys.length,c=0;break;case"SQUISHED":this.sampleHeight=this.squishedRowHeight,c=0;break;default:this.sampleHeight=this.expandedRowHeight,c=1}var l,h=this.sampleHeight,f=go(a);try{for(f.s();!(l=f.n()).done;){l.value.pixelRect=void 0}}catch(e){f.e(e)}finally{f.f()}var d=n+i,p=s+r*o+1,g=o;this.sampleYStart=void 0;var v,m=go(a);try{for(m.s();!(v=m.n()).done;){var y=v.value;if(!(y.end<s)){if(y.start>p)break;var b=y.sampleKey||y.sample;y.row=u[b];var w=y.row*h+c;if(void 0===this.sampleYStart&&(this.sampleYStart=w),!(w+h<n||w>d)){var x=Math.max(y.start,s),k=Math.round((x-s)/g),_=Math.min(y.end,p),S=Math.round((_-s)/g),C=Math.max(1,S-k),E=void 0;this.color?E="function"==typeof this.color?this.color(y):this.color:this.colorTable&&(E=this.colorTable.getColor(y.value.toLowerCase()));var A=void 0;if("mut"===this.type)A=h-2*c,C<3&&(C=3,k-=1);else{var R=y.value;this.isLog||(R=If(R/2)),E=R<-.1?this.negColorScale.getColor(R):R>.1?this.posColorScale.getColor(R):"white";var T=h;if(h<.25){var L=.1+2*Math.abs(R);T=Math.min(1,L*h)}A=T-2*c}y.pixelRect={x:k,y:w,w:C,h:A},t.fillStyle=E,t.fillRect(k,w,C,A)}}}}catch(e){m.e(e)}finally{m.f()}}}},{key:"checkForLog",value:function(e){if(void 0===this.isLog){this.isLog=!1;var t,n=go(e);try{for(n.s();!(t=n.n()).done;){if(t.value.value<0)return void(this.isLog=!0)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"computePixelHeight",value:function(e){if(!e)return 0;var t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t}},{key:"sortSamples",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i,a){var o,s,c,u,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=4;break}return e.next=3,this.featureSource.getFeatures({chr:t,start:n,end:r});case 3:a=e.sent;case 4:if(a){e.next=6;break}return e.abrupt("return");case 6:this.updateSampleKeys(a),o={},s="ASC"===i?1:-1,c=function(){var e,t=r-n+1,i=go(a);try{for(i.s();!(e=i.n()).done;){var c=e.value;if(!(c.end<n)){if(c.start>r)break;var u=Math.max(n,c.start),h=(Math.min(r,c.end)-u)/t,f=c.sampleKey||c.sample,d=o[f]||0;o[f]=d+h*c.value}}}catch(e){i.e(e)}finally{i.f()}l.sampleKeys.sort((function(e,t){var n=o[e],r=o[t];return n||(n=s*Number.MAX_VALUE),r||(r=s*Number.MAX_VALUE),n===r?0:n>r?s:-1*s}))},u=function(){var e,t=go(a);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(!(i.end<n)){if(i.start>r)break;var c=i.sampleKey||i.sample;(!o.hasOwnProperty(c)||i.value.localeCompare(o[c])>0)&&(o[c]=i.value)}}}catch(e){t.e(e)}finally{t.f()}l.sampleKeys.sort((function(e,t){var n=o[e]||"",r=o[t]||"";return s*n.localeCompare(r)}))},"mut"===this.type?u():c(),this.trackView.repaintViews();case 13:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,a){return t.apply(this,arguments)})},{key:"clickedFeatures",value:function(e,t){var n=uo(io(a.prototype),"clickedFeatures",this).call(this,e,t),r=e.y;return n.filter((function(e){var t=e.pixelRect;return t&&r>=t.y&&r<=t.y+t.h}))}},{key:"popupData",value:function(e,t){var n,r=[],i=go(this.clickedFeatures(e));try{for(i.s();!(n=i.n()).done;){var a=n.value;r.length>0&&(r.push("<hr/>"),r.push("<hr/>"));var o=a._f||a,s="function"==typeof o.popupData?o.popupData():this.extractPopupData(o);Array.prototype.push.apply(r,s)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"contextMenuItemList",value:function(e){var t=this,n=e.viewport.referenceFrame,r=e.genomicLocation,i=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",a=n.toBP(2.5);return[{label:"seg"===this.type?"Sort by value":"Sort by type",click:function(n){var o={direction:i,chr:e.viewport.referenceFrame.chr,start:r-a,end:r+a};!function(n){var r=e.viewport.getCachedFeatures();t.sortSamples(n.chr,n.start,n.end,n.direction,r)}(o),t.config.sort=o}}]}},{key:"supportsWholeGenome",value:function(){return(!1===this.config.indexed||!this.config.indexURL)&&!1!==this.config.supportsWholeGenome}},{key:"updateSampleKeys",value:function(e){if(!this.explicitSamples){var t,n=go(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sampleKey||r.sample;this.sampleNames.has(i)||(this.sampleNames.set(i,r.sample),this.sampleKeys.push(i))}}catch(e){n.e(e)}finally{n.f()}}}}]),a}(Fw),wC={indel:"rgb(0,200,0)","targeted region":"rgb(236,155,43)",truncating:"rgb(\t150,0,0)","non-coding transcript":"rgb(0,0,150)",synonymous:"rgb(109,165,95)",silent:"rgb(109,135,80)",missense_mutation:"rgb(72,130,187)",missense:"rgb(72,130,187)","splice site":"rgb(143,83,155)",splice_region:"rgb(143,83,155)",nonsense:"rgb(216, 57,81)",nonsense_mutation:"rgb(216, 57,81)",frame_shift_del:"rgb(226,135,65)",frame_shift_ins:"rgb(226,135,65)",in_frame_del:"rgb(247,235,94)",in_frame_ins:"rgb(247,235,94)","*other*":"rgb(159,91,50)"},xC=Xt.every,kC=Pi("every"),_C=en("every");Oe({target:"Array",proto:!0,forced:!kC||!_C},{every:function(e){return xC(this,e,arguments.length>1?arguments[1]:void 0)}});var SC=function(e){ro(i,e);var t,n,r=co(i);function i(e,t){return eo(this,i),r.call(this,e,t)}return no(i,[{key:"init",value:function(e){if(!e.tracks)throw Error("Error: no tracks defined for merged track"+e);uo(io(i.prototype),"init",this).call(this,e)}},{key:"postInit",value:(n=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tracks=[],t=[],n=go(this.config.tracks),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=15;break}return(i=r.value).isMergedTrack=!0,e.next=10,this.browser.createTrack(i);case 10:(a=e.sent)?(a.autoscale=!1,this.tracks.push(a)):console.warn("Could not create track "+i),"function"==typeof a.postInit&&t.push(a.postInit());case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return this.height=this.config.height||100,e.abrupt("return",Promise.all(t));case 25:case"end":return e.stop()}}),e,this,[[3,17,20,23]])}))),function(){return n.apply(this,arguments)})},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.tracks.map((function(e){return e.getFeatures(t,n,r,i)})),e.abrupt("return",Promise.all(a));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t,n,r,i,a;for(r=e.features,a=function(e,t){var n=0,r=-Number.MAX_VALUE;return t.forEach((function(e,t){e.forEach((function(e){void 0===e.value||Number.isNaN(e.value)||(n=Math.min(n,e.value),r=Math.max(r,e.value))}))})),{min:n,max:r}}(e.referenceFrame.chr,r),t=0,n=this.tracks.length;t<n;t++)(i=Object.assign({},e)).features=r[t],this.tracks[t].dataRange=a,this.tracks[t].draw(i)}},{key:"paintAxis",value:function(e,t,n){var r,i,a;for(!0,r=0,i=this.tracks.length;r<i;r++)if("function"==typeof(a=this.tracks[r]).paintAxis){a.paintAxis(e,t,n);break}}},{key:"popupData",value:function(e,t){var n=t||e.viewport.getCachedFeatures();if(n&&n.length===this.tracks.length){for(var r=[],i=0;i<this.tracks.length;i++){i>0&&r.push("<hr/>"),r.push("<div style=background-color:#f7f8fa;border-bottom-style:dashed;border-bottom-width:1px;margin-bottom:5px;margin-top:5px;font-size:medium><b>".concat(this.tracks[i].name,"</b></div>"));var a=this.tracks[i].popupData(e);r.push.apply(r,ho(a))}return r}}},{key:"supportsWholeGenome",value:function(){return this.tracks.every((function(e){return e.supportsWholeGenome()}))}},{key:"height",get:function(){return this._height},set:function(e){if(this._height=e,this.tracks){var t,n=go(this.tracks);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.height=e,r.config.height=e}}catch(e){n.e(e)}finally{n.f()}}}}]),i}(Fw);var CC=function(){function e(t){eo(this,e),this.paired=!0,this.firstAlignment=t,this.chr=t.chr,this.readName=t.readName,t.start<t.mate.position?(this.start=t.start,this.scStart=t.scStart,this.connectingStart=t.start+t.lengthOnRef,this.connectingEnd=t.mate.position):(this.start=t.mate.position,this.scStart=this.start,this.connectingStart=t.mate.position,this.connectingEnd=t.start),this.end=Math.max(t.mate.position,t.start+t.lengthOnRef),this.lengthOnRef=this.end-this.start;var n=Math.max(this.end,t.scStart+t.scLengthOnRef);this.scLengthOnRef=n-this.scStart}return no(e,[{key:"setSecondAlignment",value:function(e){this.secondAlignment=e;var t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);var n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart}},{key:"containsLocation",value:function(e,t){var n=t?this.scStart:this.start,r=t?this.scLengthOnRef:this.lengthOnRef;return e>=n&&e<=n+r}},{key:"alignmentContaining",value:function(e,t){return this.firstAlignment.containsLocation(e,t)?this.firstAlignment:this.secondAlignment&&this.secondAlignment.containsLocation(e,t)?this.secondAlignment:void 0}},{key:"popupData",value:function(e){var t=this.firstAlignment.popupData(e);return this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t}},{key:"isPaired",value:function(){return!0}},{key:"firstOfPairStrand",value:function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand}}]),e}(),EC=zc,AC=function(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)},RC=function(){function e(){eo(this,e),this.alignments=[],this.score=void 0}return no(e,[{key:"findAlignment",value:function(e){for(var t,n=function(e,t){return t>=e.start&&t<e.start+e.lengthOnRef},r=0;r<this.alignments.length;r++){var i=this.alignments[r];if(e>=i.start&&e<i.start+i.lengthOnRef){i.paired?i.firstAlignment&&n(i.firstAlignment,e)?t=i.firstAlignment:i.secondAlignment&&n(i.secondAlignment,e)&&(t=i.secondAlignment):t=i;break}}return t}},{key:"updateScore",value:function(e,t){this.score=this.calculateScore(e,t)}},{key:"calculateScore",value:function(e,t){var n=e.position,r=e.option,i=e.direction,a=e.tag;r||(r="BASE");var o,s=this.findAlignment(n);if(void 0===s)return Number.MAX_VALUE*(i?1:-1);switch(r){case"NUCLEOTIDE":case"BASE":return function(e,t,n){var r,i=Math.floor(n)-t.start;i<t.sequence.length&&(r=t.sequence.charAt(i));if(!r)return 0;var a=e.readBaseAt(n),o=e.readBaseQualityAt(n),s=t.coverageMap,c=Math.floor(n-s.bpStart),u=s.coverage[c],l=0;if(e.insertions){var h,f=go(e.insertions);try{for(f.s();!(h=f.n()).done;){h.value.start===n&&(l=-u.ins)}}catch(e){f.e(e)}finally{f.f()}}if(a)if(r=r.toUpperCase(),"N"===a&&0===l)l=2;else if(r!==a&&"="!==a||0!==l){if("X"===a||r!==a){l-=u["pos"+a]+u["neg"+a]+o/1e3}}else l=4-o/1e3;else{var d=u.del;d>0?l-=d:0===l&&(l=1)}return l}(s,t,n);case"STRAND":return s.strand?1:-1;case"START":return s.start;case"TAG":var c=s.tags()[a];return void 0!==c?EC(c)?AC(c):c:Number.MAX_VALUE;case"READ_NAME":return AC(s.readName);case"INSERT_SIZE":return-Math.abs(s.fragmentLength);case"GAP_SIZE":return-s.gapSizeAt(n);case"MATE_CHR":return(o=s.mate)?o.chr===s.chr?Number.MAX_VALUE-1:AC(o.chr):Number.MAX_VALUE;case"MQ":return void 0===s.mq?Number.MAX_VALUE:-s.mq;default:return Number.MAX_VALUE}}}]),e}();function TC(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function LC(e){var t,n=[],r=go(e);try{for(r.s();!(t=r.n()).done;){var i,a=go(t.value.alignments);try{for(a.s();!(i=a.n()).done;){var o=i.value;o instanceof CC?(o.firstAlignment&&n.push(o.firstAlignment),o.secondAlignment&&n.push(o.secondAlignment)):n.push(o)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return n}function MC(e,t,n,r){if(e){if(0===e.length)return[];e.sort((function(e,t){return r?e.scStart-t.scStart:e.start-t.start}));var i,a=e[0],o=Math.max(t,r?a.scStart:a.start),s=o,c=[],u=go(e);try{for(u.s();!(i=u.n()).done;){var l=i.value,h=r?l.scStart:l.start,f=Math.max(0,h-o);void 0===c[f]&&(c[f]=[]),c[f].push(l)}}catch(e){u.e(e)}finally{u.f()}var d=0,p=0,g=[];try{for(;d<e.length;){for(var v=new RC;s<=n;){for(var m=void 0,y=void 0;!m&&s<=n;)void 0===c[y=s-o]?++s:m=c[y];if(!m)break;var b=m.pop();0===m.length&&(c[y]=void 0),v.alignments.push(b),s=r?b.scStart+b.scLengthOnRef+2:b.start+b.lengthOnRef+2,++d}if(v.alignments.length>0&&g.push(v),s=o,d===p)break;p=d}}catch(e){throw console.error(e),e}return g}}var IC=function(){function e(t,n,r,i,a,o,s){eo(this,e),this.chr=t,this.start=Math.floor(n),this.end=Math.ceil(r),this.length=r-n,this.alleleFreqThreshold=void 0===s?.2:s,this.coverageMap=new PC(t,n,r,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===i?100:i,this.samplingDepth=void 0===a?1e3:a,this.pairsSupported=void 0===o||o,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new OC(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new DC}return no(e,[{key:"push",value:function(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(this.finishBucket(),this.currentBucket=new OC(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))}},{key:"forEach",value:function(e){this.alignments.forEach(e)}},{key:"finish",value:function(){void 0!==this.currentBucket&&this.finishBucket(),this.alignments.sort((function(e,t){return e.start-t.start})),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()}},{key:"contains",value:function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n}},{key:"hasDownsampledIntervals",value:function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0}},{key:"finishBucket",value:function(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new FC(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}},{key:"setViewAsPairs",value:function(e){var t;t=e?function(e){var t,n={},r=[],i=go(e);try{for(i.s();!(t=i.n()).done;){var a,o=go(t.value.alignments);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(TC(s)){var c=n[s.readName];c?(c.setSecondAlignment(s),n[s.readName]=void 0):(c=new CC(s),n[s.readName]=c,r.push(c))}else r.push(s)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}return r}(this.packedAlignmentRows):LC(this.packedAlignmentRows),this.packedAlignmentRows=MC(t,this.start,this.end)}},{key:"setShowSoftClips",value:function(e){var t=this.allAlignments();this.packedAlignmentRows=MC(t,this.start,this.end,e)}},{key:"allAlignments",value:function(){var e,t=[],n=go(this.packedAlignmentRows);try{for(n.s();!(e=n.n()).done;){var r,i=go(e.value.alignments);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.push(a)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getMax",value:function(e,t){return this.coverageMap.getMax(e,t)}}]),e}(),OC=function(){function e(t,n,r){eo(this,e),this.start=t,this.end=n,this.alignments=[],this.downsampledCount=0,this.samplingDepth=r.samplingDepth,this.pairsSupported=r.pairsSupported,this.downsampledReads=r.downsampledReads,this.pairsCache=r.pairsCache}return no(e,[{key:"addAlignment",value:function(e){var t,n,r;if(this.pairsSupported&&TC(e)&&(r=this.pairsCache[e.readName]))return r.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&TC(e)?(r=new CC(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments.push(r)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(n=this.alignments[t],this.pairsSupported&&TC(e)?(void 0!==this.pairsCache[n.readName]&&(this.pairsCache[n.readName]=void 0),r=new CC(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments[t]=r):this.alignments[t]=e,this.downsampledReads.add(n.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)}}]),e}(),PC=function(){function e(t,n,r,i){eo(this,e),this.chr=t,this.bpStart=n,this.length=r-n,this.coverage=new Array(this.length),this.maximum=0,this.threshold=i,this.qualityWeight=!0}return no(e,[{key:"getMax",value:function(e,t){for(var n=0,r=this.coverage.length,i=0;i<r;i++){var a=this.bpStart+i;if(a>t)break;var o=this.coverage[i];a>=e&&o&&(n=Math.max(n,o.total))}return n}},{key:"incCounts",value:function(e){var t=this;if(void 0===e.blocks?l(e):e.blocks.forEach((function(e){l(e)})),e.gaps){var n,r=go(e.gaps);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("D"===i.type)for(var a=i.start-t.bpStart,o=a;o<a+i.len;o++)o<0||(this.coverage[o]||(this.coverage[o]=new NC(t.threshold)),this.coverage[o].del++)}}catch(e){r.e(e)}finally{r.f()}}if(e.insertions){var s,c=go(e.insertions);try{for(c.s();!(s=c.n()).done;){var u=s.value.start-this.bpStart;u<0||(this.coverage[u]||(this.coverage[u]=new NC(t.threshold)),this.coverage[u].ins++)}}catch(e){c.e(e)}finally{c.f()}}function l(n){if("S"!==n.type)for(var r=e.seq,i=e.qual,a=n.seqOffset,o=n.start-t.bpStart,s=0;s<n.len;o++,s++){t.coverage[o]||(t.coverage[o]=new NC(t.threshold));var c=null==r?"N":r.charAt(a+s),u=e.strand?"pos"+c:"neg"+c,l=i&&a+s<i.length?i[a+s]:30;t.coverage[o][u]+=1,t.coverage[o]["qual"+c]+=l,t.coverage[o].total+=1,t.coverage[o].qual+=l,t.maximum=Math.max(t.coverage[o].total,t.maximum)}}}}]),e}(),NC=function(){function e(t){eo(this,e),this.qualityWeight=!0,this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=t}return no(e,[{key:"isMismatch",value:function(e){for(var t=this.threshold*(this.qualityWeight&&this.qual?this.qual:this.total),n=0,r=0,i=["A","T","C","G"];r<i.length;r++){var a=i[r];a!==e&&(n+=this.qualityWeight&&this.qual?this["qual"+a]:this["pos"+a]+this["neg"+a])}return n>=t}}]),e}(),FC=function(){function e(t,n,r){eo(this,e),this.start=t,this.end=n,this.counts=r}return no(e,[{key:"popupData",value:function(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]}}]),e}(),DC=function(){function e(t,n){eo(this,e),this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}return no(e,[{key:"push",value:function(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}}},{key:"compute",value:function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}}}]),e}(),BC={c:1,C:1,s:2,S:2,i:4,I:4,f:4},zC=function(){function e(){eo(this,e),this.hidden=!1}return no(e,[{key:"isMapped",value:function(){return 0==(4&this.flags)}},{key:"isPaired",value:function(){return 0!=(1&this.flags)}},{key:"isProperPair",value:function(){return 0!=(2&this.flags)}},{key:"isFirstOfPair",value:function(){return 0!=(64&this.flags)}},{key:"isSecondOfPair",value:function(){return 0!=(128&this.flags)}},{key:"isSecondary",value:function(){return 0!=(256&this.flags)}},{key:"isSupplementary",value:function(){return 0!=(2048&this.flags)}},{key:"isFailsVendorQualityCheck",value:function(){return 0!=(512&this.flags)}},{key:"isDuplicate",value:function(){return 0!=(1024&this.flags)}},{key:"isMateMapped",value:function(){return 0==(8&this.flags)}},{key:"isNegativeStrand",value:function(){return 0!=(16&this.flags)}},{key:"isMateNegativeStrand",value:function(){return 0!=(32&this.flags)}},{key:"tags",value:function(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){var t=0,n=e.length,r={};for(;t<n;){var i=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]);t+=2;var a=String.fromCharCode(e[t++]),o=void 0;if("A"===a)o=String.fromCharCode(e[t]),t++;else if("i"===a||"I"===a)o=jC(e,t),t+=4;else if("c"===a)o=qC(e,t),t++;else if("C"===a)o=WC(e,t),t++;else if("s"===a||"S"===a)o=VC(e,t),t+=2;else if("f"===a)o=UC(e,t),t+=4;else if("Z"===a)for(o="";;){var s=e[t++];if(0===s)break;o+=String.fromCharCode(s)}else{if("B"!==a){o="Error unknown type: "+a,r[i]=o;break}var c=String.fromCharCode(e[t++]),u=BC[c];if(void 0===u){r[i]="Error: unknown element type '".concat(c,"'");break}t+=4+jC(e,t)*u,o="[not shown]"}r[i]=o}return r}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict}},{key:"containsLocation",value:function(e,t){var n=t?this.scStart:this.start,r=t?this.scLengthOnRef:this.lengthOnRef;return e>=n&&e<=n+r}},{key:"popupData",value:function(e){var t=[];if(e=Math.floor(e),this.insertions){var n,r=this.seq,i=go(this.insertions);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.start;if(e===o||e===o-1)return t.push({name:"Insertion",value:r.substr(a.seqOffset,a.len)}),t.push({name:"Location",value:o}),t}}catch(e){i.e(e)}finally{i.f()}}t.push({name:"Read Name",value:this.readName}),t.push("<hr/>"),t.push({name:"Alignment Start",value:Hc(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),t.push({name:"Cigar",value:this.cigar}),t.push({name:"Mapped",value:l(this.isMapped())}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:l(this.isSecondary())}),t.push({name:"Supplementary",value:l(this.isSupplementary())}),t.push({name:"Duplicate",value:l(this.isDuplicate())}),t.push({name:"Failed QC",value:l(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr/>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:l(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength}))),t.push("<hr/>");var s=this.tags(),c=!0;for(var u in s)s.hasOwnProperty(u)&&(c?(t.push({name:u,value:s[u],borderTop:!0}),c=!1):t.push({name:u,value:s[u]}));return t.push("<hr/>"),t.push({name:"Genomic Location: ",value:Hc(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function l(e){return e?"Yes":"No"}}},{key:"readBaseAt",value:function(e){var t=HC(this.blocks,e);if(t){if("*"===this.seq)return"*";var n=t.seqIndexAt(e);return this.seq[n]}}},{key:"readBaseQualityAt",value:function(e){var t=HC(this.blocks,e);if(t){if("*"===this.qual)return 30;var n=t.seqIndexAt(e);return n>=0&&this.qual&&n<this.qual.length?this.qual[n]:30}}},{key:"gapSizeAt",value:function(e){if(this.gaps){var t,n=go(this.gaps);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e>=r.start&&e<r.start+r.len)return r.len}}catch(e){n.e(e)}finally{n.f()}}return 0}}]),e}();function HC(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t>=r.start&&t<r.start+r.len)return r}}function jC(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function VC(e,t){return e[t+1]<<8|e[t]}function UC(e,t){return new DataView(e.buffer).getFloat32(t)}function qC(e,t){return new DataView(e.buffer).getInt8(t)}function WC(e,t){return new DataView(e.buffer).getUint8(t)}var GC=function(){function e(t){eo(this,e),t&&Object.assign(this,t)}return no(e,[{key:"seqIndexAt",value:function(e){return Math.floor(e)-this.start+this.seqOffset}}]),e}(),$C=function(){function e(t){eo(this,e),t||(t={}),this.vendorFailed=void 0===t.vendorFailed||t.vendorFailed,this.duplicates=void 0===t.duplicates||t.duplicates,this.secondary=t.secondary||!1,this.supplementary=t.supplementary||!1,this.mqThreshold=void 0===t.mqThreshold?0:t.mqThreshold,t.readgroups&&(this.readgroups=new Set(t.readgroups))}return no(e,[{key:"pass",value:function(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0}}]),e}(),ZC=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],YC=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],XC=eE(new Uint8Array([66,65,77,1]),0),KC=1e4,QC={readHeader:function(e,t,n){return $f.loadArrayBuffer(e,t).then((function(e){var t;return t=Sf(e),QC.decodeBamHeader(t,n)}))},decodeBamHeader:function(e,t){var n,r,i,a,o;if((n=eE(e,0))!==XC)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");r=eE(e,4);for(var s=0;s<r;++s)String.fromCharCode(e[s+8]);var c=eE(e,r+8),u=r+12;for(i={},a=[],o={},s=0;s<c;++s){for(var l=eE(e,u),h="",f=0;f<l-1;++f)h+=String.fromCharCode(e[u+4+f]);eE(e,u+l+4),i[h]=s,a[s]=h,t&&(o[t.getChromosomeName(h)]=h),u=u+8+l}return{magicNumber:n,size:u,chrNames:a,chrToIndex:i,chrAliasTable:o}},bam_tag2cigar:function(e,t,n,r,i,a){function o(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==a.length||i.start<0)return!1;for(var s=n+(r+1>>1)+r;s+4<t;){if("CG"===String.fromCharCode(e[s])+String.fromCharCode(e[s+1]))break;var c=String.fromCharCode(e[s+2]);if("B"===c)s+=8+o(c=String.fromCharCode(e[s+3]))*eE(e,s+4);else if("Z"===c||"H"===c)for(s+=3;0!==e[s++];);else s+=3+o(c)}if(s>=t)return!1;if("B"!==String.fromCharCode(e[s+2])||"I"!==String.fromCharCode(e[s+3]))return!1;var u=eE(e,s+4),l=s+8;if(l+4*u>t)return!1;var h="",f=0;a.length=0,s=l;for(var d=0;d<u;++d,s+=4){var p=eE(e,s),g=p>>4,v=YC[15&p];"M"!==v&&"EQ"!==v&&"X"!==v&&"D"!==v&&"N"!==v&&"="!==v||(f+=g),h=h+g+v,a.push({len:g,ltr:v})}return i.cigar=h,i.lengthOnRef=f,!0},decodeBamRecords:function(e,t,n,r,i,a,o,s){for(;t<e.length;){var c=t+eE(e,t)+4,u=new zC,l=eE(e,t+4),h=eE(e,t+8);if(c>e.length)return;if(l<0)t=c;else{if(void 0!==i&&(l>i||h>o))return!0;if(void 0!==i&&l<i)t=c;else{for(var f=eE(e,t+12),d=(65280&f)>>8,p=255&f,g=eE(e,t+16),v=(4294901760&g)>>16,m=65535&g,y=eE(e,t+20),b=eE(e,t+24),w=eE(e,t+28),x=eE(e,t+32),k=[],_=0;_<p-1;++_)k.push(String.fromCharCode(e[t+36+_]));k=k.join("");for(var S=0,C="",E=t+36+p,A=[],R=void 0,T=0;T<m;++T){var L=eE(e,E),M=L>>4,I=YC[15&L];"M"!==I&&"EQ"!==I&&"X"!==I&&"D"!==I&&"N"!==I&&"="!==I||(S+=M),C=C+M+I,E+=4,R={len:M,ltr:I},A.push(R)}if(u.chr=r[l],u.start=h,u.flags=v,u.strand=!(16&v),u.readName=k,u.cigar=C,u.lengthOnRef=S,u.fragmentLength=x,u.mq=d,QC.bam_tag2cigar(e,c,E,y,u,A),u.end=u.start+u.lengthOnRef,u.end<a)t=c;else{for(var O=[],P=y+1>>1,N=0;N<P;++N){var F=e[E+N];O.push(ZC[(240&F)>>4]),O.push(ZC[15&F])}O=O.slice(0,y).join(""),E+=P;for(var D=[],B=0;B<y;++B)D.push(e[E+B]);E+=y,b>=0&&(u.mate={chr:r[b],position:w,strand:!(32&v)}),u.seq=O,u.qual=D,u.tagBA=new Uint8Array(e.buffer.slice(E,c)),this.setPairOrientation(u),(void 0===s||s.pass(u))&&(JC(u,A),n.push(u)),t=c}}}}},decodeSamRecords:function(e,t,n,r,i,a){var o,s,c,u,l,h,f,d,p,g;for(u=(o=jc(e)).length,!1,s=0;s<u;s++)if(l=o[s].split("\t"),(p=new zC).chr=l[2],p.start=Number.parseInt(l[3])-1,p.flags=Number.parseInt(l[1]),p.readName=l[0],p.strand=!(16&p.flags),p.mq=Number.parseInt(l[4]),p.cigar=l[5],p.fragmentLength=Number.parseInt(l[8]),p.seq=l[9],"*"!==p.chr&&p.isMapped()&&p.chr===n){if(p.start>i)break;if(d=0,(g=tE(p.cigar)).forEach((function(e){var t=e.len,n=e.ltr;"M"!==n&&"EQ"!==n&&"X"!==n&&"D"!==n&&"N"!==n&&"="!==n||(d+=t)})),p.lengthOnRef=d,!(p.start+d<r)){for(h=l[10],p.qual=[],c=0;c<h.length;c++)p.qual[c]=h.charCodeAt(c)-33;p.tagDict=l.length<11?{}:nE(l.slice(11)),p.isMateMapped()&&(f=l[6],p.mate={chr:"="===f?p.chr:f,position:Number.parseInt(l[7]),strand:!(32&p.flags)}),this.setPairOrientation(p),(void 0===a||a.pass(p))&&(JC(p,g),t.push(p))}}},setReaderDefaults:function(e,t){e.filter=new $C(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>KC&&(console.log("Warning: attempt to set sampling depth > maximum value of 10000"),e.samplingDepth=KC),t.viewAsPairs?e.pairsSupported=!0:e.pairsSupported=void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,r=n.strand?"F":"R",i=" ",a=" ";e.isFirstOfPair()?(i="1",a="2"):e.isSecondOfPair()&&(i="2",a="1");var o=[],s=e.fragmentLength,c=e.end-e.start;if(0===s)s=(e.start<n.position?n.position+c:n.position-c)-e.start;s>0?(o[0]=t,o[1]=i,o[2]=r,o[3]=a):(o[2]=t,o[3]=i,o[0]=r,o[1]=a),e.pairOrientation=o.join("")}}};function JC(e,t){var n,r,i=[],a=0,o=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;var s,c=go(t);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=void 0;switch(u.ltr){case"H":case"P":break;case"S":l=o,e.scLengthOnRef+=u.len,0===i.length&&(e.scStart-=u.len,l-=u.len),i.push(new GC({start:l,seqOffset:a,len:u.len,type:"S"})),a+=u.len;break;case"N":case"D":void 0===r&&(r=[]),r.push({start:o,len:u.len,type:u.ltr}),o+=u.len;break;case"I":void 0===n&&(n=[]),n.push(new GC({start:o,len:u.len,seqOffset:a,type:"I"})),a+=u.len;break;case"M":case"EQ":case"=":case"X":i.push(new GC({start:o,seqOffset:a,len:u.len,type:"M"})),a+=u.len,o+=u.len;break;default:console.log("Error processing cigar element: "+u.len+u.ltr)}}}catch(e){c.e(e)}finally{c.f()}e.blocks=i,e.insertions=n,e.gaps=r}function eE(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function tE(e){var t,n,r,i,a,o,s,c,u;for(t=[],n=[],a=null,i=e.length,r=0;r<i;r++)o=e.charAt(r),u=void 0,(u=o.charCodeAt(0))>=48&&u<=57?n.push(o):(s=o,c=Number.parseInt(n.join("")),n=[],null!==a&&a.ltr===s?a.len+=c:(a={len:c,ltr:s},t.push(a)));return t}function nE(e){var t={};return e.forEach((function(e){var n=e.split(":");t[n[0]]=n[2]})),t}var rE=function(){function e(t,n){eo(this,e),this.config=t,this.genome=n,this.bamPath=t.url,this.isDataUri=bb(t.url),QC.setReaderDefaults(this,t)}var t;return no(e,[{key:"readAlignments",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.alignmentCache){e.next=11;break}i=this.header,a=i.chrAliasTable.hasOwnProperty(t)?i.chrAliasTable[t]:t,o=this.alignmentCache.queryFeatures(a,n,r),s=new IC(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),c=go(o);try{for(c.s();!(u=c.n()).done;)l=u.value,s.push(l)}catch(e){c.e(e)}finally{c.f()}return s.finish(),e.abrupt("return",s);case 11:if(!this.isDataUri){e.next=18;break}return h=iE(this.bamPath),f=Sf(h.buffer),this.parseAlignments(f),e.abrupt("return",this.fetchAlignments(t,n,r));case 18:return e.next=20,$f.loadArrayBuffer(this.bamPath,db(this.config));case 20:return d=e.sent,p=Sf(d),this.parseAlignments(p),e.abrupt("return",this.fetchAlignments(t,n,r));case 24:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"parseAlignments",value:function(e){var t=[];this.header=QC.decodeBamHeader(e),QC.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new cd(t,this.genome)}},{key:"fetchAlignments",value:function(e,t,n){var r,i=this.header.chrAliasTable.hasOwnProperty(e)?this.header.chrAliasTable[e]:e,a=this.alignmentCache.queryFeatures(i,t,n),o=new IC(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported),s=go(a);try{for(s.s();!(r=s.n()).done;){var c=r.value;o.push(c)}}catch(e){s.e(e)}finally{s.f()}return o.finish(),o}}]),e}();function iE(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}var aE=function(){function e(t,n){eo(this,e),this.config=t,this.genome=n,this.bamPath=t.url,this.baiPath=t.indexURL,QC.setReaderDefaults(this,t)}var t,n,r,i;return no(e,[{key:"readAlignments",value:(i=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChrIndex();case 2:if(i=e.sent,a=this.chrAliasTable.hasOwnProperty(t)?this.chrAliasTable[t]:t,o=i[a],s=new IC(t,n,r,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold),void 0!==o){e.next=10;break}return e.abrupt("return",s);case 10:return e.next=12,this.getIndex();case 12:if(c=e.sent,(u=c.blocksForRange(o,n,r))&&0!==u.length){e.next=16;break}return e.abrupt("return",s);case 16:l=go(u),e.prev=18,l.s();case 20:if((h=l.n()).done){e.next=45;break}if(f=h.value,d=void 0,0!==f.maxv.offset){e.next=27;break}d=0,e.next=32;break;case 27:return p=db(this.config,{range:{start:f.maxv.block,size:26}}),e.next=30,$f.loadArrayBuffer(this.bamPath,p);case 30:g=e.sent,d=Cf(g);case 32:return v=f.minv.block,m=f.maxv.block+d,y={start:v,size:m-v+1},e.next=37,$f.loadArrayBuffer(this.bamPath,db(this.config,{range:y}));case 37:if(b=e.sent,w=Sf(b),!QC.decodeBamRecords(w,f.minv.offset,s,this.indexToChr,o,n,r,this.filter)){e.next=42;break}return e.abrupt("break",45);case 42:case 43:e.next=20;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(18),l.e(e.t0);case 50:return e.prev=50,l.f(),e.finish(50);case 53:return s.finish(),e.abrupt("return",s);case 55:case"end":return e.stop()}}),e,this,[[18,47,50,53]])}))),function(e,t,n){return i.apply(this,arguments)})},{key:"getHeader",value:(r=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=19;break}return t=this.genome,e.next=4,this.getIndex();case 4:if(!(n=e.sent).firstAlignmentBlock){e.next=14;break}return i=db(this.config,{range:{start:n.firstAlignmentBlock,size:26}}),e.next=9,$f.loadArrayBuffer(this.bamPath,i);case 9:a=e.sent,o=Cf(a),r=n.firstAlignmentBlock+o,e.next=15;break;case 14:r=64e3;case 15:return s=db(this.config,{range:{start:0,size:r}}),e.next=18,QC.readHeader(this.bamPath,s,t);case 18:this.header=e.sent;case 19:return e.abrupt("return",this.header);case 20:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getIndex",value:(n=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,this.index){e.next=5;break}return e.next=4,Ax(this.baiPath,this.config,t);case 4:this.index=e.sent;case 5:return e.abrupt("return",this.index);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getChrIndex",value:(t=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.chrToIndex){e.next=4;break}return e.abrupt("return",this.chrToIndex);case 4:return e.next=6,this.getHeader();case 6:return t=e.sent,this.chrToIndex=t.chrToIndex,this.indexToChr=t.chrNames,this.chrAliasTable=t.chrAliasTable,e.abrupt("return",this.chrToIndex);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),oE=function(){function e(t,n){eo(this,e),this.config=t,this.genome=n;var r={};t.sources.sequences.forEach((function(e){var i=n?n.getChromosomeName(e):e;r[i]=function(e,t,n){var r={url:e.sources.url.replace("$CHR",n)};e.sources.indexURL&&(r.indexURL=e.sources.indexURL.replace("$CHR",n));var i=Object.assign(e,r);return new aE(i,t)}(t,n,e)})),this.bamReaders=r,QC.setReaderDefaults(this,t)}var t;return no(e,[{key:"readAlignments",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bamReaders.hasOwnProperty(t)){e.next=4;break}return e.abrupt("return",new IC(t,n,r));case 4:return i=this.bamReaders[t],e.next=7,i.readAlignments(t,n,r);case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();var sE=function(e,t){this.config=e,this.genome=t,QC.setReaderDefaults(this,e)};function cE(){var e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);var n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",r=db(this.config);return QC.readHeader(n,r,t).then((function(t){return e.header=t,t}))}sE.prototype.readAlignments=function(e,t,n){var r=this;return cE.call(r).then((function(i){var a,o;return a=i.chrAliasTable.hasOwnProperty(e)?i.chrAliasTable[e]:e,o=r.config.url+"?reference="+r.config.referenceFile+"&file="+r.config.alignmentFile+"&region="+a+":"+t+"-"+n,$f.loadString(o,db(r.config)).then((function(o){var s;return i.chrToIndex[a],s=new IC(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold),QC.decodeSamRecords(o,s,a,t,n,r.filter),s}))}))};var uE=function(e){ro(r,e);var t,n=co(r);function r(e,t){var i;return eo(this,r),i=n.call(this,e,t),QC.setReaderDefaults(oo(i),e),i}return no(r,[{key:"readAlignments",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=8;break}return e.next=3,this.readHeaderData();case 3:for(i=e.sent,a=Sf(i.buffer),this.header=QC.decodeBamHeader(a,this.genome),this.chrAliasTable=new Map,o=0,s=Object.keys(this.header.chrAliasTable);o<s.length;o++)c=s[o],this.chrAliasTable.set(c,this.header.chrAliasTable[c]);case 8:return u=this.chrAliasTable.has(t)?this.chrAliasTable.get(t):t,e.next=11,this.readData(u,n,r);case 11:return l=e.sent,h=Sf(l.buffer),f=this.header.chrToIndex[t],d=new IC(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),QC.decodeBamRecords(h,this.header.size,d,this.header.chrNames,f,n,r),d.finish(),e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),r}(pS);Vr("asyncIterator"),Vr("hasInstance"),Vr("species"),Vr("toStringTag");var lE=!er((function(e){Array.from(e)}));Oe({target:"Array",stat:!0,forced:lE},{from:Bg});var hE=Xt.some,fE=Pi("some"),dE=en("some");Oe({target:"Array",proto:!0,forced:!fE||!dE},{some:function(e){return hE(this,e,arguments.length>1?arguments[1]:void 0)}}),ir("Array");var pE="ArrayBuffer",gE=e_.ArrayBuffer,vE=r.ArrayBuffer;Oe({global:!0,forced:vE!==gE},{ArrayBuffer:gE}),ir(pE);var mE=Ve("hasInstance"),yE=Function.prototype;mE in yE||T.f(yE,mE,{value:function(e){if("function"!=typeof this||!m(e))return!1;if(!m(this.prototype))return e instanceof this;for(;e=_t(e);)if(this.prototype===e)return!0;return!1}}),Tt(r.JSON,"JSON",!0),Tt(Math,"Math",!0);var bE=jn.onFreeze,wE=Object.freeze,xE=i((function(){wE(1)}));Oe({target:"Object",stat:!0,forced:xE,sham:!Hn},{freeze:function(e){return wE&&m(e)?wE(bE(e)):e}});var kE=E.f,_E=i((function(){kE(1)}));Oe({target:"Object",stat:!0,forced:!a||_E,sham:!a},{getOwnPropertyDescriptor:function(e,t){return kE(v(e),t)}}),Oe({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){for(var t,n,r=v(e),i=E.f,a=_e(r),o={},s=0;a.length>s;)void 0!==(n=i(r,t=a[s++]))&&Fe(o,t,n);return o}});var SE=Object.isExtensible,CE=i((function(){SE(1)}));Oe({target:"Object",stat:!0,forced:CE},{isExtensible:function(e){return!!m(e)&&(!SE||SE(e))}});var EE=jn.onFreeze,AE=Object.preventExtensions,RE=i((function(){AE(1)}));Oe({target:"Object",stat:!0,forced:RE,sham:!Hn},{preventExtensions:function(e){return AE&&m(e)?AE(EE(e)):e}});var TE=!!gp&&i((function(){gp.prototype.finally.call({then:function(){}},(function(){}))}));Oe({target:"Promise",proto:!0,real:!0,forced:TE},{finally:function(e){var t=Ga(this,oe("Promise")),n="function"==typeof e;return this.then(n?function(n){return eg(t,e()).then((function(){return n}))}:e,n?function(n){return eg(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof gp||gp.prototype.finally||re(gp.prototype,"finally",oe("Promise").prototype.finally);var LE=oe("Reflect","apply"),ME=Function.apply,IE=!i((function(){LE((function(){}))}));Oe({target:"Reflect",stat:!0,forced:IE},{apply:function(e,t,n){return Gt(e),A(n),LE?LE(e,t,n):ME.call(e,t,n)}}),Oe({target:"Reflect",stat:!0},{get:function e(t,n){var r,i,a=arguments.length<3?t:arguments[2];return A(t)===a?t[n]:(r=E.f(t,n))?w(r,"value")?r.value:void 0===r.get?void 0:r.get.call(a):m(i=_t(t))?e(i,n,a):void 0}}),Oe({target:"Reflect",stat:!0},{ownKeys:_e});var OE=/"/g;Oe({target:"String",proto:!0,forced:function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}("sub")},{sub:function(){return function(e,t,n,r){var i=String(g(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(r).replace(OE,"&quot;")+'"'),a+">"+i+"</"+t+">"}(this,"sub","","")}}),i_("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),i_("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),i_("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),i_("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var PE=!r.setImmediate||!r.clearImmediate;Oe({global:!0,bind:!0,enumerable:!0,forced:PE},{setImmediate:Bp.set,clearImmediate:Bp.clear});var NE=eval,FE=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==Ka(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=163)}([function(e,t,n){var r=n(13),i=n(81).f,a=n(107),o=n(3),s=n(15),c=n(20),u=n(24),l=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,h,f,d,p,g,v,m,y=e.target,b=e.global,w=e.stat,x=e.proto,k=b?r:w?r[y]:(r[y]||{}).prototype,_=b?o:o[y]||(o[y]={}),S=_.prototype;for(f in t)n=!a(b?f:y+(w?".":"#")+f,e.forced)&&k&&u(k,f),p=_[f],n&&(g=e.noTargetGet?(m=i(k,f))&&m.value:k[f]),d=n&&g?g:t[f],n&&Ka(p)==Ka(d)||(v=e.bind&&n?s(d,r):e.wrap&&n?l(d):x&&"function"==typeof d?s(Function.call,d):d,(e.sham||d&&d.sham||p&&p.sham)&&c(v,"sham",!0),_[f]=v,x&&(u(o,h=y+"Prototype")||c(o,h,{}),o[h][f]=d,e.real&&S&&!S[f]&&c(S,f,d)))}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(13),i=n(61),a=n(64),o=n(110),s=r.Symbol,c=i("wks");e.exports=function(e){return c[e]||(c[e]=o&&s[e]||(o?s:a)("Symbol."+e))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(2),i=n(119),a=n(29),o=n(15),s=n(90),c=n(120),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,h){var f,d,p,g,v,m,y=o(t,n,l?2:1);if(h)f=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(p=0,g=a(e.length);g>p;p++)if((v=l?y(r(m=e[p])[0],m[1]):y(e[p]))&&v instanceof u)return v;return new u(!1)}f=d.call(e)}for(;!(m=f.next()).done;)if((v=c(f,y,m.value,l))&&v instanceof u)return v;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,n){var r=n(1),i=r(n(7)),a=r(n(32)),o=r(n(27)),s=r(n(33)),c=r(n(265)),u=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,c.default)(Error)),l=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}((0,c.default)(Error)),h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u),f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(h),d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u),p=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),t}(u);e.exports={CramBufferOverrunError:f,CramMalformedError:h,CramUnimplementedError:l,CramSizeLimitError:d,CramArgumentError:p}},function(e,t,n){var r=n(196);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t,n){var r=n(3),i=n(24),a=n(95),o=n(21).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n="object",r=function(e){return e&&e.Math==Math&&e};e.exports=r(("undefined"==typeof globalThis?"undefined":Ka(globalThis))==n&&globalThis)||r(("undefined"==typeof window?"undefined":Ka(window))==n&&window)||r(("undefined"==typeof self?"undefined":Ka(self))==n&&self)||r(Ka(t)==n&&t)||Function("return this")()}).call(this,n(23))},function(e,t){e.exports=function(e){return"object"==Ka(e)?null!==e:"function"==typeof e}},function(e,t,n){var r=n(5);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=n(167)},function(e,t,n){var r=n(12);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(3);e.exports=function(e){return r[e+"Prototype"]}},function(e,t,n){(function(e){
/*!
	     * The buffer module from node.js, for the browser.
	     *
	     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	     * @license  MIT
	     */
var r=n(165),i=n(166),a=n(105);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var h=!0,f=0;f<c;f++)if(u(e,a+f)!==u(t,f)){h=!1;break}if(h)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return U(j(t,e.length-n),e,n,r)}function x(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return U(V(t),e,n,r)}function S(e,t,n,r){return U(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)>127&&(l=c);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&u)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),h=0;h<s;++h)if(u[h]!==l[h]){a=u[h],o=l[h];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function L(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=H(e[a]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function F(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,a){return a||F(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,a){return a||F(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:j(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(23))},function(e,t,n){var r=n(17),i=n(21),a=n(43);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(17),i=n(106),a=n(2),o=n(62),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(49);e.exports=function(e){return Object(r(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":Ka(window))&&(n=window)}e.exports=n},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(4),i=n(142);e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},function(e,t,n){var r=n(3),i=n(13),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(255),i=n(139);function a(t){return e.exports=a=i?r:function(e){return e.__proto__||r(e)},a(t)}e.exports=a},function(e,t,n){var r=n(60),i=n(49);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(83),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){e.exports=n(184)},function(e,t,n){var r=n(185);function i(e,t,n,i,a,o,s){try{var c=e[o](s),u=c.value}catch(e){return void n(e)}c.done?t(u):r.resolve(u).then(i,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new r((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){var r=n(225),i=n(254);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(140),i=n(96);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,n){var r=n(21).f,i=n(20),a=n(24),o=n(174),s=n(6)("toStringTag"),c=o!=={}.toString;e.exports=function(e,t,n,u){if(e){var l=n?e:e.prototype;a(l,s)||r(l,s,{configurable:!0,value:t}),u&&c&&i(l,"toString",o)}}},function(e,t,n){e.exports=n(181)},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(70),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var a=n(57);a.inherits=n(47);var o=n(127),s=n(93);a.inherits(h,o);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(1),i=r(n(7)),a=r(n(10)),o=n(9).CramBufferOverrunError,s={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,e),this.parameters=t,this.dataType=n,!n)throw new TypeError("must provide a data type to codec constructor");if(!s[n])throw new TypeError("invalid data type ".concat(n))}return(0,a.default)(e,[{key:"_getBits",value:function(e,t,n){var r=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new o("read error during decoding. the file seems to be truncated.");for(var i=n;i;i-=1)r<<=1,r|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return r}}]),e}();e.exports=c},function(e,t,n){n(168);var r=n(176),i=n(13),a=n(20),o=n(35),s=n(6)("toStringTag");for(var c in r){var u=i[c],l=u&&u.prototype;l&&!l[s]&&a(l,s,c),o[c]=o.Array}},function(e,t,n){var r,i,a,o=n(169),s=n(13),c=n(14),u=n(20),l=n(24),h=n(63),f=n(50),d=s.WeakMap;if(o){var p=new d,g=p.get,v=p.has,m=p.set;r=function(e,t){return m.call(p,e,t),t},i=function(e){return g.call(p,e)||{}},a=function(e){return v.call(p,e)}}else{var y=h("state");f[y]=!0,r=function(e,t){return u(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),i=n(173),a=n(85),o=n(50),s=n(112),c=n(79),u=n(63)("IE_PROTO"),l=function(){},h=function(){var e,t=c("iframe"),n=a.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;n--;)delete h.prototype[a[n]];return h()};e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=r(e),n=new l,l.prototype=null,n[u]=e):n=h(),void 0===t?n:i(n,t)},o[u]=!0},function(e,t,n){var r=n(15),i=n(60),a=n(22),o=n(29),s=n(113),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,f=5==e||h;return function(d,p,g,v){for(var m,y,b=a(d),w=i(b),x=r(p,g,3),k=o(w.length),_=0,S=v||s,C=t?S(d,k):n?S(d,0):void 0;k>_;_++)if((f||_ in w)&&(y=x(m=w[_],_,b),e))if(t)C[_]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:c.call(C,m)}else if(l)return!1;return h?-1:u||l?l:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){var r=n(187).charAt,i=n(42),a=n(80),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(157),i=n(384),a=n(158);e.exports=function(e,t){return r(e)||i(e,t)||a()}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports={}},function(e,t,n){var r=n(111),i=n(85);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(20);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12);e.exports=function(e,t){var n=[][e];return!n||!r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(2),i=n(5),a=n(6)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r=n(5),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==Ka(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==Ka(e)&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Ka(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(19).Buffer)},function(e,t,n){var r=n(1)(n(76)),i=n(331),a=n(9).CramBufferOverrunError;e.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,r=t,i=e[r];if(i<128?(n=i,r+=1):i<192?(n=16383&(i<<8|e[r+1]),r+=2):i<224?(n=2097151&(i<<16|e[r+1]<<8|e[r+2]),r+=3):i<240?(n=268435455&(i<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),r+=4):(n=(15&i)<<28|e[r+1]<<20|e[r+2]<<12|e[r+3]<<4|15&e[r+4],r+=5),r>e.length)throw new a("Attempted to read beyond end of buffer; this file seems truncated.");return[n,r-t]},parseItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.parse(e),a=i.offset,o=i.result;return o._endPosition=a+r,o._size=a-n,o},tinyMemoize:function(e,t){var n=e.prototype[t],i="_memo_".concat(t);e.prototype[t]=function(){var e=this;if(!(i in this)){var t=n.call(this);this[i]=t,r.default.resolve(t).catch((function(){delete e[i]}))}return this[i]}},sequenceMD5:function(e){return i(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){var r=n(351),i=n(152),a=n(362);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t,n){var r=n(12),i=n(34),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(13),i=n(171),a=n(4),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:a?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(61),i=n(64),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(24),i=n(22),a=n(63),o=n(109),s=a("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var r=n(34),i=n(6)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){var r=n(12),i=n(6)("species");e.exports=function(e){return!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(38))},function(e,t,n){var r=n(19),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=Ka(n))throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r=n(1)(n(7)),i=n(9).CramMalformedError,a=n(74),o=function e(){(0,r.default)(this,e),this.F=void 0,this.C=void 0};function s(e,t,n,r){return n*(e>>r)+(e&(1<<r)-1)-t}var c={FC:o,AriDecoder:function e(){(0,r.default)(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new o;this.R=null},Symbol:function e(){(0,r.default)(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new i("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new i("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:s,advanceSymbolStep:function(e,t,n){return s(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,r){return function(e,t,n,r,i){if((e=r*(e>>i)+(e&(1<<i)-1)-n)<a.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<a.RANS_BYTE_L);return e}(e,t,n.start,n.freq,r)},renormalize:function(e,t){if(e<a.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<a.RANS_BYTE_L);return e}};e.exports=c},function(e,t,n){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t,n){e.exports=n(322)},function(e,t,n){e.exports=n(330)},function(e,t,n){e.exports=n(347)},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(13),i=n(14),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(0),i=n(172),a=n(66),o=n(86),s=n(36),c=n(20),u=n(52),l=n(6),h=n(4),f=n(35),d=n(108),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),m=function(){return this};e.exports=function(e,t,n,l,d,y,b){i(n,t,l);var w,x,k,_=function(e){if(e===d&&R)return R;if(!g&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",C=!1,E=e.prototype,A=E[v]||E["@@iterator"]||d&&E[d],R=!g&&A||_(d),T="Array"==t&&E.entries||A;if(T&&(w=a(T.call(new e)),p!==Object.prototype&&w.next&&(h||a(w)===p||(o?o(w,p):"function"!=typeof w[v]&&c(w,v,m)),s(w,S,!0,!0),h&&(f[S]=m))),"values"==d&&A&&"values"!==A.name&&(C=!0,R=function(){return A.call(this)}),h&&!b||E[v]===R||c(E,v,R),f[t]=R,d)if(x={values:_("values"),keys:y?R:_("keys"),entries:_("entries")},b)for(k in x)!g&&!C&&k in E||u(E,k,x[k]);else r({target:t,proto:!0,forced:g||C},x);return x}},function(e,t,n){var r=n(17),i=n(65),a=n(43),o=n(28),s=n(62),c=n(24),u=n(106),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(28),i=n(29),a=n(84),o=function(e){return function(t,n,o){var s,c=r(t),u=i(c.length),l=a(o,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(83),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(2),i=n(175);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(62),i=n(21),a=n(43);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t){},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(67),i=n(35),a=n(6)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r,i="object"==("undefined"==typeof Reflect?"undefined":Ka(Reflect))?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,a,o,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+Ka(n));if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function h(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)a(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+Ka(t));return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+Ka(t));return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+Ka(t));if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(127)).Stream=t,t.Readable=t,t.Writable=n(93),t.Duplex=n(39),t.Transform=n(131),t.PassThrough=n(207)},function(e,t,n){(function(t,r,i){var a=n(70);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;y.WritableState=m;var u=n(57);u.inherits=n(47);var l,h={deprecate:n(206)},f=n(128),d=n(71).Buffer,p=i.Uint8Array||function(){},g=n(129);function v(){}function m(e,t){s=s||n(39),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,i);else{var o=k(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?c(w,e,n,o,i):w(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(39),!(l.call(y,this)||this instanceof s))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,b(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=k(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,f),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===y&&e&&e._writableState instanceof m}})):l=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof p);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(38),n(204).setImmediate,n(23))},function(e,t,n){e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(eo(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return no(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=lo(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=lo(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=go(this.oldCache),e.prev=18,i.s();case 20:if((a=i.n()).done){e.next=29;break}if(o=a.value,s=lo(o,1),c=s[0],e.t1=this.cache.has(c),e.t1){e.next=27;break}return e.next=27,o;case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(18),i.e(e.t2);case 34:return e.prev=34,i.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,31,34,37]])}))},{key:"size",get:function(){var e,t=0,n=go(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(e){n.e(e)}finally{n.f()}return this._size+t}}]),e}()},function(e,t,n){t.f=n(6)},function(e,t,n){var r=n(139);function i(t,n){return e.exports=i=r||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t,n){e.exports=n(310)},function(e,t,n){e.exports=n(319)},function(e,t,n){e.exports=n(342)},function(e,t,n){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){e.exports=n(368)},function(e,t,n){e.exports=n(396)},function(e,t,n){e.exports=n(399)},function(e,t,n){var r=n(164);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(17),i=n(12),a=n(79);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(12),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t,n){var r,i,a,o=n(66),s=n(20),c=n(24),u=n(6),l=n(4),h=u("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),l||c(r,h)||s(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(12);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(12);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(24),i=n(28),a=n(82).indexOf,o=n(50);e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){var r=n(26);e.exports=r("document","documentElement")},function(e,t,n){var r=n(14),i=n(53),a=n(6)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(0),i=n(12),a=n(53),o=n(14),s=n(22),c=n(29),u=n(87),l=n(113),h=n(68),f=n(6)("isConcatSpreadable"),d=!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),p=h("concat"),g=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!d||!p},{concat:function(e){var t,n,r,i,a,o=s(this),h=l(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(g(a=-1===t?o:arguments[t])){if(f+(i=c(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in a&&u(h,f,a[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(h,f++,a)}return h.length=f,h}})},function(e,t,n){n(88),n(46),n(41),n(188),n(125),n(191);var r=n(3);e.exports=r.Promise},function(e,t,n){var r=n(13);e.exports=r.Promise},function(e,t,n){var r=n(52);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},function(e,t,n){var r=n(26),i=n(21),a=n(6),o=n(17),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(6),i=n(35),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){var r=n(2);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(6)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var r,i,a,o=n(13),s=n(12),c=n(34),u=n(15),l=n(112),h=n(79),f=o.location,d=o.setImmediate,p=o.clearImmediate,g=o.process,v=o.MessageChannel,m=o.Dispatch,y=0,b={},w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},x=function(e){return function(){w(e)}},k=function(e){w(e.data)},_=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},p=function(e){delete b[e]},"process"==c(g)?r=function(e){g.nextTick(x(e))}:m&&m.now?r=function(e){m.now(x(e))}:v?(a=(i=new v).port2,i.port1.onmessage=k,r=u(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(_)?r="onreadystatechange"in h("script")?function(e){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(x(e),0)}:(r=_,o.addEventListener("message",k,!1))),e.exports={set:d,clear:p}},function(e,t,n){var r=n(26);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(2),i=n(14),a=n(56);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0),i=n(5),a=n(56),o=n(69),s=n(8);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,c=n.reject,u=o((function(){var n=i(t.resolve),a=[],o=0,c=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),c++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--c||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--c||r(a))}))})),--c||r(a)}));return u.error&&c(u.value),n.promise}})},function(e,t,n){(function(e){var r=n(19).Buffer,i=n(200).Transform,a=n(212),o=n(133),s=n(132).ok,c=n(19).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(a),h=0;h<l.length;h++){var f=l[h];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:a[f],writable:!1})}for(var d={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(d),g=0;g<p.length;g++){var v=p[g];d[d[v]]=v}function m(e,t,n){var i=[],a=0;function o(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once("readable",o)}function s(){var t,o=null;a>=c?o=new RangeError(u):t=r.concat(i,a),i=[],e.close(),n(o,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)})),e.on("end",s),e.end(t),o()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);A.call(this,e,a.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);A.call(this,e,a.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);A.call(this,e,a.GZIP)}function k(e){if(!(this instanceof k))return new k(e);A.call(this,e,a.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);A.call(this,e,a.DEFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);A.call(this,e,a.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);A.call(this,e,a.UNZIP)}function E(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function A(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!E(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!E(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){R(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var c=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(c=e.level);var u=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function R(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function T(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=x,t.Gunzip=k,t.DeflateRaw=_,t.InflateRaw=S,t.Unzip=C,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new S(e)},t.createGzip=function(e){return new x(e)},t.createGunzip=function(e){return new k(e)},t.createUnzip=function(e){return new C(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new x(t),e,n)},t.gzipSync=function(e,t){return y(new x(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new _(t),e,n)},t.deflateRawSync=function(e,t){return y(new _(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new C(t),e,n)},t.unzipSync=function(e,t){return y(new C(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new w(t),e,n)},t.inflateSync=function(e,t){return y(new w(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new k(t),e,n)},t.gunzipSync=function(e,t){return y(new k(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new S(t),e,n)},t.inflateRawSync=function(e,t){return y(new S(t),e)},o.inherits(A,i),A.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())}))}else e.nextTick(i)},A.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},A.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},A.prototype.flush=function(t,n){var i=this,o=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=a.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},A.prototype.close=function(t){R(this,t),e.nextTick(T,this)},A.prototype._transform=function(e,t,n){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},A.prototype._processChunk=function(e,t,n){var i=e&&e.length,a=this._chunkSize-this._offset,o=0,l=this,h="function"==typeof n;if(!h){var f,d=[],p=0;this.on("error",(function(e){f=e})),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,a)}while(!this._hadError&&y(g[0],g[1]));if(this._hadError)throw f;if(p>=c)throw R(this),new RangeError(u);var v=r.concat(d,p);return R(this),v}s(this._handle,"zlib binding closed");var m=this._handle.write(t,e,o,i,this._buffer,this._offset,a);function y(c,u){if(this&&(this.buffer=null,this.callback=null),!l._hadError){var f=a-u;if(s(f>=0,"have should not go down"),f>0){var g=l._buffer.slice(l._offset,l._offset+f);l._offset+=f,h?l.push(g):(d.push(g),p+=g.length)}if((0===u||l._offset>=l._chunkSize)&&(a=l._chunkSize,l._offset=0,l._buffer=r.allocUnsafe(l._chunkSize)),0===u){if(o+=i-c,i=c,!h)return!0;var v=l._handle.write(t,e,o,i,l._buffer,l._offset,l._chunkSize);return v.callback=y,void(v.buffer=e)}if(!h)return!1;n()}}m.buffer=e,m.callback=y},o.inherits(b,A),o.inherits(w,A),o.inherits(x,A),o.inherits(k,A),o.inherits(_,A),o.inherits(S,A),o.inherits(C,A)}).call(this,n(38))},function(e,t,n){(function(t,r){var i=n(70);e.exports=b;var a,o=n(105);b.ReadableState=y,n(91).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(128),u=n(71).Buffer,l=t.Uint8Array||function(){},h=n(57);h.inherits=n(47);var f=n(201),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(202),v=n(129);h.inherits(b,c);var m=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(a=a||n(39));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(130).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(39),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,o)):(i||(a=function(e,t){var n,r;return r=t,u.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):E(e,o)):x(e,o,t,!1))):r||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(130).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var k=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){d("emit readable"),e.emit("readable"),L(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(A,e,t))}function A(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function R(e){d("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0==(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0==(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):S(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&I(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var c=t&&!1===t.end||e===r.stdout||e===r.stderr?y:u;function u(){d("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",(function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",l);var h=!1,f=!1;function p(t){d("ondata"),f=!1,!1!==e.write(t)||f||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==P(a.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(t){d("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",m),y()}function m(){d("onfinish"),e.removeListener("close",v),y()}function y(){d("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",m),e.emit("pipe",n),a.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=P(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(R,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<m.length;a++)e.on(m[a],this.emit.bind(this,m[a]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M}).call(this,n(23),n(38))},function(e,t,n){e.exports=n(91).EventEmitter},function(e,t,n){var r=n(70);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(71).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=o;var r=n(39),i=n(57);function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(47),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){(function(t){var r=n(213);
/*!
	     * The buffer module from node.js, for the browser.
	     *
	     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	     * @license  MIT
	     */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(133),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function h(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=y,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(d);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(u||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||m(e,!0,t,"==",f.ok)}function b(e,t,n,r){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==Ka(e)||null!==t&&"object"==Ka(t)){if(h(e)&&h(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),a=w(t);if(i&&!a||!i&&a)return!1;if(i)return b(e=c.call(e),t=c.call(t),n);var s,u,l=_(e),h=_(t);if(l.length!==h.length)return!1;for(l.sort(),h.sort(),u=l.length-1;u>=0;u--)if(l[u]!==h[u])return!1;for(u=l.length-1;u>=0;u--)if(!b(e[s=l[u]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&m(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&x(i,n)||s)&&m(i,n,"Got unwanted exception"+r),e&&i&&n&&!x(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(v(e.actual),128)+" "+e.operator+" "+g(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=m,f.ok=y,f.equal=function(e,t,n){e!=t&&m(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||m(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||m(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&m(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){k(!0,e,t,n)},f.doesNotThrow=function(e,t,n){k(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||m(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var _=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(23))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<a;c=r[++n])g(c)||!w(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=l(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),k(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(_(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return h(n)}var u,w="",S=!1,C=["{","}"];return d(n)&&(S=!0,C=["[","]"]),_(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),k(n)&&(w=" "+h(n)),0!==o.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=S?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)R(t,String(o))?a.push(f(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(f(e,t,n,r,i,!0))})),a}(e,n,r,s,o):o.map((function(t){return f(e,n,r,s,t,S)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,w,C)):C[0]+w+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),R(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==Ka(e)&&null!==e}function x(e){return w(e)&&"[object Date]"===S(e)}function k(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function _(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==Ka(e)},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=k,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Ka(e)||void 0===e},t.isBuffer=n(214);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(215),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(L,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(38))},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,n){n(11)("iterator")},function(e,t,n){var r=n(111),i=n(85).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(259)},function(e,t,n){e.exports=n(262)},function(e,t,n){var r=n(50),i=n(14),a=n(24),o=n(21).f,s=n(64),c=n(271),u=s("meta"),l=0,h=Object.isExtensible||function(){return!0},f=function(e){o(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==Ka(e)?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!h(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!h(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},onFreeze:function(e){return c&&d.REQUIRED&&h(e)&&!a(e,u)&&f(e),e}};r[u]=!0},function(e,t,n){var r=n(2),i=n(90);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var r=n(298),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},function(e,t,n){var r=n(303),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?r:t}},function(e,t,n){var r=n(5),i=n(14),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function r(){var i=n.concat(a.call(arguments));return this instanceof r?s(t,i.length,i):t.apply(e,i)};return i(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var a={},o={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function c(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=p)return _}else{if(e<=-g)return S;if(e+1>=g)return k}return e<0?c(-e,t).neg():u(e%d|0,e/d|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=c,r.fromBits=u;var l=Math.pow;function h(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return h(e.substring(1),t,n).neg();for(var i=c(l(n,8)),a=m,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),u=parseInt(e.substring(o,o+s),n);if(s<8){var f=c(l(n,s));a=a.mul(f).add(c(u))}else a=(a=a.mul(i)).add(c(u))}return a.unsigned=t,a}function f(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?h(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=h,r.fromValue=f;var d=4294967296,p=d*d,g=p/2,v=s(1<<24),m=s(0);r.ZERO=m;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var w=s(1,!0);r.UONE=w;var x=s(-1);r.NEG_ONE=x;var k=u(-1,2147483647,!1);r.MAX_VALUE=k;var _=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=_;var S=u(0,-2147483648,!1);r.MIN_VALUE=S;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(l(e,6),this.unsigned),a=this,o="";;){var s=a.div(i),u=(a.sub(s.mul(i)).toInt()>>>0).toString(e);if((a=s).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},C.neg=C.negate,C.add=function(e){i(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,h=0,d=0,p=0;return d+=(p+=a+(65535&e.low))>>>16,h+=(d+=r+c)>>>16,l+=(h+=n+s)>>>16,l+=t+o,u((d&=65535)<<16|(p&=65535),(l&=65535)<<16|(h&=65535),this.unsigned)},C.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return m;if(i(e)||(e=f(e)),n)return u(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(S))return e.isOdd()?S:m;if(e.eq(S))return this.isOdd()?S:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,a=this.low>>>16,o=65535&this.low,s=e.high>>>16,l=65535&e.high,h=e.low>>>16,d=65535&e.low,p=0,g=0,y=0,b=0;return y+=(b+=o*d)>>>16,g+=(y+=a*d)>>>16,y&=65535,g+=(y+=o*h)>>>16,p+=(g+=r*d)>>>16,g&=65535,p+=(g+=a*h)>>>16,g&=65535,p+=(g+=o*l)>>>16,p+=t*d+r*h+a*l+o*s,u((y&=65535)<<16|(b&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,a;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;a=y}else{if(this.eq(S))return e.eq(b)||e.eq(x)?S:e.eq(S)?b:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:x:(r=this.sub(e.mul(t)),a=t.add(r.div(e)));if(e.eq(S))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=m}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:l(2,o-48),h=c(t),d=h.mul(e);d.isNegative()||d.gt(r);)d=(h=c(t-=s,this.unsigned)).mul(e);h.isZero()&&(h=b),a=a.add(h),r=r.sub(d)}return a},C.div=C.divide,C.modulo=function(e){return i(e)||(e=f(e)),n?u((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.and=function(e){return i(e)||(e=f(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return i(e)||(e=f(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return i(e)||(e=f(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){e.exports=n(335)},function(e,t,n){var r=n(17),i=n(51),a=n(28),o=n(65).f,s=function(e){return function(t){for(var n,s=a(t),c=i(s),u=c.length,l=0,h=[];u>l;)n=c[l++],r&&!o.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){e.exports=n(338)},function(e,t,n){e.exports=n(352)},function(e,t,n){var r=n(355),i=n(153);e.exports=function(e){if(i(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r(e)}},function(e,t,n){e.exports=n(360)},function(e,t,n){e.exports=n(372)},function(e,t,n){var r=n(13),i=n(375).trim,a=n(156),o=r.parseInt,s=/^[+-]?0[Xx]/,c=8!==o(a+"08")||22!==o(a+"0x16");e.exports=c?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t){e.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(e,t,n){var r=n(151);e.exports=function(e){if(r(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports=n(393)},function(e,t,n){var r=n(419),i=n(426),a=n(429);function o(e){var t=r.parse(e),n=t.protocol,o=t.pathname;return"file:"===n?new a(unescape(o)):new i(e)}e.exports={LocalFile:a,RemoteFile:i,fromUrl:o,open:function(e,t,n){if(n)return n;if(e)return o(e);if(t)return new a(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.promisify=i;var r="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function i(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[r],n=i.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return new n((function(n,i){a.push((function(e){if(e)return i(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(1===a.length||!t)return n(a[0]);var s={};a.forEach((function(e,n){var r=t[n];r&&(s[r]=e)})),n(s)})),e.call.apply(e,[r].concat(a))}))}}i.argumentNames=r,i.Promise=void 0},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(449),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")},a=void 0===i().AbortController?r.AbortController:i().AbortController;t.AbortController=a;var o=void 0===i().AbortController?r.AbortSignal:i().AbortSignal;t.AbortSignal=o}).call(this,n(23))},function(e,t,n){var r=n(104),i=n(432),a=n(439);e.exports={CramFile:r,IndexedCramFile:i,CraiIndex:a}},function(e,t,n){(function(t){var r,i=n(1),a=i(n(16)),o=i(n(37)),s=i(n(30)),c=i(n(31)),u=i(n(7)),l=i(n(10)),h=n(126),f=n(224),d=n(94),p=n(9),g=p.CramUnimplementedError,v=p.CramMalformedError,m=n(309),y=n(318),b=y.cramFileDefinition,w=y.getSectionParsers,x=n(329),k=n(160).open,_=n(58),S=_.parseItem,C=_.tinyMemoize,E=n(430).parseHeaderText,A=function(){function e(t){(0,u.default)(this,e),this.file=k(t.url,t.path,t.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=t.seqFetch,this.options={checkSequenceMD5:!1!==t.checkSequenceMD5,cacheSize:void 0!==t.cacheSize?t.cacheSize:2e4},this.featureCache=new d({maxSize:this.options.cacheSize})}var n,r,i,a,p,y,_,C,A,R;return(0,l.default)(e,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,r){return this.file.read(e,t,n,r)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(R=(0,c.default)(s.default.mark((function e(){var n,r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.allocUnsafe(b.maxLength),e.next=3,this.file.read(n,0,b.maxLength,0);case 3:if(2===(r=b.parser.parse(n).result).majorVersion||3===r.majorVersion){e.next=6;break}throw new g("CRAM version ".concat(r.majorVersion," not supported"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return R.apply(this,arguments)})},{key:"getSamHeader",value:(A=(0,c.default)(s.default.mark((function e(){var t,n,r,i,a;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(t=e.sent){e.next=5;break}throw new v("file contains no containers");case 5:return e.next=7,t.getFirstBlock();case 7:return n=e.sent,r=n.content,i=r.readInt32LE(0),a=r.toString("utf8",4,4+i),this.header=a,e.abrupt("return",E(a));case 14:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getHeaderText",value:(C=(0,c.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSamHeader();case 2:return e.abrupt("return",this.header);case 3:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:"getSectionParsers",value:(_=(0,c.default)(s.default.mark((function e(){var t,n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return t=e.sent,n=t.majorVersion,e.abrupt("return",w(n));case 5:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"getContainerById",value:(y=(0,c.default)(s.default.mark((function e(t){var n,r,i,a,o,c,u,l,h,f;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return n=e.sent,r=n.cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:i=e.sent,a=i.size,o=n.cramContainerHeader1,u=0;case 10:if(!(u<=t)){e.next=36;break}if(!(r+o.maxLength+8>=a)){e.next=13;break}return e.abrupt("return",void 0);case 13:return c=this.getContainerAtPosition(r),e.next=16,c.getHeader();case 16:if(l=e.sent){e.next=19;break}throw new v("container ".concat(t," not found in file"));case 19:if(0!==u){e.next=32;break}r=l._endPosition,h=0;case 22:if(!(h<l.numBlocks)){e.next=30;break}return e.next=25,this.readBlock(r);case 25:f=e.sent,r=f._endPosition;case 27:h+=1,e.next=22;break;case 30:e.next=33;break;case 32:r+=l._size+l.length;case 33:u+=1,e.next=10;break;case 36:return e.abrupt("return",c);case 37:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"checkCrc32",value:(p=(0,c.default)(s.default.mark((function e(n,r,i,a){var c,u,l,h;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.allocUnsafe(r),e.next=3,this.file.read(c,0,r,n);case 3:if((u=f.unsigned(c))===i){e.next=6;break}throw new v((0,o.default)(l=(0,o.default)(h="crc mismatch in ".concat(a,": recorded CRC32 = ")).call(h,i,", but calculated CRC32 = ")).call(l,u));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return p.apply(this,arguments)})},{key:"containerCount",value:(a=(0,c.default)(s.default.mark((function e(){var t,n,r,i,a,o,c,u,l;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return t=e.sent,e.next=5,this.file.stat();case 5:n=e.sent,r=n.size,i=t.cramContainerHeader1,a=0,o=t.cramFileDefinition.maxLength;case 10:if(!(o+i.maxLength+8<r)){e.next=33;break}return e.next=13,this.getContainerAtPosition(o).getHeader();case 13:if(c=e.sent){e.next=16;break}return e.abrupt("break",33);case 16:if(0!==a){e.next=29;break}o=c._endPosition,u=0;case 19:if(!(u<c.numBlocks)){e.next=27;break}return e.next=22,this.readBlock(o);case 22:l=e.sent,o=l._endPosition;case 24:u+=1,e.next=19;break;case 27:e.next=30;break;case 29:o+=c._size+c.length;case 30:a+=1,e.next=10;break;case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new x(this,e)}},{key:"readBlockHeader",value:(i=(0,c.default)(s.default.mark((function e(n){var r,i,a,o,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=e.sent,i=r.cramBlockHeader,e.next=6,this.file.stat();case 6:if(a=e.sent,o=a.size,!(n+i.maxLength>=o)){e.next=10;break}return e.abrupt("return",void 0);case 10:return c=t.allocUnsafe(i.maxLength),e.next=13,this.file.read(c,0,i.maxLength,n);case 13:return e.abrupt("return",S(c,i.parser,0,n));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_parseSection",value:(r=(0,c.default)(s.default.mark((function e(n,r){var i,a,c,u,l,h,f,d=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>2&&void 0!==d[2]?d[2]:n.maxLength,!(c=d.length>3?d[3]:void 0)){e.next=6;break}u=c,e.next=15;break;case 6:return e.next=8,this.file.stat();case 8:if(l=e.sent,h=l.size,!(r+a>=h)){e.next=12;break}return e.abrupt("return",void 0);case 12:return u=t.allocUnsafe(a),e.next=15,this.file.read(u,0,a,r);case 15:if((f=S(u,n.parser,0,r))._size===a){e.next=18;break}throw new v((0,o.default)(i="section read error: requested size ".concat(a," does not equal parsed size ")).call(i,f._size));case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)h.gunzipSync(t).copy(n);else{if("rans"!==e)throw new g("".concat(e," decompression not yet implemented"));m.uncompress(t,n)}}},{key:"readBlock",value:(n=(0,c.default)(s.default.mark((function e(n){var r,i,a,o,c,u,l,h;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return r=e.sent,i=r.majorVersion,e.next=6,this.getSectionParsers();case 6:return a=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(o=e.sent,c=o._endPosition,o.contentPosition=o._endPosition,u=t.allocUnsafe(o.uncompressedSize),"raw"===o.compressionMethod){e.next=20;break}return l=t.allocUnsafe(o.compressedSize),e.next=17,this.read(l,0,o.compressedSize,c);case 17:this._uncompress(o.compressionMethod,l,u),e.next=22;break;case 20:return e.next=22,this.read(u,0,o.uncompressedSize,c);case 22:if(o.content=u,!(i>=3)){e.next=35;break}return e.next=26,this._parseSection(a.cramBlockCrc32,c+o.compressedSize);case 26:if(h=e.sent,o.crc32=h.crc32,!this.validateChecksums){e.next=31;break}return e.next=31,this.checkCrc32(n,o._size+o.compressedSize,o.crc32,"block data");case 31:o._endPosition=h._endPosition,o._size=o.compressedSize+a.cramBlockCrc32.maxLength,e.next=37;break;case 35:o._endPosition=c+o.compressedSize,o._size=o.compressedSize;case 37:return e.abrupt("return",o);case 38:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();(0,a.default)(r="getDefinition getSectionParsers getSamHeader".split(" ")).call(r,(function(e){return C(A,e)})),e.exports=A}).call(this,n(19).Buffer)},function(e,t,n){t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+h],h+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+h],h+=f,l-=8);if(0===a)a=1-u;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=u}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,u=8*a-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(s=0,o=l):o+h>=1?(s=(t*c-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+d]=255&o,d+=p,o/=256,u-=8);e[n+d-p]|=128*g}},function(e,t,n){n(41);var r=n(177),i=n(67),a=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||e instanceof Array&&t===a.forEach||o.hasOwnProperty(i(e))?r:t}},function(e,t,n){var r=n(28),i=n(78),a=n(35),o=n(42),s=n(80),c=o.set,u=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(13),i=n(170),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i.call(a))},function(e,t,n){var r=n(61);e.exports=r("native-function-to-string",Function.toString)},function(e,t,n){var r=n(13),i=n(20);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(108).IteratorPrototype,i=n(44),a=n(43),o=n(36),s=n(35),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,u,!1,!0),s[u]=c,e}},function(e,t,n){var r=n(17),i=n(21),a=n(2),o=n(51);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,c=0;s>c;)i.f(e,n=r[c++],t[n]);return e}},function(e,t,n){var r=n(67),i={};i[n(6)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){e.exports=n(178)},function(e,t,n){n(179);var r=n(18);e.exports=r("Array").forEach},function(e,t,n){var r=n(0),i=n(180);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){var r=n(45).forEach,i=n(54);e.exports=i("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){e.exports=n(182)},function(e,t,n){var r=n(183),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?r:t}},function(e,t,n){n(114);var r=n(18);e.exports=r("Array").concat},function(e,t,n){var r=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=l;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?d:h,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function g(){}function v(){}function m(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(R([])));w&&w!==n&&r.call(w,a)&&(y=w);var x=m.prototype=g.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e,t){var n;this._invoke=function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Ka(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:T}}function T(){return{value:t,done:!0}}return v.prototype=x.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(_.prototype),_.prototype[o]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){e.exports=n(186)},function(e,t,n){e.exports=n(115),n(192),n(193),n(194),n(195)},function(e,t,n){var r=n(83),i=n(49),a=function(e){return function(t,n){var a,o,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var r,i,a,o,s=n(0),c=n(4),u=n(13),l=n(3),h=n(116),f=n(52),d=n(117),p=n(36),g=n(118),v=n(14),m=n(5),y=n(89),b=n(34),w=n(8),x=n(121),k=n(55),_=n(122).set,S=n(189),C=n(124),E=n(190),A=n(56),R=n(69),T=n(123),L=n(42),M=n(107),I=n(6)("species"),O="Promise",P=L.get,N=L.set,F=L.getterFor(O),D=h,B=u.TypeError,z=u.document,H=u.process,j=u.fetch,V=H&&H.versions,U=V&&V.v8||"",q=A.f,W=q,G="process"==b(H),$=!!(z&&z.createEvent&&u.dispatchEvent),Z=M(O,(function(){var e=D.resolve(1),t=function(){},n=(e.constructor={})[I]=function(e){e(t,t)};return!((G||"function"==typeof PromiseRejectionEvent)&&(!c||e.finally)&&e.then(t)instanceof n&&0!==U.indexOf("6.6")&&-1===T.indexOf("Chrome/66"))})),Y=Z||!x((function(e){D.all(e).catch((function(){}))})),X=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;S((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,c,u,l=r[o++],h=a?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{h?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),u=!0)),s===l.promise?d(B("Promise-chain cycle")):(c=X(s))?c.call(s,f,d):f(s)):d(i)}catch(e){p&&!u&&p.exit(),d(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&J(e,t)}))}},Q=function(e,t,n){var r,i;$?((r=z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):"unhandledrejection"===e&&E("Unhandled promise rejection",n)},J=function(e,t){_.call(u,(function(){var n,r=t.value;if(ee(t)&&(n=R((function(){G?H.emit("unhandledRejection",r,e):Q("unhandledrejection",e,r)})),t.rejection=G||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){_.call(u,(function(){G?H.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,K(e,t,!0))},ie=function e(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw B("Promise can't be resolved itself");var a=X(r);a?S((function(){var i={done:!1};try{a.call(r,ne(e,t,i,n),ne(re,t,i,n))}catch(e){re(t,i,e,n)}})):(n.value=r,n.state=1,K(t,n,!1))}catch(r){re(t,{done:!1},r,n)}}};Z&&(D=function(e){y(this,D,O),m(e),r.call(this);var t=P(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){N(this,{type:O,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(D.prototype,{then:function(e,t){var n=F(this),r=q(k(this,D));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=G?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},A.f=q=function(e){return e===D||e===a?new i(e):W(e)},c||"function"!=typeof h||(o=h.prototype.then,f(h.prototype,"then",(function(e,t){var n=this;return new D((function(e,t){o.call(n,e,t)})).then(e,t)})),"function"==typeof j&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(D,j.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:Z},{Promise:D}),p(D,O,!1,!0),g(O),a=l.Promise,s({target:O,stat:!0,forced:Z},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:O,stat:!0,forced:c||Z},{resolve:function(e){return C(c&&this===a?D:this,e)}}),s({target:O,stat:!0,forced:Y},{all:function(e){var t=this,n=q(t),r=n.resolve,i=n.reject,a=R((function(){var n=m(t.resolve),a=[],o=0,s=1;w(e,(function(e){var c=o++,u=!1;a.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,a[c]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,i=R((function(){var i=m(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r,i,a,o,s,c,u,l,h=n(13),f=n(81).f,d=n(34),p=n(122).set,g=n(123),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,y=h.Promise,b="process"==d(m),w=f(h,"queueMicrotask"),x=w&&w.value;x||(r=function(){var e,t;for(b&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},b?o=function(){m.nextTick(r)}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(s=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),o=function(){c.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),l=u.then,o=function(){l.call(u,r)}):o=function(){p.call(h,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){var r=n(0),i=n(4),a=n(116),o=n(26),s=n(55),c=n(124),u=n(52);r({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=s(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype.finally||u(a.prototype,"finally",o("Promise").prototype.finally)},function(e,t,n){var r=n(0),i=n(66),a=n(86),o=n(44),s=n(43),c=n(8),u=n(20),l=function e(t,n){var r=this;if(!(r instanceof e))return new e(t,n);a&&(r=a(new Error(n),i(r)));var o=[];return c(t,o.push,o),u(r,"errors",o),void 0!==n&&u(r,"message",String(n)),r};l.prototype=o(Error.prototype,{constructor:s(5,l),name:s(5,"AggregateError")}),r({global:!0},{AggregateError:l})},function(e,t,n){n(125)},function(e,t,n){var r=n(0),i=n(56),a=n(69);r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=a(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){var r=n(0),i=n(5),a=n(26),o=n(56),s=n(69),c=n(8);r({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=i(t.resolve),o=[],s=0,l=1,h=!1;c(e,(function(e){var i=s++,c=!1;o.push(void 0),l++,n.call(t,e).then((function(e){c||h||(h=!0,r(e))}),(function(e){c||h||(c=!0,o[i]=e,--l||u(new(a("AggregateError"))(o,"No one promise resolved")))}))})),--l||u(new(a("AggregateError"))(o,"No one promise resolved"))}));return l.error&&u(l.value),n.promise}})},function(e,t,n){e.exports=n(197)},function(e,t,n){e.exports=n(198)},function(e,t,n){n(199);var r=n(3).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},function(e,t,n){var r=n(0),i=n(17);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(21).f})},function(e,t,n){e.exports=i;var r=n(91).EventEmitter;function i(){r.call(this)}n(47)(i,r),i.Readable=n(92),i.Writable=n(208),i.Duplex=n(209),i.Transform=n(210),i.PassThrough=n(211),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(71).Buffer,i=n(203);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=i,n=o,a.data.copy(t,n),o+=a.data.length,a=a.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(205),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(23))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,a,o,s,c=1,u={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){a.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},f.clearImmediate=d}function d(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(23),n(38))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(23))},function(e,t,n){e.exports=a;var r=n(131),i=n(57);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(47),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(93)},function(e,t,n){e.exports=n(39)},function(e,t,n){e.exports=n(92).Transform},function(e,t,n){e.exports=n(92).PassThrough},function(e,t,n){(function(e,r){var i=n(132),a=n(216),o=n(217),s=n(220),c=n(223);for(var u in c)t[u]=c[u];function l(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},l.prototype.write=function(e,t,n,r,i,a,o){return this._write(!0,e,t,n,r,i,a,o)},l.prototype.writeSync=function(e,t,n,r,i,a,o){return this._write(!1,e,t,n,r,i,a,o)},l.prototype._write=function(n,a,o,s,c,u,l,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),c=0,s=0),this.strm.avail_in=c,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=u,this.strm.next_out=l,this.flush=a,!n)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return r.nextTick((function(){f._process(),f._after()})),this},l.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},l.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},l.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(e,n,r,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,a,o),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(e,n,r,i,c){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=l}).call(this,n(19).Buffer,n(38))},function(e,t,n){
/*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  */
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(c[s[h]]=n[s[h]])}}return c}},function(e,t){e.exports=function(e){return e&&"object"==Ka(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,i=n(72),a=n(218),o=n(134),s=n(135),c=n(219),u=-2,l=258,h=262,f=103,d=113,p=666;function g(e,t){return e.msg=c[t],t}function v(e){return(e<<1)-(e>4?9:0)}function m(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function x(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,f=e.w_mask,d=e.prev,p=e.strstart+l,g=u[a+o-1],v=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===v&&u[n+o-1]===g&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<p);if(r=l-(p-a),a=p-l,r>o){if(e.match_start=t,o=r,r>=s)break;g=u[a+o-1],v=u[a+o]}}}while((t=d[t&f])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead}function _(e){var t,n,r,a,c,u,l,f,d,p,g=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=g?r-g:0}while(--n);t=n=g;do{r=e.prev[--t],e.prev[t]=r>=g?r-g:0}while(--n);a+=g}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,f=e.strstart+e.lookahead,d=a,p=void 0,(p=u.avail_in)>d&&(p=d),n=0===p?0:(u.avail_in-=p,i.arraySet(l,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=o(u.adler,l,p,f):2===u.state.wrap&&(u.adler=s(u.adler,l,p,f)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function S(e,t){for(var n,r;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=k(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):g(e,u)}function T(e){var t,n=R(e);return 0===n&&((t=e.state).window_size=2*t.w_size,m(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function L(e,t,n,r,a,o){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return g(e,u);8===r&&(r=9);var c=new A;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,T(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,S),new E(4,5,16,8,S),new E(4,6,32,32,S),new E(4,4,16,16,C),new E(8,16,32,32,C),new E(8,16,128,128,C),new E(8,32,128,256,C),new E(32,128,258,1024,C),new E(32,258,258,4096,C)],t.deflateInit=function(e,t){return L(e,t,8,15,8,0)},t.deflateInit2=L,t.deflateReset=T,t.deflateResetKeep=R,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,i,o,c;if(!e||!e.state||t>5||t<0)return e?g(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,x(i,h),0!==i.strstart&&(x(i,e.adler>>>16),x(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&v(t)<=v(n)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var k=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=l){if(_(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+l;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=l-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==k&&4!==k||(i.status=p),1===k||3===k)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(x(i,e.adler>>>16),x(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==d&&t!==p?g(e,u):(e.state=null,t===d?g(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,r,a,s,c,l,h,f,d=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),c=e.avail_in,l=e.next_in,h=e.input,e.avail_in=d,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=h,e.avail_in=c,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(72);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=256,o=286,s=30,c=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var p=new Array(60);i(p);var g=new Array(512);i(g);var v=new Array(256);i(v);var m=new Array(29);i(m);var y,b,w,x=new Array(s);function k(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?g[e]:g[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function A(e,t,n){E(e,n[2*t],n[2*t+1])}function R(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function T(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=c;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=R(a[s]++,s))}}function L(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,o,s,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?A(e,i,t):(A(e,(o=v[i])+a+1,t),0!==(s=u[o])&&E(e,i-=m[o],s),A(e,o=S(--r),n),0!==(s=l[o])&&E(e,r-=x[o],s))}while(c<e.last_lit);A(e,256,t)}function N(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)O(e,a,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,O(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,u=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(a=0;a<=c;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=u[2*u[2*(r=e.heap[n])+1]+1]+1)>g&&(a=g,v++),u[2*r+1]=a,r>l||(e.bl_count[a]++,o=0,r>=p&&(o=d[r-p]),s=u[2*r],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(h[2*r+1]+o)));if(0!==v){do{for(a=g-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,v-=2}while(v>0);for(a=g;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(e,t),T(a,l,e.bl_count)}function F(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,u=4;for(0===o&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<c&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))}function D(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,u=4;for(0===o&&(c=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<c&&i===o)){if(s<u)do{A(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(A(e,i,e.bl_tree),s--),A(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(A(e,17,e.bl_tree),E(e,s-3,3)):(A(e,18,e.bl_tree),E(e,s-11,7));s=0,a=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}}i(x);var B=!1;function z(e,t,n,i){E(e,0+(i?1:0),3),function(e,t,n,i){M(e),C(e,n),C(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){B||(function(){var e,t,n,r,i,a=new Array(16);for(n=0,r=0;r<28;r++)for(m[r]=n,e=0;e<1<<u[r];e++)v[n++]=r;for(v[n-1]=r,i=0,r=0;r<16;r++)for(x[r]=i,e=0;e<1<<l[r];e++)g[i++]=r;for(i>>=7;r<s;r++)for(x[r]=i<<7,e=0;e<1<<l[r]-7;e++)g[256+i++]=r;for(t=0;t<=c;t++)a[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,a[8]++;for(;e<=255;)d[2*e+1]=9,e++,a[9]++;for(;e<=279;)d[2*e+1]=7,e++,a[7]++;for(;e<=287;)d[2*e+1]=8,e++,a[8]++;for(T(d,287,a),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=R(e,5);y=new k(d,u,257,o,c),b=new k(p,l,0,s,c),w=new k(new Array(0),h,0,19,7)}(),B=!0),e.l_desc=new _(e.dyn_ltree,y),e.d_desc=new _(e.dyn_dtree,b),e.bl_desc=new _(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,L(e)},t._tr_stored_block=z,t._tr_flush_block=function(e,t,n,r){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?z(e,t,n,r):4===e.strategy||o===i?(E(e,2+(r?1:0),3),P(e,d,p)):(E(e,4+(r?1:0),3),function(e,t,n,r){var i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*f[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),P(e,e.dyn_ltree,e.dyn_dtree)),L(e),r&&M(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+a+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),A(e,256,d),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(72),i=n(134),a=n(135),o=n(221),s=n(222),c=-2,u=12,l=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):c}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):c}function v(e,t){var n,r;return e?(r=new f,e.state=r,r.window=null,0!==(n=g(e,t))&&(e.state=null),n):c}var m,y,b=!0;function w(e){if(b){var t;for(m=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=m,e.lenbits=9,e.distcode=y,e.distbits=5}function x(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=p,t.inflateReset2=g,t.inflateResetKeep=d,t.inflateInit=function(e){return v(e,15)},t.inflateInit2=v,t.inflate=function(e,t){var n,f,d,p,g,v,m,y,b,k,_,S,C,E,A,R,T,L,M,I,O,P,N,F,D=0,B=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===u&&(n.mode=13),g=e.next_out,d=e.output,m=e.avail_out,p=e.next_in,f=e.input,v=e.avail_in,y=n.hold,b=n.bits,k=v,_=m,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=l;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=l;break}if(b-=4,O=8+(15&(y>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=l;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&y?10:u,y=0,b=0;break;case 2:for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=l;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=l;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,n.check=a(n.check,B,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>v&&(S=v),S&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,p,S,O)),512&n.flags&&(n.check=a(n.check,f,S,p)),v-=S,p+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;S=0;do{O=f[p+S++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&S<v);if(512&n.flags&&(n.check=a(n.check,f,S,p)),v-=S,p+=S,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;S=0;do{O=f[p+S++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&S<v);if(512&n.flags&&(n.check=a(n.check,f,S,p)),v-=S,p+=S,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=l;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=u;break;case 10:for(;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}e.adler=n.check=h(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=m,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=u;case u:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=l}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=l;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(S>v&&(S=v),S>m&&(S=m),0===S)break e;r.arraySet(d,f,p,S,g),v-=S,p+=S,m-=S,g+=S,n.length-=S;break}n.mode=u;break;case 17:for(;b<14;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=l;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.lens[z[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,P){e.msg="invalid code lengths set",n.mode=l;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;R=(D=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&D,!((A=D>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(T<16)y>>>=A,b-=A,n.lens[n.have++]=T;else{if(16===T){for(F=A+2;b<F;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(y>>>=A,b-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=l;break}O=n.lens[n.have-1],S=3+(3&y),y>>>=2,b-=2}else if(17===T){for(F=A+3;b<F;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}b-=A,O=0,S=3+(7&(y>>>=A)),y>>>=3,b-=3}else{for(F=A+7;b<F;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}b-=A,O=0,S=11+(127&(y>>>=A)),y>>>=7,b-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=l;break}for(;S--;)n.lens[n.have++]=O}}if(n.mode===l)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=l;break}if(n.lenbits=9,N={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,P){e.msg="invalid literal/lengths set",n.mode=l;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,P){e.msg="invalid distances set",n.mode=l;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&m>=258){e.next_out=g,e.avail_out=m,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,o(e,_),g=e.next_out,d=e.output,m=e.avail_out,p=e.next_in,f=e.input,v=e.avail_in,y=n.hold,b=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;R=(D=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&D,!((A=D>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(R&&0==(240&R)){for(L=A,M=R,I=T;R=(D=n.lencode[I+((y&(1<<L+M)-1)>>L)])>>>16&255,T=65535&D,!(L+(A=D>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}y>>>=L,b-=L,n.back+=L}if(y>>>=A,b-=A,n.back+=A,n.length=T,0===R){n.mode=26;break}if(32&R){n.back=-1,n.mode=u;break}if(64&R){e.msg="invalid literal/length code",n.mode=l;break}n.extra=15&R,n.mode=22;case 22:if(n.extra){for(F=n.extra;b<F;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;R=(D=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&D,!((A=D>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(0==(240&R)){for(L=A,M=R,I=T;R=(D=n.distcode[I+((y&(1<<L+M)-1)>>L)])>>>16&255,T=65535&D,!(L+(A=D>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}y>>>=L,b-=L,n.back+=L}if(y>>>=A,b-=A,n.back+=A,64&R){e.msg="invalid distance code",n.mode=l;break}n.offset=T,n.extra=15&R,n.mode=24;case 24:if(n.extra){for(F=n.extra;b<F;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=l;break}n.mode=25;case 25:if(0===m)break e;if(S=_-m,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=l;break}S>n.wnext?(S-=n.wnext,C=n.wsize-S):C=n.wnext-S,S>n.length&&(S=n.length),E=n.window}else E=d,C=g-n.offset,S=n.length;S>m&&(S=m),m-=S,n.length-=S;do{d[g++]=E[C++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;d[g++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,y|=f[p++]<<b,b+=8}if(_-=m,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?a(n.check,d,_,g-_):i(n.check,d,_,g-_)),_=m,(n.flags?y:h(y))!==n.check){e.msg="incorrect data check",n.mode=l;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=l;break}y=0,b=0}n.mode=29;case 29:P=1;break e;case l:P=-3;break e;case 31:return-4;default:return c}return e.next_out=g,e.avail_out=m,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,(n.wsize||_!==e.avail_out&&n.mode<l&&(n.mode<27||4!==t))&&x(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(k-=e.avail_in,_-=e.avail_out,e.total_in+=k,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?a(n.check,d,_,e.next_out-_):i(n.check,d,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===_||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:x(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C,E;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),b=g[d&m];t:for(;;){if(d>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))E[a++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(d+=C[r++]<<p,p+=8),x+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=C[r++]<<p,p+=8,d+=C[r++]<<p,p+=8),b=v[d&y];n:for(;;){if(d>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,p<(w&=15)&&(d+=C[r++]<<p,(p+=8)<w&&(d+=C[r++]<<p,p+=8)),(k+=d&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,p-=w,k>(w=a-o)){if((w=k-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,S=f,0===h){if(_+=u-w,w<x){x-=w;do{E[a++]=f[_++]}while(--w);_=a-k,S=E}}else if(h<w){if(_+=u+h-w,(w-=h)<x){x-=w;do{E[a++]=f[_++]}while(--w);if(_=0,h<x){x-=w=h;do{E[a++]=f[_++]}while(--w);_=a-k,S=E}}}else if(_+=h-w,w<x){x-=w;do{E[a++]=f[_++]}while(--w);_=a-k,S=E}for(;x>2;)E[a++]=S[_++],E[a++]=S[_++],E[a++]=S[_++],x-=3;x&&(E[a++]=S[_++],x>1&&(E[a++]=S[_++]))}else{_=a-k;do{E[a++]=E[_++],E[a++]=E[_++],E[a++]=E[_++],x-=3}while(x>2);x&&(E[a++]=E[_++],x>1&&(E[a++]=E[_++]))}break}}break}}while(r<i&&a<s);r-=x=p>>3,d&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}},function(e,t,n){var r=n(72),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,u,l,h,f){var d,p,g,v,m,y,b,w,x,k=f.bits,_=0,S=0,C=0,E=0,A=0,R=0,T=0,L=0,M=0,I=0,O=null,P=0,N=new r.Buf16(16),F=new r.Buf16(16),D=null,B=0;for(_=0;_<=15;_++)N[_]=0;for(S=0;S<c;S++)N[t[n+S]]++;for(A=k,E=15;E>=1&&0===N[E];E--);if(A>E&&(A=E),0===E)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(C=1;C<E&&0===N[C];C++);for(A<C&&(A=C),L=1,_=1;_<=15;_++)if(L<<=1,(L-=N[_])<0)return-1;if(L>0&&(0===e||1!==E))return-1;for(F[1]=0,_=1;_<15;_++)F[_+1]=F[_]+N[_];for(S=0;S<c;S++)0!==t[n+S]&&(h[F[t[n+S]]++]=S);if(0===e?(O=D=h,y=19):1===e?(O=i,P-=257,D=a,B-=257,y=256):(O=o,D=s,y=-1),I=0,S=0,_=C,m=l,R=A,T=0,g=-1,v=(M=1<<A)-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){b=_-T,h[S]<y?(w=0,x=h[S]):h[S]>y?(w=D[B+h[S]],x=O[P+h[S]]):(w=96,x=0),d=1<<_-T,C=p=1<<R;do{u[m+(I>>T)+(p-=d)]=b<<24|w<<16|x|0}while(0!==p);for(d=1<<_-1;I&d;)d>>=1;if(0!==d?(I&=d-1,I+=d):I=0,S++,0==--N[_]){if(_===E)break;_=t[n+h[S]]}if(_>A&&(I&v)!==g){for(0===T&&(T=A),m+=C,L=1<<(R=_-T);R+T<E&&!((L-=N[R+T])<=0);)R++,L<<=1;if(M+=1<<R,1===e&&M>852||2===e&&M>592)return 1;u[g=I&v]=A<<24|R<<16|m-l|0}}return 0!==I&&(u[m+I]=_-T<<24|64<<16|0),f.bits=A,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(19).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function a(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+Ka(e))}function o(e,t){e=a(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,o=0;o<e.length;o++)n=i[255&(n^e[o])]^n>>>8;return-1^n}function s(){return e=o.apply(null,arguments),(t=a(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),s.signed=function(){return o.apply(null,arguments)},s.unsigned=function(){return o.apply(null,arguments)>>>0},e.exports=s},function(e,t,n){var r=n(226),i=n(229);function a(e){return(a="function"==typeof i&&"symbol"==Ka(r)?function(e){return Ka(e)}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":Ka(e)})(e)}function o(t){return"function"==typeof i&&"symbol"===a(r)?e.exports=o=function(e){return a(e)}:e.exports=o=function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":a(e)},o(t)}e.exports=o},function(e,t,n){e.exports=n(227)},function(e,t,n){e.exports=n(228)},function(e,t,n){n(136),n(46),n(41);var r=n(95);e.exports=r.f("iterator")},function(e,t,n){e.exports=n(230)},function(e,t,n){e.exports=n(231),n(249),n(250),n(251),n(252),n(253)},function(e,t,n){n(114),n(88),n(232),n(234),n(235),n(236),n(237),n(136),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248);var r=n(3);e.exports=r.Symbol},function(e,t,n){var r=n(0),i=n(13),a=n(4),o=n(17),s=n(110),c=n(12),u=n(24),l=n(53),h=n(14),f=n(2),d=n(22),p=n(28),g=n(62),v=n(43),m=n(44),y=n(51),b=n(137),w=n(233),x=n(138),k=n(81),_=n(21),S=n(65),C=n(20),E=n(52),A=n(61),R=n(63),T=n(50),L=n(64),M=n(6),I=n(95),O=n(11),P=n(36),N=n(42),F=n(45).forEach,D=R("hidden"),B=M("toPrimitive"),z=N.set,H=N.getterFor("Symbol"),j=Object.prototype,V=i.Symbol,U=i.JSON,q=U&&U.stringify,W=k.f,G=_.f,$=w.f,Z=S.f,Y=A("symbols"),X=A("op-symbols"),K=A("string-to-symbol-registry"),Q=A("symbol-to-string-registry"),J=A("wks"),ee=i.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=o&&c((function(){return 7!=m(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=W(j,t);r&&delete j[t],G(e,t,n),r&&e!==j&&G(j,t,r)}:G,re=function(e,t){var n=Y[e]=m(V.prototype);return z(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},ie=s&&"symbol"==Ka(V.iterator)?function(e){return"symbol"==Ka(e)}:function(e){return Object(e)instanceof V},ae=function e(t,n,r){t===j&&e(X,n,r),f(t);var i=g(n,!0);return f(r),u(Y,i)?(r.enumerable?(u(t,D)&&t[D][i]&&(t[D][i]=!1),r=m(r,{enumerable:v(0,!1)})):(u(t,D)||G(t,D,v(1,{})),t[D][i]=!0),ne(t,i,r)):G(t,i,r)},oe=function(e,t){f(e);var n=p(t),r=y(n).concat(le(n));return F(r,(function(t){o&&!se.call(n,t)||ae(e,t,n[t])})),e},se=function(e){var t=g(e,!0),n=Z.call(this,t);return!(this===j&&u(Y,t)&&!u(X,t))&&(!(n||!u(this,t)||!u(Y,t)||u(this,D)&&this[D][t])||n)},ce=function(e,t){var n=p(e),r=g(t,!0);if(n!==j||!u(Y,r)||u(X,r)){var i=W(n,r);return!i||!u(Y,r)||u(n,D)&&n[D][r]||(i.enumerable=!0),i}},ue=function(e){var t=$(p(e)),n=[];return F(t,(function(e){u(Y,e)||u(T,e)||n.push(e)})),n},le=function(e){var t=e===j,n=$(t?X:p(e)),r=[];return F(n,(function(e){!u(Y,e)||t&&!u(j,e)||r.push(Y[e])})),r};s||(E((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function e(n){this===j&&e.call(X,n),u(this,D)&&u(this[D],t)&&(this[D][t]=!1),ne(this,t,v(1,n))};return o&&te&&ne(j,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return H(this).tag})),S.f=se,_.f=ae,k.f=ce,b.f=w.f=ue,x.f=le,o&&(G(V.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||E(j,"propertyIsEnumerable",se,{unsafe:!0})),I.f=function(e){return re(M(e),e)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:V}),F(y(J),(function(e){O(e)})),r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(K,t))return K[t];var n=V(t);return K[t]=n,Q[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(Q,e))return Q[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!o},{create:function(e,t){return void 0===t?m(e):oe(m(e),t)},defineProperty:ae,defineProperties:oe,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ue,getOwnPropertySymbols:le}),r({target:"Object",stat:!0,forced:c((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(d(e))}}),U&&r({target:"JSON",stat:!0,forced:!s||c((function(){var e=V();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(h(t)||void 0!==e)&&!ie(e))return l(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),r[1]=t,q.apply(U,r)}}),V.prototype[B]||C(V.prototype,B,V.prototype.valueOf),P(V,"Symbol"),T[D]=!0},function(e,t,n){var r=n(28),i=n(137).f,a={}.toString,o="object"==("undefined"==typeof window?"undefined":Ka(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){n(11)("asyncIterator")},function(e,t){},function(e,t,n){n(11)("hasInstance")},function(e,t,n){n(11)("isConcatSpreadable")},function(e,t,n){n(11)("match")},function(e,t,n){n(11)("matchAll")},function(e,t,n){n(11)("replace")},function(e,t,n){n(11)("search")},function(e,t,n){n(11)("species")},function(e,t,n){n(11)("split")},function(e,t,n){n(11)("toPrimitive")},function(e,t,n){n(11)("toStringTag")},function(e,t,n){n(11)("unscopables")},function(e,t,n){n(36)(Math,"Math",!0)},function(e,t,n){var r=n(13);n(36)(r.JSON,"JSON",!0)},function(e,t,n){n(11)("asyncDispose")},function(e,t,n){n(11)("dispose")},function(e,t,n){n(11)("observable")},function(e,t,n){n(11)("patternMatch")},function(e,t,n){n(11)("replaceAll")},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){e.exports=n(256)},function(e,t,n){e.exports=n(257)},function(e,t,n){n(258);var r=n(3);e.exports=r.Object.getPrototypeOf},function(e,t,n){var r=n(0),i=n(12),a=n(22),o=n(66),s=n(109);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){e.exports=n(260)},function(e,t,n){n(261);var r=n(3);e.exports=r.Object.setPrototypeOf},function(e,t,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(86)})},function(e,t,n){e.exports=n(263)},function(e,t,n){n(264);var r=n(3).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(0)({target:"Object",stat:!0,sham:!n(17)},{create:n(44)})},function(e,t,n){var r=n(140),i=n(266),a=n(27),o=n(96),s=n(295),c=n(300);function u(t){var n="function"==typeof i?new i:void 0;return e.exports=u=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return c(e,arguments,a(this).constructor)}return t.prototype=r(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},u(t)}e.exports=u},function(e,t,n){e.exports=n(267)},function(e,t,n){e.exports=n(268),n(273),n(275),n(277),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294)},function(e,t,n){n(269),n(88),n(46),n(41);var r=n(3);e.exports=r.Map},function(e,t,n){var r=n(270),i=n(272);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i,!0)},function(e,t,n){var r=n(0),i=n(13),a=n(141),o=n(12),s=n(20),c=n(8),u=n(89),l=n(14),h=n(36),f=n(21).f,d=n(45).forEach,p=n(17),g=n(42),v=g.set,m=g.getterFor;e.exports=function(e,t,n,g,y){var b,w=i[e],x=w&&w.prototype,k=g?"set":"add",_={};if(p&&"function"==typeof w&&(y||x.forEach&&!o((function(){(new w).entries().next()})))){b=t((function(t,n){v(u(t,b,e),{type:e,collection:new w}),null!=n&&c(n,t[k],t,g)}));var S=m(e);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;e in x&&(!y||"clear"!=e)&&s(b.prototype,e,(function(n,r){var i=S(this).collection;if(!t&&y&&!l(n))return"get"==e&&void 0;var a=i[e](0===n?0:n,r);return t?this:a}))})),y||f(b.prototype,"size",{get:function(){return S(this).collection.size}})}else b=n.getConstructor(t,e,g,k),a.REQUIRED=!0;return h(b,e,!1,!0),_[e]=b,r({global:!0,forced:!0},_),y||n.setStrong(b,e,g),b}},function(e,t,n){var r=n(12);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(21).f,i=n(44),a=n(117),o=n(15),s=n(89),c=n(8),u=n(80),l=n(118),h=n(17),f=n(141).fastKey,d=n(42),p=d.set,g=d.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=r&&c(r,e[u],e,n)})),d=g(t),v=function(e,t,n){var r,i,a=d(e),o=m(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),h?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},m=function(e,t){var n,r=d(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=d(this),n=m(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=d(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),a(l.prototype,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){n(0)({target:"Map",stat:!0},{from:n(274)})},function(e,t,n){var r=n(5),i=n(15),a=n(8);e.exports=function(e){var t,n,o,s,c=arguments.length,u=c>1?arguments[1]:void 0;return r(this),(t=void 0!==u)&&r(u),null==e?new this:(n=[],t?(o=0,s=i(u,c>2?arguments[2]:void 0,2),a(e,(function(e){n.push(s(e,o++))}))):a(e,n.push,n),new this(n))}},function(e,t,n){n(0)({target:"Map",stat:!0},{of:n(276)})},function(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},function(e,t,n){var r=n(0),i=n(4),a=n(278);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},function(e,t,n){var r=n(2),i=n(5);e.exports=function(){for(var e,t=r(this),n=i(t.delete),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(15),s=n(25),c=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!c(n,(function(e,n){if(!r(n,e,t))return c.stop()}),void 0,!0,!0).stopped}})},function(e,t,n){var r=n(0),i=n(4),a=n(26),o=n(2),s=n(5),c=n(15),u=n(55),l=n(25),h=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=l(t),r=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Map"))),f=s(i.set);return h(n,(function(e,n){r(n,e,t)&&f.call(i,e,n)}),void 0,!0,!0),i}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(15),s=n(25),c=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(e,n){if(r(n,e,t))return c.stop(n)}),void 0,!0,!0).result}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(15),s=n(25),c=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(e,n){if(r(n,e,t))return c.stop(e)}),void 0,!0,!0).result}})},function(e,t,n){var r=n(0),i=n(8),a=n(5);r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;a(t);var r=a(n.has),o=a(n.get),s=a(n.set);return i(e,(function(e){var i=t(e);r.call(n,i)?o.call(n,i).push(e):s.call(n,i,[e])})),n}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(25),s=n(285),c=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return c(o(a(this)),(function(t,n){if(s(n,e))return c.stop()}),void 0,!0,!0).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(0),i=n(8),a=n(5);r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;a(t);var r=a(n.set);return i(e,(function(e){r.call(n,t(e),e)})),n}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(25),s=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(o(a(this)),(function(t,n){if(n===e)return s.stop(t)}),void 0,!0,!0).result}})},function(e,t,n){var r=n(0),i=n(4),a=n(26),o=n(2),s=n(5),c=n(15),u=n(55),l=n(25),h=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=o(this),n=l(t),r=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Map"))),f=s(i.set);return h(n,(function(e,n){f.call(i,r(n,e,t),n)}),void 0,!0,!0),i}})},function(e,t,n){var r=n(0),i=n(4),a=n(26),o=n(2),s=n(5),c=n(15),u=n(55),l=n(25),h=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=o(this),n=l(t),r=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Map"))),f=s(i.set);return h(n,(function(e,n){f.call(i,e,r(n,e,t))}),void 0,!0,!0),i}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(5),s=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){for(var t=a(this),n=o(t.set),r=0;r<arguments.length;)s(arguments[r++],n,t,!0);return t}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(5),s=n(25),c=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t,n,r=a(this),i=s(r);if(o(e),arguments.length>1)t=arguments[1];else{if((n=i.next()).done)throw TypeError("Reduce of empty map with no initial value");t=n.value[1]}return c(i,(function(n,i){t=e(t,i,n,r)}),void 0,!0,!0),t}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(15),s=n(25),c=n(8);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(e,n){if(r(n,e,t))return c.stop()}),void 0,!0,!0).stopped}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(5);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=a(this),r=arguments.length;o(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):o(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},function(e,t,n){var r=n(0),i=n(4),a=n(2),o=n(5);r({target:"Map",proto:!0,real:!0,forced:i},{updateOrInsert:function(e,t,n){var r=a(this);o(t),o(n);var i=r.has(e)?t(r.get(e)):n();return r.set(e,i),i}})},function(e,t,n){var r=n(296);e.exports=function(e){var t;return-1!==r(t=Function.toString.call(e)).call(t,"[native code]")}},function(e,t,n){e.exports=n(297)},function(e,t,n){e.exports=n(143)},function(e,t,n){n(299);var r=n(18);e.exports=r("Array").indexOf},function(e,t,n){var r=n(0),i=n(82).indexOf,a=n(54),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:s||c},{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(301),i=n(305),a=n(96);function o(t,n,s){return function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(i(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=i:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(r(Function).apply(e,i));return n&&a(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){e.exports=n(302)},function(e,t,n){e.exports=n(144)},function(e,t,n){n(304);var r=n(18);e.exports=r("Function").bind},function(e,t,n){n(0)({target:"Function",proto:!0},{bind:n(145)})},function(e,t,n){e.exports=n(306)},function(e,t,n){e.exports=n(307)},function(e,t,n){n(308);var r=n(3);e.exports=r.Reflect.construct},function(e,t,n){var r=n(0),i=n(26),a=n(5),o=n(2),s=n(14),c=n(44),u=n(145),l=n(12),h=i("Reflect","construct"),f=l((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),d=!l((function(){h((function(){}))})),p=f||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var i=n.prototype,l=c(s(i)?i:Object.prototype),p=Function.apply.call(e,l,t);return s(p)?p:l}})},function(e,t,n){(function(t){var r=n(1),i=r(n(97)),a=r(n(7)),o=r(n(10)),s=n(9).CramMalformedError,c=n(73),u=n(315),l=n(316),h=n(317),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,a.default)(this,e),this._buffer=t,this._position=n,this.length=t.length}return(0,o.default)(e,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),e}();e.exports={uncompress:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return(0,i.default)(n).call(n,0),n;var a=new f(e,r),o=a.get();if(0!==o&&1!==o)throw new s("Invalid rANS order ".concat(o));if(a.getInt()!==a.remaining()-4)throw new s("Incorrect input length.");var d=a.getInt(),p=new f(n||t.allocUnsafe(d));if(p.length<d)throw new s("Output buffer too small to fit ".concat(d," bytes."));switch(o){case 0:return function(e,t){for(var n=new c.AriDecoder,r=new Array(256),i=0;i<r.length;i+=1)r[i]=new c.Symbol;return u.readStatsO0(e,n,r),l.uncompress(e,n,r,t),t}(a,p);case 1:return function(e,t){for(var n=new Array(256),r=0;r<n.length;r+=1)n[r]=new c.AriDecoder;for(var i=new Array(256),a=0;a<i.length;a+=1){i[a]=new Array(256);for(var o=0;o<i[a].length;o+=1)i[a][o]=new c.Symbol}return u.readStatsO1(e,n,i),h.uncompress(e,t,n,i),t}(a,p);default:throw new s("Invalid rANS order: ".concat(o))}}}}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(311)},function(e,t,n){var r=n(312),i=Array.prototype;e.exports=function(e){var t=e.fill;return e===i||e instanceof Array&&t===i.fill?r:t}},function(e,t,n){n(313);var r=n(18);e.exports=r("Array").fill},function(e,t,n){var r=n(0),i=n(314),a=n(78);r({target:"Array",proto:!0},{fill:i}),a("fill")},function(e,t,n){var r=n(22),i=n(84),a=n(29);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(1)(n(97)),i=n(9).CramMalformedError,a=n(74),o=n(73);function s(e){if(!e)throw new i("assertion failed")}e.exports={readStatsO0:function(e,t,n){var i=0,c=0,u=255&e.get();do{var l;null==t.fc[u]&&(t.fc[u]=new o.FC),t.fc[u].F=255&e.get(),t.fc[u].F>=128&&(t.fc[u].F&=-129,t.fc[u].F=(127&t.fc[u].F)<<8|255&e.get()),t.fc[u].C=c,o.symbolInit(n[u],t.fc[u].C,t.fc[u].F),t.R||(t.R=new Array(a.TOTFREQ)),(0,r.default)(l=t.R).call(l,u,c,c+t.fc[u].F),c+=t.fc[u].F,0===i&&u+1===(255&e.getByteAt(e.position()))?(u=255&e.get(),i=255&e.get()):0!==i?(i-=1,u+=1):u=255&e.get()}while(0!==u);s(c<a.TOTFREQ)},readStatsO1:function(e,t,n){var i=0,c=255&e.get();do{var u=0,l=0,h=255&e.get();null==t[c]&&(t[c]=new o.AriDecoder);do{var f;null==t[c].fc[h]&&(t[c].fc[h]=new o.FC),t[c].fc[h].F=255&e.get(),t[c].fc[h].F>=128&&(t[c].fc[h].F&=-129,t[c].fc[h].F=(127&t[c].fc[h].F)<<8|255&e.get()),t[c].fc[h].C=l,0===t[c].fc[h].F&&(t[c].fc[h].F=a.TOTFREQ),null==n[c][h]&&(n[c][h]=new o.RansDecSymbol),o.symbolInit(n[c][h],t[c].fc[h].C,t[c].fc[h].F),null==t[c].R&&(t[c].R=new Array(a.TOTFREQ)),(0,r.default)(f=t[c].R).call(f,h,l,l+t[c].fc[h].F),s((l+=t[c].fc[h].F)<=a.TOTFREQ),0===u&&h+1===(255&e.getByteAt(e.position()))?(h=255&e.get(),u=255&e.get()):0!==u?(u-=1,h+=1):h=255&e.get()}while(0!==h);0===i&&c+1===(255&e.getByteAt(e.position()))?(c=255&e.get(),i=255&e.get()):0!==i?(i-=1,c+=1):c=255&e.get()}while(0!==c)}}},function(e,t,n){var r=n(9).CramMalformedError,i=n(74),a=n(73);e.exports={uncompress:function(e,t,n,o){for(var s,c=e.getInt(),u=e.getInt(),l=e.getInt(),h=e.getInt(),f=o.remaining(),d=-4&f,p=0;p<d;p+=4){var g=t.R[a.get(c,i.TF_SHIFT)],v=t.R[a.get(u,i.TF_SHIFT)],m=t.R[a.get(l,i.TF_SHIFT)],y=t.R[a.get(h,i.TF_SHIFT)];o.putAt(p,g),o.putAt(p+1,v),o.putAt(p+2,m),o.putAt(p+3,y),c=a.advanceSymbolStep(c,n[255&g],i.TF_SHIFT),u=a.advanceSymbolStep(u,n[255&v],i.TF_SHIFT),l=a.advanceSymbolStep(l,n[255&m],i.TF_SHIFT),h=a.advanceSymbolStep(h,n[255&y],i.TF_SHIFT),c=a.renormalize(c,e),u=a.renormalize(u,e),l=a.renormalize(l,e),h=a.renormalize(h,e)}switch(o.setPosition(d),3&f){case 0:break;case 1:s=t.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),o.put(s);break;case 2:s=t.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),o.put(s),s=t.R[a.get(u,i.TF_SHIFT)],a.advanceSymbol(u,e,n[255&s],i.TF_SHIFT),o.put(s);break;case 3:s=t.R[a.get(c,i.TF_SHIFT)],a.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),o.put(s),s=t.R[a.get(u,i.TF_SHIFT)],a.advanceSymbol(u,e,n[255&s],i.TF_SHIFT),o.put(s),s=t.R[a.get(l,i.TF_SHIFT)],a.advanceSymbol(l,e,n[255&s],i.TF_SHIFT),o.put(s);break;default:throw new r("invalid output size encountered during rANS decoding")}o.setPosition(0)}}},function(e,t,n){var r=n(74),i=n(73);e.exports={uncompress:function(e,t,n,a){for(var o=t.remaining(),s=e.getInt(),c=e.getInt(),u=e.getInt(),l=e.getInt(),h=o>>2,f=0,d=h,p=2*h,g=3*h,v=0,m=0,y=0,b=0;f<h;f+=1,d+=1,p+=1,g+=1){var w=255&n[v].R[i.get(s,r.TF_SHIFT)],x=255&n[m].R[i.get(c,r.TF_SHIFT)],k=255&n[y].R[i.get(u,r.TF_SHIFT)],_=255&n[b].R[i.get(l,r.TF_SHIFT)];t.putAt(f,w),t.putAt(d,x),t.putAt(p,k),t.putAt(g,_),s=i.advanceSymbolStep(s,a[v][w],r.TF_SHIFT),c=i.advanceSymbolStep(c,a[m][x],r.TF_SHIFT),u=i.advanceSymbolStep(u,a[y][k],r.TF_SHIFT),l=i.advanceSymbolStep(l,a[b][_],r.TF_SHIFT),s=i.renormalize(s,e),c=i.renormalize(c,e),u=i.renormalize(u,e),l=i.renormalize(l,e),v=w,m=x,y=k,b=_}for(;g<o;g+=1){var S=255&n[b].R[i.get(l,r.TF_SHIFT)];t.putAt(g,S),l=i.advanceSymbol(l,e,a[b][S],r.TF_SHIFT),b=S}}}},function(e,t,n){var r=n(1),i=r(n(98)),a=r(n(16)),o=r(n(75)),s=n(326).Parser,c=(new s).itf8(),u={parser:(new s).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},l={parser:(new s).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},h={parser:(new s).uint32("crc32"),maxLength:4},f=(new s).itf8("size").buffer("ents",{length:"size",formatter:function(e){function t(t,n){for(var r=e.toString("utf8",t,n),i=[],a=0;a<r.length;a+=3)i.push(r.substr(a,3));return i}var n,r=[],i=0;for(n=0;n<e.length;n+=1)e[n]||(r.push(t(i,n)),i=n+1);return n>i&&r.push(t(i,n)),r}}),d=(new s).uint8(null,{formatter:function(e){return!!e}}),p=(new s).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new s).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:d,UI:d,PI:d,RN:d,AP:d,RR:d,SM:(new s).array(null,{type:"uint8",length:5}),TD:(new s).nest(null,{type:f,formatter:function(e){return e.ents}})}})});function g(e){for(var t={},n=0;n<e.ents.length;n+=1){var r=e.ents[n],i=r.key,a=r.value;t[i]&&console.warn("duplicate key ".concat(i," in map")),t[i]=a}return t}var v={cramFileDefinition:u,cramBlockHeader:l,cramBlockCrc32:h},m={cramUnmappedSliceHeader:function(e){var t=0,n=(new s).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:c,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new s).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:c,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new s).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new s,1:(new s).itf8("blockContentId"),2:(new s).itf8("offset").itf8("M"),3:s.start().itf8("numCodes").array("symbols",{length:"numCodes",type:c}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:c}),4:s.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new s).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new s).itf8("offset").itf8("length"),7:(new s).itf8("offset").itf8("K"),8:(new s).itf8("offset").itf8("log2m"),9:(new s).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new s).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new s).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new s).itf8("mapSize").itf8("mapCount").array("ents",{length:"mapCount",type:(new s).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new s;return{parser:t=t.nest("preservation",{type:p,formatter:g}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:g}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:g})}},cramContainerHeader1:function(e){var t=(new s).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new s).itf8("numLandmarks").array("landmarks",{type:(new s).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:u,getSectionParsers:function(e){var t,n=(0,o.default)({},v);return(0,a.default)(t=(0,i.default)(m)).call(t,(function(t){n[t]=m[t](e)})),n}}},function(e,t,n){e.exports=n(320)},function(e,t,n){n(321);var r=n(3);e.exports=r.Object.keys},function(e,t,n){var r=n(0),i=n(22),a=n(51);r({target:"Object",stat:!0,forced:n(12)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},function(e,t,n){e.exports=n(323)},function(e,t,n){n(324);var r=n(3);e.exports=r.Object.assign},function(e,t,n){var r=n(0),i=n(325);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){var r=n(17),i=n(12),a=n(51),o=n(138),s=n(65),c=n(22),u=n(60),l=Object.assign;e.exports=!l||i((function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=a(l({},t)).join("")}))?function(e,t){for(var n=c(e),i=arguments.length,l=1,h=o.f,f=s.f;i>l;)for(var d,p=u(arguments[l++]),g=h?a(p).concat(h(p)):a(p),v=g.length,m=0;v>m;)d=g[m++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:l},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==Ka(Symbol.iterator)?function(e){return Ka(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ka(e)})(e)}var i=n(327),a=n(328).Context,o=n(146);"undefined"!=typeof window&&(window.Buffer=e),"undefined"!=typeof self&&(self.Buffer=e);var s={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8,UInt64:8,Int64:8},c={},u=[];!function(){var e;for(e=1;e<=32;e++)u.push(e)}();var l={};Object.keys(s).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach((function(e){l[e.toLowerCase()]=e}));var h=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};h.start=function(){return new h},Object.keys(s).forEach((function(e){h.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in h.prototype||(h.prototype[t]=function(e,n){return this[t+this.endian](e,n)})})),u.forEach((function(e){h.prototype["bit".concat(e.toString())]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}})),h.prototype.namely=function(e){return c[e]=this,this.alias=e,this},h.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},h.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},h.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},h.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!c[t.type]&&Object.keys(s).indexOf(l[t.type])<0)throw new Error('Specified primitive type "'.concat(t.type,'" is not supported.'));return this.setNextParser("array",e,t)},h.prototype.choice=function(e,t){if(1===arguments.length&&"object"===r(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach((function(n){if(!t.choices[n])throw new Error("Choice Case ".concat(n," of ").concat(e," is not valid."));if("string"==typeof t.choices[n]&&!c[t.choices[n]]&&Object.keys(s).indexOf(l[t.choices[n]])<0)throw new Error('Specified primitive type "'.concat(t.choices[n],'" is not supported.'))}),this),this.setNextParser("choice",e,t)},h.prototype.nest=function(e,t){if(1===arguments.length&&"object"===r(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof h||c[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof h||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},h.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: ".concat(e))}return this},h.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},h.prototype.getCode=function(){var e=new a;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},h.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},h.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},h.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((function(t){c[t].addAliasedCode(e)}))},h.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { ".concat(this.getCode()," })");this.compiled=i.runInThisContext(e)},h.prototype.sizeOf=function(){var e=NaN;if(Object.keys(s).indexOf(this.type)>=0)e=s[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=s[l[this.options.type]]:this.options.type instanceof h&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},h.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,o)},h.prototype.setNextParser=function(e,t,n){var r=new h;return r.type=l[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},h.prototype.generate=function(e){this.type&&(this["generate".concat(this.type)](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},h.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(r(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},h.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(s).forEach((function(e){h.prototype["generate".concat(e)]=function(t){"UInt64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), true, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):"Int64"===e?t.pushCode("{0} = Long.fromBytes(buffer.slice(offset,offset+8), false, this.endian === 'le').toNumber();",t.generateVariable(this.varName),e):t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",s[e])}})),h.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach((function(e){n+=e.options.length}));var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var i=e.generateTmpVariable(),a=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",a),e.pushCode("var {2} = ({0} << 8) | {1};",i,a,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var o=0,s="be"===this.endian;e.bitFields.forEach((function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,s?n-o-t.options.length:o,(1<<t.options.length)-1),o+=t.options.length})),e.bitFields=[]}},h.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},h.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},h.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},h.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),a=e.generateVariable(this.varName),o=e.generateTmpVariable(),u=this.options.key,f="string"==typeof u;if(f?e.pushCode("{0} = {};",a):e.pushCode("{0} = [];",a),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,t),"string"==typeof r)if(c[r]){var d=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",d,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",o,d),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",o,l[r]),e.pushCode("offset += {0};",s[l[r]]);else r instanceof h&&(e.pushCode("var {0} = {};",o),e.pushScope(o),r.generate(e),e.popScope());f?e.pushCode("{0}[{2}.{1}] = {2};",a,u,o):e.pushCode("{0}.push({1});",a,o),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,o)},h.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(c[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),l[n]),e.pushCode("offset += {0};",s[l[n]]);else n instanceof h&&(e.pushPath(t),n.generate(e),e.popPath(t))},h.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach((function(t){var n=this.options.choices[t];Number.isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")}),this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},h.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof h)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(c[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},h.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},h.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},h.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},h.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},h.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},h.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},h.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=h}).call(this,n(19).Buffer)},function(e,t){var n=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},r=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},i=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),a=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function o(){}o.prototype={};var s=t.Script=function(e){if(!(this instanceof s))return new s(e);this.code=e};s.prototype.runInContext=function(e){if(!(e instanceof o))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var s=t.contentWindow,c=s.eval,u=s.execScript;!c&&u&&(u.call(s,"null"),c=s.eval),r(n(e),(function(t){s[t]=e[t]})),r(a,(function(t){e[t]&&(s[t]=e[t])}));var l=n(s),h=c.call(s,this.code);return r(n(s),(function(t){(t in e||-1===function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}(l,t))&&(e[t]=s[t])})),r(a,(function(t){t in e||i(e,t,s[t])})),document.body.removeChild(t),h},s.prototype.runInThisContext=function(){return NE(this.code)},s.prototype.runInNewContext=function(e){var t=s.createContext(e),i=this.runInContext(t);return e&&r(n(t),(function(n){e[n]=t[n]})),i},r(n(s.prototype),(function(e){t[e]=s[e]=function(t){var n=s(t);return n[e].apply(n,[].slice.call(arguments,1))}})),t.isContext=function(e){return e instanceof o},t.createScript=function(e){return t.Script(e)},t.createContext=s.createContext=function(e){var t=new o;return"object"==Ka(e)&&r(n(e),(function(n){t[n]=e[n]})),t}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==Ka(Symbol.iterator)?function(e){return Ka(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ka(e)})(e)}var i=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};i.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},i.prototype.generateOption=function(e){switch(r(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"(".concat(e,").call(").concat(this.generateVariable(),", vars)");default:return}},i.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=i.interpolate.apply(this,e);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error(".concat(t,"), vars); });")):this.pushCode("throw new Error(".concat(t,");"))},i.prototype.generateTmpVariable=function(){return"$tmp".concat(this.tmpVariableCount++)},i.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+="".concat(i.interpolate.apply(this,e),"\n")},i.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},i.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},i.prototype.pushScope=function(e){this.scopes.push([e])},i.prototype.popScope=function(){this.scopes.pop()},i.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},i.prototype.markResolved=function(e){this.references[e].resolved=!0},i.prototype.markRequested=function(e){e.forEach(function(e){this.references[e].requested=!0}.bind(this))},i.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter((function(t){return!e[t].resolved&&!e[t].requested}))},i.interpolate=function(e){var t=/{\d+}/g,n=e.match(t),r=Array.prototype.slice.call(arguments,1);return n&&n.forEach((function(t){var n=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,r[n].toString())})),e},t.Context=i},function(e,t,n){(function(t){var r,i=n(1),a=i(n(16)),o=i(n(75)),s=i(n(37)),c=i(n(30)),u=i(n(31)),l=i(n(7)),h=i(n(10)),f=n(9).CramMalformedError,d=n(58),p=d.itf8Size,g=d.parseItem,v=d.tinyMemoize,m=n(334),y=n(390),b=function(){function e(t,n){(0,l.default)(this,e),this.file=t,this.filePosition=n}var n,r,i,a;return(0,h.default)(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(a=(0,u.default)(c.default.mark((function e(){var t,n,r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.file.getSectionParsers();case 7:return t=e.sent,e.next=10,this.getFirstBlock();case 10:if("COMPRESSION_HEADER"===(n=e.sent).contentType){e.next=13;break}throw new f("invalid content type ".concat(n.contentType," in what is supposed to be the compression header block"));case 13:return r=g(n.content,t.cramCompressionHeader.parser,0,n.contentPosition),n.content=r,e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getFirstBlock",value:(i=(0,u.default)(c.default.mark((function e(){var t;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return t=e.sent,e.abrupt("return",this.file.readBlock(t._endPosition));case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getCompressionScheme",value:(r=(0,u.default)(c.default.mark((function e(){var t;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",new y(t.content));case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new m(this,e,t)}},{key:"_readContainerHeader",value:(n=(0,u.default)(c.default.mark((function e(n){var r,i,a,u,l,h,f,d,v,m,y,b,w;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return r=e.sent,i=r.cramContainerHeader1,a=r.cramContainerHeader2,e.next=6,this.file.stat();case 6:if(u=e.sent,l=u.size,!(n>=l)){e.next=10;break}return e.abrupt("return",void 0);case 10:return h=t.allocUnsafe(i.maxLength),e.next=13,this.file.read(h,0,i.maxLength,n);case 13:if(f=g(h,i.parser),d=p(f.numLandmarks),!(n+f.length>=l)){e.next=18;break}return console.warn((0,s.default)(v=(0,s.default)(m="".concat(this.file,": container header at ")).call(m,n," indicates that the container has length ")).call(v,f.length,", which extends beyond the length of the file. Skipping this container.")),e.abrupt("return",void 0);case 18:return y=t.allocUnsafe(a.maxLength(f.numLandmarks)),e.next=21,this.file.read(y,0,a.maxLength(f.numLandmarks),n+f._size-d);case 21:if(b=g(y,a.parser),!this.file.validateChecksums||void 0===b.crc32){e.next=25;break}return e.next=25,this.file.checkCrc32(n,f._size+b._size-d-4,b.crc32,"container header beginning at position ".concat(n));case 25:return w=(0,o.default)(f,b,{_size:f._size+b._size-d,_endPosition:f._size+b._size-d+n}),e.abrupt("return",w);case 27:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();(0,a.default)(r="getHeader getCompressionHeaderBlock getCompressionScheme".split(" ")).call(r,(function(e){return v(b,e)})),e.exports=b}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(115)},function(e,t,n){var r,i,a,o,s;r=n(332),i=n(147).utf8,a=n(333),o=n(147).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,h=-1732584194,f=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var p=s._ff,g=s._gg,v=s._hh,m=s._ii;for(d=0;d<n.length;d+=16){var y=u,b=l,w=h,x=f;u=p(u,l,h,f,n[d+0],7,-680876936),f=p(f,u,l,h,n[d+1],12,-389564586),h=p(h,f,u,l,n[d+2],17,606105819),l=p(l,h,f,u,n[d+3],22,-1044525330),u=p(u,l,h,f,n[d+4],7,-176418897),f=p(f,u,l,h,n[d+5],12,1200080426),h=p(h,f,u,l,n[d+6],17,-1473231341),l=p(l,h,f,u,n[d+7],22,-45705983),u=p(u,l,h,f,n[d+8],7,1770035416),f=p(f,u,l,h,n[d+9],12,-1958414417),h=p(h,f,u,l,n[d+10],17,-42063),l=p(l,h,f,u,n[d+11],22,-1990404162),u=p(u,l,h,f,n[d+12],7,1804603682),f=p(f,u,l,h,n[d+13],12,-40341101),h=p(h,f,u,l,n[d+14],17,-1502002290),u=g(u,l=p(l,h,f,u,n[d+15],22,1236535329),h,f,n[d+1],5,-165796510),f=g(f,u,l,h,n[d+6],9,-1069501632),h=g(h,f,u,l,n[d+11],14,643717713),l=g(l,h,f,u,n[d+0],20,-373897302),u=g(u,l,h,f,n[d+5],5,-701558691),f=g(f,u,l,h,n[d+10],9,38016083),h=g(h,f,u,l,n[d+15],14,-660478335),l=g(l,h,f,u,n[d+4],20,-405537848),u=g(u,l,h,f,n[d+9],5,568446438),f=g(f,u,l,h,n[d+14],9,-1019803690),h=g(h,f,u,l,n[d+3],14,-187363961),l=g(l,h,f,u,n[d+8],20,1163531501),u=g(u,l,h,f,n[d+13],5,-1444681467),f=g(f,u,l,h,n[d+2],9,-51403784),h=g(h,f,u,l,n[d+7],14,1735328473),u=v(u,l=g(l,h,f,u,n[d+12],20,-1926607734),h,f,n[d+5],4,-378558),f=v(f,u,l,h,n[d+8],11,-2022574463),h=v(h,f,u,l,n[d+11],16,1839030562),l=v(l,h,f,u,n[d+14],23,-35309556),u=v(u,l,h,f,n[d+1],4,-1530992060),f=v(f,u,l,h,n[d+4],11,1272893353),h=v(h,f,u,l,n[d+7],16,-155497632),l=v(l,h,f,u,n[d+10],23,-1094730640),u=v(u,l,h,f,n[d+13],4,681279174),f=v(f,u,l,h,n[d+0],11,-358537222),h=v(h,f,u,l,n[d+3],16,-722521979),l=v(l,h,f,u,n[d+6],23,76029189),u=v(u,l,h,f,n[d+9],4,-640364487),f=v(f,u,l,h,n[d+12],11,-421815835),h=v(h,f,u,l,n[d+15],16,530742520),u=m(u,l=v(l,h,f,u,n[d+2],23,-995338651),h,f,n[d+0],6,-198630844),f=m(f,u,l,h,n[d+7],10,1126891415),h=m(h,f,u,l,n[d+14],15,-1416354905),l=m(l,h,f,u,n[d+5],21,-57434055),u=m(u,l,h,f,n[d+12],6,1700485571),f=m(f,u,l,h,n[d+3],10,-1894986606),h=m(h,f,u,l,n[d+10],15,-1051523),l=m(l,h,f,u,n[d+1],21,-2054922799),u=m(u,l,h,f,n[d+8],6,1873313359),f=m(f,u,l,h,n[d+15],10,-30611744),h=m(h,f,u,l,n[d+6],15,-1560198380),l=m(l,h,f,u,n[d+13],21,1309151649),u=m(u,l,h,f,n[d+4],6,-145523070),f=m(f,u,l,h,n[d+11],10,-1120210379),h=m(h,f,u,l,n[d+2],15,718787259),l=m(l,h,f,u,n[d+9],21,-343485551),u=u+y>>>0,l=l+b>>>0,h=h+w>>>0,f=f+x>>>0}return r.endian([u,l,h,f])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?t.push(n.charAt(i>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
	   * Determine if an object is a Buffer
	   *
	   * @author   Feross Aboukhadijeh <https://feross.org>
	   * @license  MIT
	   */e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var r,i=n(1),a=i(n(148)),o=i(n(76)),s=i(n(150)),c=i(n(37)),u=i(n(30)),l=i(n(31)),h=i(n(7)),f=i(n(10)),d=i(n(99)),p=i(n(16)),g=i(n(77)),v=i(n(59)),m=n(9),y=m.CramMalformedError,b=m.CramBufferOverrunError,w=m.CramArgumentError,x=n(58),k=x.parseItem,_=x.tinyMemoize,S=x.sequenceMD5,C=n(100),E=n(363);function A(e,t,n,r){if(!r)throw new y("could not resolve intra-slice mate pairs, file seems truncated or malformed");var i=!!(r.mate||void 0!==r.mateRecordNumber&&r.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),r.readName=n.readName),n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName),r.mate||void 0!==r.mateRecordNumber||(r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName)),n.flags|=C.BAM_FPAIRED,(0,d.default)(r)&C.BAM_FUNMAP&&(n.flags|=C.BAM_FMUNMAP),(0,d.default)(n)&C.BAM_FUNMAP&&(r.flags|=C.BAM_FMUNMAP),(0,d.default)(r)&C.BAM_FREVERSE&&(n.flags|=C.BAM_FMREVERSE),(0,d.default)(n)&C.BAM_FREVERSE&&(r.flags|=C.BAM_FMREVERSE),void 0===n.templateLength&&(i?function(e,t,n){var r=function t(n){var r=[n];if(n.mateRecordNumber>=0){var i=e[n.mateRecordNumber];if(!i)throw new y("intra-slice mate record not found, this file seems malformed");r.push.apply(r,(0,v.default)(t(i)))}return r}(n),i=(0,g.default)(r).call(r,(function(e){return e.alignmentStart})),a=(0,g.default)(r).call(r,(function(e){return e.alignmentStart+e.readLength-1})),o=Math.max.apply(Math,(0,v.default)(a))-Math.min.apply(Math,(0,v.default)(i))+1;o>=0&&(0,p.default)(r).call(r,(function(e){if(void 0!==e.templateLength)throw new y("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=o}))}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),r=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=r,t.templateLength=r}(n,r)),delete n.mateRecordNumber}var R=function(){function e(t,n){(0,h.default)(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var t,n,r,i,d,v,m,x;return(0,f.default)(e,[{key:"getHeader",value:(x=(0,l.default)(u.default.mark((function e(){var t,n,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return t=e.sent,e.next=5,this.container.getHeader();case 5:return n=e.sent,e.next=8,this.file.readBlock(n._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(r=e.sent).contentType){e.next=13;break}r.content=k(r.content,t.cramMappedSliceHeader.parser,0,n._endPosition),e.next=18;break;case 13:if("UNMAPPED_SLICE_HEADER"!==r.contentType){e.next=17;break}r.content=k(r.content,t.cramUnmappedSliceHeader.parser,0,n._endPosition),e.next=18;break;case 17:throw new y("error reading slice header block, invalid content type ".concat(r._contentType));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"getBlocks",value:(m=(0,l.default)(u.default.mark((function e(){var t,n,r,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:t=e.sent,n=t._endPosition,r=new Array(t.content.numBlocks),i=0;case 6:if(!(i<r.length)){e.next=14;break}return e.next=9,this.file.readBlock(n);case 9:r[i]=e.sent,n=r[i]._endPosition;case 11:i+=1,e.next=6;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getCoreDataBlock",value:(v=(0,l.default)(u.default.mark((function e(){var t;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t=e.sent,e.abrupt("return",t[0]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(d=(0,l.default)(u.default.mark((function e(){var t,n;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t=e.sent,n={},(0,p.default)(t).call(t,(function(e){"EXTERNAL_DATA"===e.contentType&&(n[e.contentId]=e)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getBlockByContentId",value:(i=(0,l.default)(u.default.mark((function e(t){var n;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return n=e.sent,e.abrupt("return",n[t]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getReferenceRegion",value:(r=(0,l.default)(u.default.mark((function e(){var t,n,r,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((t=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(n=e.sent,!(t.refBaseBlockId>=0)){e.next=15;break}if(r=this.getBlockByContentId(t.refBaseBlockId)){e.next=12;break}throw new y("embedded reference specified, but reference block does not exist");case 12:if(!(t.span>r.uncompressedSize)){e.next=14;break}throw new y("Embedded reference is too small");case 14:return e.abrupt("return",{seq:r.data.toString("utf8"),start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 15:if(!n.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(t.refSeqId,t.refSeqStart,t.refSeqStart+t.refSeqSpan-1);case 20:if((i=e.sent).length===t.refSeqSpan){e.next=23;break}throw new w("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:i,start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 24:return e.abrupt("return",void 0);case 25:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords((function(){return!0}))}},{key:"_fetchRecords",value:(n=(0,l.default)(u.default.mark((function e(){var t,n,r,i,a,o,l,h,f,d,p,v,m,w,x,k,_,C,R,T,L,M,I,O=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return t=e.sent,n=t.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return r=e.sent,e.next=9,this.getHeader();case 9:return i=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(a=e.sent,!(n>1&&this.file.options.checkSequenceMD5&&i.content.refSeqId>=0&&"0000000000000000"!==i.content.md5.join(""))){e.next=23;break}return e.next=16,this.getReferenceRegion();case 16:if(!(o=e.sent)){e.next=23;break}if(v=o.seq,m=o.start,w=o.end,x=S(v),k=(0,g.default)(l=i.content.md5).call(l,(function(e){return(e<16?"0":"")+e.toString(16)})).join(""),x===k){e.next=23;break}throw new y((0,c.default)(h=(0,c.default)(f=(0,c.default)(d=(0,c.default)(p="MD5 checksum reference mismatch for ref ".concat(i.content.refSeqId," pos ")).call(p,m,"..")).call(d,w,". recorded MD5: ")).call(f,k,", calculated MD5: ")).call(h,x));case 23:return e.next=25,this.getCoreDataBlock();case 25:_=e.sent,C={lastAlignmentStart:i.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},R=function(e){var t=r.getCodecForDataSeries(e);if(!t)throw new y("no codec defined for ".concat(e," data series"));return t.decode(O,_,a,C)},T=new Array(i.content.numRecords),L=0;case 30:if(!(L<T.length)){e.next=48;break}e.prev=31,T[L]=E(this,R,r,i,_,a,C,n,L),T[L].uniqueId=i.contentPosition+i.content.recordCounter+L+1,e.next=45;break;case 36:if(e.prev=36,e.t0=e.catch(31),!(e.t0 instanceof b)){e.next=44;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),T=(0,s.default)(T).call(T,(function(e){return!!e})),e.abrupt("break",48);case 44:throw e.t0;case 45:L+=1,e.next=30;break;case 48:for(M=0;M<T.length;M+=1)(I=T[M].mateRecordNumber)>=0&&A(T,M,T[M],T[I]);return e.abrupt("return",T);case 50:case"end":return e.stop()}}),e,this,[[31,36]])}))),function(){return n.apply(this,arguments)})},{key:"getRecords",value:(t=(0,l.default)(u.default.mark((function e(t){var n,r,i,c,h,f,d,p,v,m,y,b,w,x,k,_,S=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.container.filePosition+this.containerPosition,(i=this.file.featureCache.get(r))||(i=this._fetchRecords(),this.file.featureCache.set(r,i)),e.t0=s.default,e.next=6,i;case 6:if(e.t1=n=e.sent,e.t2=n,e.t3=t,!(c=(0,e.t0)(e.t1).call(e.t2,e.t3)).length||!this.file.fetchReferenceSequenceCallback){e.next=24;break}return e.next=13,this.getHeader();case 13:if(!((h=e.sent).content.refSeqId>=0||-2===h.content.refSeqId)){e.next=24;break}return d=h.content.refSeqId>=0?h.content.refSeqId:void 0,e.next=18,this.container.getCompressionScheme();case 18:for(p=e.sent,v={},m=0;m<c.length;m+=1)y=void 0!==d?d:c[m].sequenceId,(b=v[y])||(b={id:y,start:c[m].alignmentStart,end:-1/0},v[y]=b),(w=c[m].alignmentStart+(c[m].lengthOnRef||c[m].readLength)-1)>b.end&&(b.end=w),c[m].alignmentStart<b.start&&(b.start=c[m].alignmentStart);return e.next=23,o.default.all((0,g.default)(f=(0,a.default)(v)).call(f,function(){var e=(0,l.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(-1!==t.id&&t.start<=t.end)){e.next=4;break}return e.next=3,S.file.fetchReferenceSequenceCallback(t.id,t.start,t.end);case 3:t.seq=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:for(x=0;x<c.length;x+=1)k=void 0!==d?d:c[x].sequenceId,(_=v[k])&&_.seq&&c[x].addReferenceSequence(_,p);case 24:return e.abrupt("return",c);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();(0,p.default)(r="getHeader getBlocks _getBlocksContentIdIndex".split(" ")).call(r,(function(e){return _(R,e)})),e.exports=R},function(e,t,n){e.exports=n(336)},function(e,t,n){n(337);var r=n(3);e.exports=r.Object.values},function(e,t,n){var r=n(0),i=n(149).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){e.exports=n(339)},function(e,t,n){var r=n(340),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?r:t}},function(e,t,n){n(341);var r=n(18);e.exports=r("Array").filter},function(e,t,n){var r=n(0),i=n(45).filter;r({target:"Array",proto:!0,forced:!n(68)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(343)},function(e,t,n){var r=n(344),i=RegExp.prototype;e.exports=function(e){return!(e===i||e instanceof RegExp)||"flags"in e?e.flags:r(e)}},function(e,t,n){n(345);var r=n(346);e.exports=function(e){return r.call(e)}},function(e,t){},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){e.exports=n(348)},function(e,t,n){var r=n(349),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?r:t}},function(e,t,n){n(350);var r=n(18);e.exports=r("Array").map},function(e,t,n){var r=n(0),i=n(45).map;r({target:"Array",proto:!0,forced:!n(68)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(151);e.exports=function(e){if(r(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){e.exports=n(353)},function(e,t,n){n(354);var r=n(3);e.exports=r.Array.isArray},function(e,t,n){n(0)({target:"Array",stat:!0},{isArray:n(53)})},function(e,t,n){e.exports=n(356)},function(e,t,n){e.exports=n(357)},function(e,t,n){n(46),n(358);var r=n(3);e.exports=r.Array.from},function(e,t,n){var r=n(0),i=n(359);r({target:"Array",stat:!0,forced:!n(121)((function(e){Array.from(e)}))},{from:i})},function(e,t,n){var r=n(15),i=n(22),a=n(120),o=n(119),s=n(29),c=n(87),u=n(90);e.exports=function(e){var t,n,l,h,f=i(e),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=u(f);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||d==Array&&o(y))for(n=new d(t=s(f.length));t>m;m++)c(n,m,v?g(f[m],m):f[m]);else for(h=y.call(f),n=new d;!(l=h.next()).done;m++)c(n,m,v?a(h,g,[l.value,m],!0):l.value);return n.length=m,n}},function(e,t,n){n(41),n(46),e.exports=n(361)},function(e,t,n){var r=n(67),i=n(6),a=n(35),o=i("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){(function(t){var r=n(1),i=r(n(37)),a=r(n(364)),o=r(n(16)),s=r(n(99)),c=r(n(101)),u=r(n(59)),l=r(n(154)),h=r(n(376)),f=r(n(380)),d=r(n(48)),p=r(n(387)),g=n(146),v=n(9),m=v.CramMalformedError,y=v.CramUnimplementedError,b=n(389),w=n(100);function x(e){var t=(0,p.default)(e).call(e,0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function k(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return x(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var r=g.fromBytesLE(n);if(r.greaterThan(f.default)||r.lessThan(h.default))throw new y("integer overflow");return r.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var i=x(n);return(0,l.default)(i.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),r={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!r)throw new m("invalid tag value array type '".concat(t,"'"));for(var i=(0,d.default)(r,2),a=i[0],o=i[1],s=new Array(n),c=5,u=0;u<n;u+=1)s[u]=e[a](c),c+=o;return s}(n);throw new m("Unrecognized tag type ".concat(e))}function _(e){if(e instanceof t)return x(e);if(e.length&&(0,p.default)(e)){if(!e[e.length-1]){var n=(0,p.default)(e).call(e,0);return String.fromCharCode.apply(String,(0,u.default)((0,c.default)(e).call(e,0,n)))}return String.fromCharCode.apply(String,(0,u.default)(e))}return String(e)}e.exports=function(e,t,n,r,c,u,l,h,f){var p=new b;if(p.flags=t("BF"),p.cramFlags=t("CF"),h>1&&-2===r.content.refSeqId?p.sequenceId=t("RI"):p.sequenceId=r.content.refSeqId,p.readLength=t("RL"),p.alignmentStart=t("AP"),n.APdelta&&(p.alignmentStart+=l.lastAlignmentStart),l.lastAlignmentStart=p.alignmentStart,p.readGroupId=t("RG"),n.readNamesIncluded&&(p.readName=_(t("RN"))),p.isDetached()){var g={};g.flags=t("MF"),n.readNamesIncluded||(g.readName=_(t("RN")),p.readName=g.readName),g.sequenceId=t("NS"),g.alignmentStart=t("NP"),((0,s.default)(g)||g.sequenceId>-1)&&(p.mate=g),p.templateSize=t("TS"),(0,s.default)(g)&w.CRAM_M_UNMAP&&(p.flags|=w.BAM_FMUNMAP),(0,s.default)(g)&w.CRAM_M_REVERSE&&(p.flags|=w.BAM_FMREVERSE)}else p.hasMateDownStream()&&(p.mateRecordNumber=t("NF")+f+1);var v=t("TL");if(v<0)throw new m("invalid TL index");for(var y=n.getTagNames(v),x=y.length,S=0;S<x;S+=1){var C=y[S],E=C.substr(0,2),A=C.substr(2,1),R=n.getCodecForTag(C);if(!R)throw new m("no codec defined for auxiliary tag ".concat(C));var T=R.decode(e,c,u,l);p.tags[E]=k(A,T)}if(p.isSegmentUnmapped())if(p.isUnknownBases())p.readBases=null,p.qualityScores=null;else{for(var L=new Array(p.readLength),M=0;M<L.length;M+=1)L[M]=t("BA");if(p.readBases=String.fromCharCode.apply(String,L),p.isPreservingQualityScores()){for(var I=0;I<L.length;I+=1)L[I]=t("QS");p.qualityScores=L}}else{var O,P=t("FN");P&&(p.readFeatures=function(e,t,n,r,i){var a=0,o=e.alignmentStart-1,s=new Array(t);function c(e){var t=(0,d.default)(e,2),r=t[0],i=t[1],a=n(i);return"character"===r?String.fromCharCode(a):"string"===r?a.toString("utf8"):"numArray"===r?a.toArray():a}for(var u=0;u<t;u+=1){var l=String.fromCharCode(n("FC")),h=n("FP"),f={code:l},p={B:["character","BA"],S:["string",i>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[l];if(!p)throw new m('invalid read feature code "'.concat(l,'"'));f.data=c(p);var g={B:["number","QS"]}[l];g&&(f.data=[f.data,c(g)]),a+=h,f.pos=a,o+=h,f.refPos=o,"D"===l||"N"===l?o+=f.data:"I"===l||"S"===l?o-=f.data.length:"i"===l&&(o-=1),s[u]=f}return s}(p,P,t,0,h));var N,F=p.readLength;if(p.readFeatures&&(0,o.default)(O=p.readFeatures).call(O,(function(e){var t=e.code,n=e.data;"D"===t||"N"===t?F+=n:"I"===t||"S"===t?F-=n.length:"i"===t&&(F-=1)})),(0,a.default)(F)&&(console.warn("".concat(p.readName||(0,i.default)(N="".concat(p.sequenceId,":")).call(N,p.alignmentStart)," record has invalid read features")),F=p.readLength),p.lengthOnRef=F,p.mappingQuality=t("MQ"),p.isPreservingQualityScores()){for(var D=new Array(p.readLength),B=0;B<D.length;B+=1)D[B]=t("QS");p.qualityScores=D}}return p}}).call(this,n(19).Buffer)},function(e,t,n){e.exports=n(365)},function(e,t,n){e.exports=n(366)},function(e,t,n){n(367);var r=n(3);e.exports=r.Number.isNaN},function(e,t,n){n(0)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){e.exports=n(369)},function(e,t,n){var r=n(370),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},function(e,t,n){n(371);var r=n(18);e.exports=r("Array").slice},function(e,t,n){var r=n(0),i=n(14),a=n(53),o=n(84),s=n(29),c=n(28),u=n(87),l=n(68),h=n(6)("species"),f=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!l("slice")},{slice:function(e,t){var n,r,l,p=c(this),g=s(p.length),v=o(e,g),m=o(void 0===t?g:t,g);if(a(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(p,v,m);for(r=new(void 0===n?Array:n)(d(m-v,0)),l=0;v<m;v++,l++)v in p&&u(r,l,p[v]);return r.length=l,r}})},function(e,t,n){e.exports=n(373)},function(e,t,n){n(374);var r=n(3);e.exports=r.Number.parseInt},function(e,t,n){var r=n(0),i=n(155);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){var r=n(49),i="["+n(156)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){e.exports=n(377)},function(e,t,n){e.exports=n(378)},function(e,t,n){n(379),e.exports=-9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){e.exports=n(381)},function(e,t,n){e.exports=n(382)},function(e,t,n){n(383),e.exports=9007199254740991},function(e,t,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(385),i=n(153);e.exports=function(e,t){if(i(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,o=!1,s=void 0;try{for(var c,u=r(e);!(a=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return n}}},function(e,t,n){e.exports=n(386)},function(e,t,n){n(41),n(46),e.exports=n(142)},function(e,t,n){e.exports=n(388)},function(e,t,n){e.exports=n(143)},function(e,t,n){var r=n(1),i=r(n(98)),a=r(n(16)),o=r(n(99)),s=r(n(7)),c=r(n(10)),u=r(n(59)),l=n(100),h={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4},f=function(){function e(){(0,s.default)(this,e),this.tags={}}return(0,c.default)(e,[{key:"isPaired",value:function(){return!!((0,o.default)(this)&l.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!((0,o.default)(this)&l.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!((0,o.default)(this)&l.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!((0,o.default)(this)&l.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!((0,o.default)(this)&l.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!((0,o.default)(this)&l.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!((0,o.default)(this)&l.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!((0,o.default)(this)&l.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!((0,o.default)(this)&l.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!((0,o.default)(this)&l.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!((0,o.default)(this)&l.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!((0,o.default)(this)&l.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&l.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&l.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&l.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&l.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var r="",i=n,a=0;r.length<e.readLength;)if(a<e.readFeatures.length){var o=e.readFeatures[a];if("Q"===o.code||"q"===o.code)a+=1;else if(o.pos===r.length+1)if(a+=1,"b"===o.code){var s=o.data.split(","),c=String.fromCharCode.apply(String,(0,u.default)(s));r+=c,i+=c.length}else"B"===o.code?(r+=o.data[0],i+=1):"X"===o.code?(r+=o.sub,i+=1):"I"===o.code?r+=o.data:"D"===o.code?i+=o.data:"i"===o.code?r+=o.data:"N"===o.code?i+=o.data:"S"===o.code?r+=o.data:"P"===o.code||o.code;else if(a<e.readFeatures.length){var l=t.seq.substr(i,e.readFeatures[a].pos-r.length-1);r+=l,i+=l.length}}else{var h=t.seq.substr(i,e.readLength-r.length);r+=h,i+=h.length}return r.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.mate&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",r=" ";this.isRead1()?(n="1",r="2"):this.isRead2()&&(n="2",r="1");var i=[],a=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&a>0&&(a=-a),a>0?(i[0]=e,i[1]=n,i[2]=t,i[3]=r):(i[2]=e,i[3]=n,i[0]=t,i[1]=r),i.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){var n;this.readFeatures&&(0,a.default)(n=this.readFeatures).call(n,(function(n){"X"===n.code&&function(e,t,n,r){if(t){var i=r.refPos-t.start,a=t.seq.charAt(i);a&&(r.ref=a);var o=h[a];void 0===o&&(o=4);var s=n.substitutionMatrix[o][r.data];s&&(r.sub=s)}}(0,e,t,n)})),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e,t=this,n={};return(0,a.default)(e=(0,i.default)(this)).call(e,(function(e){"_"!==e.charAt(0)&&(n[e]=t[e])})),n.readBases=this.getReadBases(),n}}]),e}();e.exports=f},function(e,t,n){var r=n(1),i=r(n(98)),a=r(n(16)),o=r(n(75)),s=r(n(7)),c=r(n(10)),u=n(9).CramMalformedError,l=n(391).instantiateCodec,h={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"},f=function(){function e(t){(0,s.default)(this,e),(0,o.default)(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return(0,c.default)(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=l(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=h[e];if(!n)throw new u("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=l(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e,t=this,n={};return(0,a.default)(e=(0,i.default)(this)).call(e,(function(e){/Cache$/.test(e)||(n[e]=t[e])})),n}}]),e}();e.exports=f},function(e,t,n){var r=n(9).CramUnimplementedError,i=n(392),a=n(413),o=n(414),s=n(415),c=n(416),u=n(417),l={1:a,3:i,4:s,5:o,6:c,7:n(418),9:u};function h(e){return l[e]}e.exports={getCodecClassWithId:h,instantiateCodec:function e(t,n){var i=h("ignore"===n?0:t.codecId);if(!i)throw new r("no codec implemented for codec ID ".concat(t.codecId));return new i(t.parameters,n,e)}}},function(e,t,n){var r=n(1),i=r(n(97)),a=r(n(59)),o=r(n(77)),s=r(n(148)),c=r(n(159)),u=r(n(48)),l=r(n(102)),h=r(n(16)),f=r(n(103)),d=r(n(403)),p=r(n(7)),g=r(n(10)),v=r(n(32)),m=r(n(27)),y=r(n(33)),b=n(9).CramMalformedError,w=function(e){function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,p.default)(this,t),n=(0,v.default)(this,(0,m.default)(t).call(this,r,i)),!(0,d.default)(e=["byte","int"]).call(e,n.dataType))throw new TypeError("".concat(n.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return n.buildCodeBook(),n.buildCodes(),n.buildCaches(),0===n.sortedCodes[0].bitLength&&(n._decode=n._decodeZeroLengthCode),n}return(0,y.default)(t,e),(0,g.default)(t,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=(0,f.default)(t).call(t,(function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol})),this.codeBook={},(0,h.default)(t).call(t,(function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)}))}},{key:"buildCodes",value:function(){var e,t=this;this.codes={};var n=0,r=-1;(0,h.default)(e=(0,l.default)(this.codeBook)).call(e,(function(e){var i=(0,u.default)(e,2),a=i[0],o=i[1];a=(0,c.default)(a,10),(0,h.default)(o).call(o,(function(e){var i={bitLength:a,value:e};r+=1;var o,s,c=a-n;if(r<<=c,i.bitCode=r,n+=c,16843009*((s=(858993459&(s=(o=r)-(o>>1)&1431655765))+(s>>2&858993459))+(s>>4)&252645135)>>24>a)throw new b("Symbol out of range");t.codes[e]=i}))}))}},{key:"buildCaches",value:function(){var e,t,n,r,c,u;this.sortedCodes=(0,f.default)(e=(0,s.default)(this.codes)).call(e,(function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode})),this.sortedByValue=(0,f.default)(t=(0,s.default)(this.codes)).call(t,(function(e,t){return e.value-t.value})),this.sortedValuesByBitCode=(0,o.default)(n=this.sortedCodes).call(n,(function(e){return e.value})),this.sortedBitCodes=(0,o.default)(r=this.sortedCodes).call(r,(function(e){return e.bitCode})),this.sortedBitLengthsByBitCode=(0,o.default)(c=this.sortedCodes).call(c,(function(e){return e.bitLength}));var l=Math.max.apply(Math,(0,a.default)(this.sortedBitCodes));this.bitCodeToValue=(0,i.default)(u=new Array(l+1)).call(u,-1);for(var h=0;h<this.sortedBitCodes.length;h+=1)this.bitCodeToValue[this.sortedCodes[h].bitCode]=h}},{key:"decode",value:function(e,t,n,r){return this._decode(e,t,r.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var r=t.content,i=0,a=0,o=0;o<this.sortedCodes.length;o+=1){var s=this.sortedCodes[o].bitLength;a<<=s-i,a|=this._getBits(r,n,s-i),i=s;var c=this.bitCodeToValue[a];if(c>-1&&this.sortedBitLengthsByBitCode[c]===s)return this.sortedValuesByBitCode[c];for(var u=o;this.sortedCodes[u+1].bitLength===s&&u<this.sortedCodes.length;u+=1)o+=1}throw new b("Huffman symbol not found.")}}]),t}(n(40));e.exports=w},function(e,t,n){e.exports=n(394)},function(e,t,n){n(395);var r=n(3);e.exports=r.parseInt},function(e,t,n){var r=n(0),i=n(155);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){e.exports=n(397)},function(e,t,n){n(398);var r=n(3);e.exports=r.Object.entries},function(e,t,n){var r=n(0),i=n(149).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){e.exports=n(400)},function(e,t,n){var r=n(401),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||e instanceof Array&&t===i.sort?r:t}},function(e,t,n){n(402);var r=n(18);e.exports=r("Array").sort},function(e,t,n){var r=n(0),i=n(5),a=n(22),o=n(12),s=n(54),c=[].sort,u=[1,2,3],l=o((function(){u.sort(void 0)})),h=o((function(){u.sort(null)})),f=s("sort");r({target:"Array",proto:!0,forced:l||!h||f},{sort:function(e){return void 0===e?c.call(a(this)):c.call(a(this),i(e))}})},function(e,t,n){e.exports=n(404)},function(e,t,n){e.exports=n(405)},function(e,t,n){var r=n(406),i=n(408),a=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===a||e instanceof Array&&t===a.includes?r:"string"==typeof e||e===o||e instanceof String&&t===o.includes?i:t}},function(e,t,n){n(407);var r=n(18);e.exports=r("Array").includes},function(e,t,n){var r=n(0),i=n(82).includes,a=n(78);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){n(409);var r=n(18);e.exports=r("String").includes},function(e,t,n){var r=n(0),i=n(410),a=n(49);r({target:"String",proto:!0,forced:!n(412)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(411);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(14),i=n(34),a=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(1),i=r(n(48)),a=r(n(7)),o=r(n(10)),s=r(n(32)),c=r(n(27)),u=r(n(33)),l=n(9),h=l.CramUnimplementedError,f=l.CramMalformedError,d=l.CramBufferOverrunError,p=n(40),g=n(58).parseItf8,v=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,a.default)(this,t),"int"===(e=(0,s.default)(this,(0,c.default)(t).call(this,n,r))).dataType)e._decodeData=e._decodeInt;else{if("byte"!==e.dataType)throw new h("".concat(e.dataType," decoding not yet implemented by EXTERNAL codec"));e._decodeData=e._decodeByte}return e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,a=n[i];if(!a)throw new f("no block found with content ID ".concat(i));var o=r.externalBlocks.getCursor(i);return this._decodeData(a,o)}},{key:"_decodeInt",value:function(e,t){var n=g(e.content,t.bytePosition),r=(0,i.default)(n,2),a=r[0],o=r[1];return t.bytePosition+=o,a}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new d("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),t}(p);e.exports=v},function(e,t,n){var r=n(1),i=r(n(101)),a=r(n(7)),o=r(n(10)),s=r(n(32)),c=r(n(27)),u=r(n(33)),l=n(9),h=l.CramBufferOverrunError,f=l.CramMalformedError,d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,a.default)(this,t),e=(0,s.default)(this,(0,c.default)(t).call(this,n,r)),"byteArray"!==r)throw new TypeError("byteArrayStop codec does not support data type ".concat(r));return e._decode=e._decodeByteArray,e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,a=n[i];if(!a)throw new f("no block found with content ID ".concat(i));var o=r.externalBlocks.getCursor(i);return this._decode(a,o)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,r=this.parameters.stopByte,a=t.bytePosition,o=t.bytePosition;n[o]!==r&&o<n.length;){if(o===n.length)throw new h("byteArrayStop reading beyond length of data buffer?");o+=1}return t.bytePosition=o+1,(0,i.default)(n).call(n,a,o)}}]),t}(n(40));e.exports=d},function(e,t,n){var r,i=n(1),a=i(n(16)),o=i(n(7)),s=i(n(10)),c=i(n(32)),u=i(n(27)),l=i(n(33)),h=n(58).tinyMemoize,f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if((0,o.default)(this,t),(e=(0,c.default)(this,(0,u.default)(t).call(this,n,r))).instantiateCodec=i,"byteArray"!==r)throw new TypeError("byteArrayLength does not support data type ".concat(r));return e}return(0,l.default)(t,e),(0,s.default)(t,[{key:"decode",value:function(e,t,n,r){for(var i=this._getLengthCodec().decode(e,t,n,r),a=this._getDataCodec(),o=new Array(i),s=0;s<i;s+=1)o[s]=a.decode(e,t,n,r);return o}},{key:"_getLengthCodec",value:function(){var e=this.parameters.lengthsEncoding;return this.instantiateCodec(e,"int")}},{key:"_getDataCodec",value:function(){var e=this.parameters.valuesEncoding;return this.instantiateCodec(e,"byte")}}]),t}(n(40));(0,a.default)(r="_getLengthCodec _getDataCodec".split(" ")).call(r,(function(e){return h(f,e)})),e.exports=f},function(e,t,n){var r=n(1),i=r(n(7)),a=r(n(10)),o=r(n(32)),s=r(n(27)),c=r(n(33)),u=n(9).CramUnimplementedError,l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,t),"int"!==(e=(0,o.default)(this,(0,s.default)(t).call(this,n,r))).dataType)throw new u("".concat(e.dataType," decoding not yet implemented by BETA codec"));return e}return(0,c.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,r){return this._getBits(t.content,r.coreBlock,this.parameters.length)-this.parameters.offset}}]),t}(n(40));e.exports=l},function(e,t,n){var r=n(1),i=r(n(7)),a=r(n(10)),o=r(n(32)),s=r(n(27)),c=r(n(33)),u=n(9).CramUnimplementedError,l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,t),"int"!==(e=(0,o.default)(this,(0,s.default)(t).call(this,n,r))).dataType)throw new u("".concat(e.dataType," decoding not yet implemented by GAMMA codec"));return e}return(0,c.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,r){for(var i=1;0===this._getBits(t.content,r.coreBlock,1);)i+=1;return(this._getBits(t.content,r.coreBlock,i-1)|1<<i-1)-this.parameters.offset}}]),t}(n(40));e.exports=l},function(e,t,n){var r=n(1),i=r(n(7)),a=r(n(10)),o=r(n(32)),s=r(n(27)),c=r(n(33)),u=n(9).CramUnimplementedError,l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.default)(this,t),"int"!==(e=(0,o.default)(this,(0,s.default)(t).call(this,n,r))).dataType)throw new u("".concat(e.dataType," decoding not yet implemented by SUBEXP codec"));return e}return(0,c.default)(t,e),(0,a.default)(t,[{key:"decode",value:function(e,t,n,r){for(var i,a,o=0;this._getBits(t.content,r.coreBlock,1);)o+=1;return 0===o?(i=this.parameters.K,a=this._getBits(t.content,r.coreBlock,i)):a=1<<(i=o+this.parameters.K-1)|this._getBits(t.content,r.coreBlock,i),a-this.parameters.offset}}]),t}(n(40));e.exports=l},function(e,t,n){var r=n(420),i=n(422);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(423);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+Ka(e));var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(_||x&&!m[x])){for(var S,C,E=-1,A=0;A<f.length;A++)-1!==(R=b.indexOf(f[A]))&&(-1===E||R<E)&&(E=R);for(-1!==(C=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(S=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(S)),E=-1,A=0;A<h.length;A++){var R;-1!==(R=b.indexOf(h[A]))&&(-1===E||R<E)&&(E=R)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var L=this.hostname.split(/\./),M=(A=0,L.length);A<M;A++){var I=L[A];if(I&&!I.match(d)){for(var O="",P=0,N=I.length;P<N;P++)I.charCodeAt(P)>127?O+="x":O+=I[P];if(!O.match(d)){var F=L.slice(0,A),D=L.slice(A+1),B=I.match(p);B&&(F.push(B[1]),D.unshift(B[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+z,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[k])for(A=0,M=l.length;A<M;A++){var j=l[A];if(-1!==b.indexOf(j)){var V=encodeURIComponent(j);V===j&&(V=escape(j)),b=b.split(j).join(V)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var W=this.search||"";this.path=z+W}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,k=x,_=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=_.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=_.slice(-1)[0],E=(n.host||e.host||_.length>1)&&("."===C||".."===C)||""===C,A=0,R=_.length;R>=0;R--)"."===(C=_[R])?_.splice(R,1):".."===C?(_.splice(R,1),A++):A&&(_.splice(R,1),A--);if(!x&&!k)for(;A--;A)_.unshift("..");!x||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),E&&"/"!==_.join("/").substr(-1)&&_.push("");var T,L=""===_[0]||_[0]&&"/"===_[0].charAt(0);return S&&(n.hostname=n.host=L?"":_.length?_.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),(x=x||n.host&&_.length)&&!L&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;
/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==Ka(r)&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,u=36,l=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(f,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return m(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+g(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=u)e=p(e/35);return p(r+36*e/(e+38))}function _(e){var t,n,r,i,a,o,s,l,h,f,d,g=[],m=e.length,y=0,b=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(a=y,o=1,s=u;i>=m&&v("invalid-input"),((l=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u)>=u||l>p((c-y)/o))&&v("overflow"),y+=l*o,!(l<(h=s<=x?1:s>=x+26?26:s-x));s+=u)o>p(c/(f=u-h))&&v("overflow"),o*=f;x=k(y-a,t=g.length+1,0==a),p(y/t)>c-b&&v("overflow"),b+=p(y/t),y%=t,g.splice(y++,0,b)}return w(g)}function S(e){var t,n,r,i,a,o,s,l,h,f,d,m,y,w,_,S=[];for(m=(e=b(e)).length,t=128,n=0,a=72,o=0;o<m;++o)(d=e[o])<128&&S.push(g(d));for(r=i=S.length,i&&S.push("-");r<m;){for(s=c,o=0;o<m;++o)(d=e[o])>=t&&d<s&&(s=d);for(s-t>p((c-n)/(y=r+1))&&v("overflow"),n+=(s-t)*y,t=s,o=0;o<m;++o)if((d=e[o])<t&&++n>c&&v("overflow"),d==t){for(l=n,h=u;!(l<(f=h<=a?1:h>=a+26?26:h-a));h+=u)_=l-f,w=u-f,S.push(g(x(f+_%w,0))),l=p(_/w);S.push(g(x(l,0))),a=k(n,y,r==i),n=0,++r}++n,++t}return S.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:w},decode:_,encode:S,toASCII:function(e){return y(e,(function(e){return h.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return y(e,(function(e){return l.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(421)(e),n(23))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==Ka(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(424),t.encode=t.stringify=n(425)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,f,d,p,g=e[l].replace(s,"%20"),v=g.indexOf(n);v>=0?(h=g.substr(0,v),f=g.substr(v+1)):(h=g,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(o,d)?i(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch(Ka(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==Ka(e)?a(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?a(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(t){var r=n(1),i=r(n(30)),a=r(n(159)),o=r(n(37)),s=r(n(31)),c=r(n(7)),u=r(n(10)),l=n(427),h=n(428),f=function(){function e(t){var n=this;(0,c.default)(this,e),this.position=0,this.url=t,this.cache=new h({fetch:function(e,t){return n._fetch(e,t)}})}var n,r,f;return(0,u.default)(e,[{key:"_fetch",value:(f=(0,s.default)(i.default.mark((function e(n,r){var s,c,u,h,f,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},r<1/0?c.range=(0,o.default)(u="bytes=".concat(n,"-")).call(u,n+r):r===1/0&&0!==n&&(c.range="bytes=".concat(n,"-")),e.next=4,l(this.url,{method:"GET",headers:c,redirect:"follow",mode:"cors"});case 4:if((200!==(h=e.sent).status||0!==n)&&206!==h.status){e.next=14;break}return e.t0=t,e.next=9,h.arrayBuffer();case 9:return e.t1=e.sent,f=e.t0.from.call(e.t0,e.t1),(d=/\/(\d+)$/.exec(h.headers.get("content-range")))[1]&&(this._stat={size:(0,a.default)(d[1],10)}),e.abrupt("return",f);case 14:throw new Error((0,o.default)(s="HTTP ".concat(h.status," fetching ")).call(s,this.url));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=r;return null===i&&(i=this.position,this.position+=n),this.cache.get(e,t,n,r)}},{key:"readFile",value:(r=(0,s.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=t,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"stat",value:(n=(0,s.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=t.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]),e}();e.exports=f}).call(this,n(19).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];x.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,n){return new Promise((function(r,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new x(i,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=f,e.Request=b,e.Response=x),t.Headers=f,t.Request=b,t.Response=x,t.fetch=_}({})}(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},function(e,t,n){var r=n(1),i=r(n(30)),a=r(n(16)),o=r(n(76)),s=r(n(31)),c=r(n(7)),u=r(n(10)),l=n(94),h=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,a=t.chunkSize,o=void 0===a?32768:a;if((0,c.default)(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=o,this.lruCache=new l({maxSize:Math.floor(i/o)})}var t;return(0,u.default)(e,[{key:"get",value:(t=(0,s.default)(i.default.mark((function e(t,n,r,s){var c,u,l,h,f,d,p,g=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(c=Math.floor(s/this.chunkSize),u=Math.floor((s+r)/this.chunkSize),l=new Array(u-c+1),h=function(e){l[e-c]=g._getChunk(e).then((function(t){return{data:t,chunkNumber:e}}))},f=c;f<=u;f+=1)h(f);return e.next=9,o.default.all(l);case 9:d=e.sent,p=s-d[0].chunkNumber*this.chunkSize,(0,a.default)(d).call(d,(function(e){var i=e.data,a=e.chunkNumber,o=a*g.chunkSize,l=0,h=g.chunkSize,f=n+(a-c)*g.chunkSize-p;a===c&&(f=n,l=p),a===u&&(h=s+r-o),i.copy(t,f,l,h)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}();e.exports=h},function(e,t,n){var r=n(1),i=r(n(30)),a=r(n(31)),o=r(n(7)),s=r(n(10)),c=(n(161).promisify,null),u=function(){function e(t){(0,o.default)(this,e),this.position=0,this.filename=t,this.fd=c(this.filename,"r")}var t,n,r;return(0,s.default)(e,[{key:"read",value:(r=(0,a.default)(i.default.mark((function e(t){var n,r,a,o=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2?o[2]:void 0,null===(a=o.length>3?o[3]:void 0)&&(this.position,this.position+=r),e.t0=null,e.next=8,this.fd;case 8:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r,e.t5=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=(0,a.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=8;break}return e.t0=null,e.next=4,this.fd;case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:this._stat=e.sent;case 8:return e.abrupt("return",this._stat);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();e.exports=u},function(e,t,n){var r=n(1),i=r(n(48)),a=r(n(77)),o=r(n(101)),s=r(n(431)),c=r(n(16));e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return(0,c.default)(t).call(t,(function(e){var t=e.split(/\t/),r=(0,s.default)(t),c=r[0],u=(0,o.default)(r).call(r,1),l=(0,a.default)(u).call(u,(function(e){var t=e.split(":",2),n=(0,i.default)(t,2);return{tag:n[0],value:n[1]}}));c&&n.push({tag:c.substr(1),data:l})})),n}}},function(e,t,n){var r=n(157),i=n(152),a=n(158);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t,n){var r=n(1),i=r(n(30)),a=r(n(103)),o=r(n(150)),s=r(n(48)),c=r(n(102)),u=r(n(16)),l=r(n(59)),h=r(n(76)),f=r(n(37)),d=r(n(77)),p=r(n(433)),g=r(n(31)),v=r(n(7)),m=r(n(10)),y=n(9),b=y.CramUnimplementedError,w=y.CramSizeLimitError,x=n(104),k=function(){function e(t){if((0,v.default)(this,e),t.cram?this.cram=t.cram:this.cram=new x({url:t.cramUrl,path:t.cramPath,filehandle:t.cramFilehandle,seqFetch:t.seqFetch,checkSequenceMD5:t.checkSequenceMD5,cacheSize:t.cacheSize}),!(this.cram instanceof x))throw new Error("invalid arguments: no cramfile");if(this.index=t.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=t.fetchSizeLimit||3e6}var t;return(0,m.default)(e,[{key:"getRecordsForRange",value:(t=(0,g.default)(i.default.mark((function e(t,n,r){var g,v,m,y,x,k,_,S,C,E,A,R,T,L,M,I,O,P,N,F,D,B,z,H,j,V,U,q,W,G,$,Z,Y,X,K,Q=this,J=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((k=J.length>3&&void 0!==J[3]?J[3]:{}).viewAsPairs=k.viewAsPairs||!1,k.pairAcrossChr=k.pairAcrossChr||!1,k.maxInsertSize=k.maxInsertSize||2e5,"string"!=typeof t){e.next=6;break}throw new b("string sequence names not yet supported");case 6:return _=t,e.next=9,this.index.getEntriesForRange(_,n,r);case 9:if(S=e.sent,!((C=(0,p.default)(g=(0,d.default)(S).call(S,(function(e){return e.sliceBytes}))).call(g,(function(e,t){return e+t}),0))>this.fetchSizeLimit)){e.next=13;break}throw new w((0,f.default)(v="data size of ".concat(C.toLocaleString()," bytes exceeded fetch size limit of ")).call(v,this.fetchSizeLimit.toLocaleString()," bytes"));case 13:return E=function(e){return e.sequenceId===t&&e.alignmentStart<=r&&e.alignmentStart+e.lengthOnRef-1>=n},e.next=16,h.default.all((0,d.default)(S).call(S,(function(e){return Q.getRecordsInSlice(e,E)})));case 16:if(A=e.sent,R=(y=(0,f.default)(m=Array.prototype)).call.apply(y,(0,f.default)(x=[m]).call(x,(0,l.default)(A))),!k.viewAsPairs){e.next=42;break}for(I={},O={},P=0;P<R.length;P+=1)N=R[P].readName,F=R[P].uniqueId,I[N]||(I[N]=0),I[N]+=1,O[F]=1;for(D={},(0,u.default)(T=(0,c.default)(I)).call(T,(function(e){var t=(0,s.default)(e,2),n=t[0];1===t[1]&&(D[n]=!0)})),B=[],z=0;z<R.length;z+=1)H=R[z].readName,D[H]&&R[z].mate&&(R[z].mate.sequenceId===_||k.pairAcrossChr)&&Math.abs(R[z].alignmentStart-R[z].mate.alignmentStart)<k.maxInsertSize&&(j=this.index.getEntriesForRange(R[z].mate.sequenceId,R[z].mate.alignmentStart,R[z].mate.alignmentStart+1),B.push(j));return e.next=28,h.default.all(B);case 28:for(V=e.sent,U=[],q=0;q<V.length;q+=1)(W=U).push.apply(W,(0,l.default)(V[q]));if(U=(0,o.default)(L=(0,a.default)(U).call(U,(function(e,t){return e.toString().localeCompare(t.toString())}))).call(L,(function(e,t,n){return!t||e.toString()!==n[t-1].toString()})),G=[],$=[],!((Z=(0,p.default)(M=(0,d.default)(U).call(U,(function(e){return e.sliceBytes}))).call(M,(function(e,t){return e+t}),0))>this.fetchSizeLimit)){e.next=37;break}throw new Error((0,f.default)(Y="mate data size of ".concat(Z.toLocaleString()," bytes exceeded fetch size limit of ")).call(Y,this.fetchSizeLimit.toLocaleString()," bytes"));case 37:return(0,u.default)(U).call(U,(function(e){var t=Q.cram.featureCache.get(e.toString());t||(t=Q.getRecordsInSlice(e,(function(){return!0})),Q.cram.featureCache.set(e.toString(),t)),G.push(t);var n=t.then((function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];D[r.readName]&&!O[r.uniqueId]&&t.push(r)}return t}));$.push(n)})),e.next=40,h.default.all($);case 40:(X=e.sent).length&&(K=(0,p.default)(X).call(X,(function(e,t){return(0,f.default)(e).call(e,t)})),R=(0,f.default)(R).call(R,K));case 42:return e.abrupt("return",R);case 43:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.containerStart,r=e.sliceStart,i=e.sliceBytes;return this.cram.getContainerAtPosition(n).getSlice(r,i).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),e}();e.exports=k},function(e,t,n){e.exports=n(434)},function(e,t,n){e.exports=n(435)},function(e,t,n){var r=n(436),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?r:t}},function(e,t,n){n(437);var r=n(18);e.exports=r("Array").reduce},function(e,t,n){var r=n(0),i=n(438).left;r({target:"Array",proto:!0,forced:n(54)("reduce")},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(5),i=n(22),a=n(60),o=n(29),s=function(e){return function(t,n,s,c){r(n);var u=i(t),l=a(u),h=o(u.length),f=e?h-1:0,d=e?-1:1;if(s<2)for(;;){if(f in l){c=l[f],f+=d;break}if(f+=d,e?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=d)f in l&&(c=n(c,l[f],f,u));return c}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){var r=n(1),i=r(n(30)),a=r(n(31)),o=r(n(103)),s=r(n(102)),c=r(n(16)),u=r(n(154)),l=r(n(440)),h=r(n(48)),f=r(n(442)),d=r(n(37)),p=r(n(75)),g=r(n(7)),v=r(n(10)),m=n(447).default,y=n(94),b=(0,n(161).promisify)(n(126).gunzip),w=n(160).open,x=n(9).CramMalformedError,k=function(){function e(t){(0,g.default)(this,e),(0,p.default)(this,t)}return(0,v.default)(e,[{key:"toString",value:function(){var e,t,n,r;return(0,d.default)(e=(0,d.default)(t=(0,d.default)(n=(0,d.default)(r="".concat(this.start,":")).call(r,this.span,":")).call(n,this.containerStart,":")).call(t,this.sliceStart,":")).call(e,this.sliceBytes)}}]),e}();function _(e,t){if((0,f.default)(t).call(t,(function(e){return void 0===e})))throw new x("invalid .crai index file");var n=(0,h.default)(t,6),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5];e[r]||(e[r]=[]),e[r].push(new k({start:i,span:a,containerStart:o,sliceStart:s,sliceBytes:c}))}var S=function(){function e(t){var n,r=this;(0,g.default)(this,e);var i=w(t.url,t.path,t.filehandle);this._parseCache=new m({cache:new y({maxSize:1}),fill:function(e,t){return r.parseIndex({signal:t})}}),this.readFile=(0,l.default)(n=i.readFile).call(n,i)}var t,n;return(0,v.default)(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then((function(e){return 31===e[0]&&139===e[1]?b(e):e})).then((function(t){var n;if(t.length>4&&21578050===t.readUInt32LE(0))throw new x("invalid .crai index file. note: file appears to be a .bai index. this is technically legal but please open a github issue if you need support");for(var r=[],i="",a=0;a<t.length;a+=1){var l=t[a];if(l>=48&&l<=57||!i&&45===l)i+=String.fromCharCode(l);else if(9===l)r.push((0,u.default)(i,10)),i="";else if(10===l)r.push((0,u.default)(i,10)),i="",_(e,r),r=[];else if(13!==l&&32!==l)throw new x("invalid .crai index file")}return i&&r.push((0,u.default)(i,10)),6===r.length&&_(e,r),(0,c.default)(n=(0,s.default)(e)).call(n,(function(t){var n=(0,h.default)(t,2),r=n[0],i=n[1];e[r]=(0,o.default)(i).call(i,(function(e,t){return e.start-t.start||e.span-t.span}))})),e}))}},{key:"getIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._parseCache.get("index",null,e.signal)}},{key:"hasDataForReferenceSequence",value:(n=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:return e.t0=t,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getEntriesForRange",value:(t=(0,a.default)(i.default.mark((function e(t,n,r){var a,o,s,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(e.t0=t,a=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:for(o=function(e){var t=e.start,i=e.start+e.span;return t>=r?-1:i<=n?1:0},s=[],c=0;c<a.length;c+=1)0===o(a[c])&&s.push(a[c]);return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();e.exports=S},function(e,t,n){e.exports=n(441)},function(e,t,n){e.exports=n(144)},function(e,t,n){e.exports=n(443)},function(e,t,n){e.exports=n(444)},function(e,t,n){var r=n(445),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?r:t}},function(e,t,n){n(446);var r=n(18);e.exports=r("Array").some},function(e,t,n){var r=n(0),i=n(45).some;r({target:"Array",proto:!0,forced:n(54)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(448));t.default=i.default},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(162),a=r(n(450)),o=function(){function e(e){var t=e.fill,n=e.cache;if("function"!=typeof t)throw new TypeError("must pass a fill function");if("object"!=Ka(n))throw new TypeError("must pass a cache object");if("function"!=typeof n.get||"function"!=typeof n.set||"function"!=typeof n.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=n,this.fillCallback=t}return e.isAbortException=function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message},e.prototype.evict=function(e,t){this.cache.get(e)===t&&this.cache.delete(e)},e.prototype.fill=function(e,t,n){var r=this,i=new a.default,o={aborter:i,promise:this.fillCallback(t,i.signal),settled:!1,get aborted(){return this.aborter.signal.aborted}};o.aborter.addSignal(n),o.aborter.signal.addEventListener("abort",(function(){r.evict(e,o)})),o.promise.then((function(){o.settled=!0}),(function(t){o.settled=!0,r.evict(e,o)})).catch((function(e){throw console.error(e),e})),this.cache.set(e,o)},e.checkSinglePromise=function(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((function(e){return n(),e}),(function(e){throw n(),e}))},e.prototype.has=function(e){return this.cache.has(e)},e.prototype.get=function(t,n,r){if(!r&&n instanceof i.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var a=this.cache.get(t);return a?a.aborted?(this.evict(t,a),this.get(t,n,r)):a.settled?a.promise:(a.aborter.addSignal(r),e.checkSinglePromise(a.promise,r)):(this.fill(t,n,r),e.checkSinglePromise(this.cache.get(t).promise,r))},e.prototype.delete=function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))},e.prototype.clear=function(){for(var e=this.cache.keys(),t=0,n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t},e}();t.default=o},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){r(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return a(e,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(t,e)}))},r=this.listeners[e.type],i=0,a=r.length;i<a;i++)n(r[i]);return!e.defaultPrevented}}}]),e}(),h=function(e){function t(){var e;return r(this,t),(e=function(e,t){return!t||"object"!=Ka(t)&&"function"!=typeof t?c(e):t}(this,o(t).call(this))).listeners||l.call(c(e)),Object.defineProperty(c(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(c(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),a(t,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),u(o(t.prototype),"dispatchEvent",this).call(this,e)}}]),t}(l),f=function(){function e(){r(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return a(e,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),t.AbortController=f,t.AbortSignal=h,t.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,i=void 0===r?n.Request:r,a=t.AbortController,o=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==o&&o;if(!function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}({fetch:n,Request:i,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:c};var c=i;(c&&!c.prototype.hasOwnProperty("signal")||s)&&((c=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new i(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var u=n;return{fetch:function(e,t){var n=c&&c.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(e){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([i,u(e,t)])}return u(e,t)},Request:c}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(162),i=function(){},a=function(){function e(){this.signals=new Set,this.abortController=new r.AbortController}return e.prototype.addSignal=function(e){var t=this;if(void 0===e&&(e=new i),this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",(function(){t.handleAborted(e)}))},e.prototype.handleAborted=function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()},Object.defineProperty(e.prototype,"signal",{get:function(){return this.abortController.signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){this.abortController.abort()},e}();t.default=a}]),DE=function(){function e(t,n,r){eo(this,e),this.config=t,this.browser=r,this.genome=n,this.cramFile=new FE.CramFile({filehandle:new BE(t.url,t),seqFetch:t.seqFetch||function(e,t,n){var r=this.genome.sequence,i=this.genome;return this.getHeader().then((function(a){var o=i.getChromosomeName(a.chrNames[e]);return r.getSequence(o,t-1,n)}))}.bind(this),checkSequenceMD5:void 0===t.checkSequenceMD5||t.checkSequenceMD5});var i=new BE(t.indexURL,t);this.indexedCramFile=new FE.IndexedCramFile({cram:this.cramFile,index:new FE.CraiIndex({filehandle:i}),fetchSizeLimit:3e7}),QC.setReaderDefaults(this,t)}var t,n;return no(e,[{key:"getHeader",value:(n=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=50;break}return t=this.genome,e.next=4,this.cramFile.getSamHeader();case 4:n=e.sent,r={},i=[],a={},o=[],s=go(n),e.prev=10,s.s();case 12:if((c=s.n()).done){e.next=41;break}if("SQ"!==(u=c.value).tag){e.next=38;break}l=go(u.data),e.prev=16,l.s();case 18:if((h=l.n()).done){e.next=28;break}if("SN"!==(f=h.value).tag){e.next=26;break}return d=f.value,r[d]=i.length,i.push(d),t&&(p=t.getChromosomeName(d),a[p]=d),e.abrupt("break",28);case 26:e.next=18;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(16),l.e(e.t0);case 33:return e.prev=33,l.f(),e.finish(33);case 36:e.next=39;break;case 38:"RG"===u.tag&&o.push(u.data);case 39:e.next=12;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(10),s.e(e.t1);case 46:return e.prev=46,s.f(),e.finish(46);case 49:this.header={chrNames:i,chrToIndex:r,chrAliasTable:a,readGroups:o};case 50:return e.abrupt("return",this.header);case 51:case"end":return e.stop()}}),e,this,[[10,43,46,49],[16,30,33,36]])}))),function(){return n.apply(this,arguments)})},{key:"readAlignments",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,h,f,d,p,g,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y=function(e,t){var n,r,i=[],a=0,o="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures){var s,c=go(e.readFeatures);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=u.code,h=u.data,f=u.pos-1,d=u.refPos-1;switch(l){case"S":case"I":case"i":case"N":case"D":if(f>a){var p=f-a;i.push(new GC({start:d-p,seqOffset:a,len:p,type:"M"})),a+=p,o+=p+"M"}if("S"===l){var g=d;t.scLengthOnRef+=h.length,0===f&&(t.scStart-=h.length,g-=h.length);var v=h.length;i.push(new GC({start:g,seqOffset:a,len:v,type:"S"})),a+=v,o+=v+l}else if("I"===l||"i"===l){void 0===n&&(n=[]);var m="i"===l?1:h.length;n.push(new GC({start:d,len:m,seqOffset:a,type:"I"})),a+=m,o+=m+l}else"D"!==l&&"N"!==l||(r||(r=[]),r.push({start:d,len:h,type:l}),o+=h+l);break;case"H":case"P":o+=h+l}}}catch(e){c.e(e)}finally{c.f()}}var y=e.readLength-a;y>0&&(i.push(new GC({start:e.alignmentStart+e.lengthOnRef-y-1,seqOffset:a,len:y,type:"M"})),o+=y+"M"),t.blocks=i,t.insertions=n,t.gaps=r,t.cigar=o},m=function(e,t){var n=new zC;if(n.chr=t[e.sequenceId],n.start=e.alignmentStart-1,n.lengthOnRef=e.lengthOnRef,n.flags=e.flags,n.strand=!(16&e.flags),n.fragmentLength=e.templateLength||e.templateSize,n.mq=e.mappingQuality,n.end=e.alignmentStart+e.lengthOnRef,n.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId){var r=void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags);n.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:r}}return n.seq=e.getReadBases(),n.qual=e.qualityScores,n.tagDict=e.tags,n.readName=e.readName,y(e,n),n.mate&&n.start>n.mate.position&&n.fragmentLength>0&&(n.fragmentLength=-n.fragmentLength),QC.setPairOrientation(n),n},e.next=5,this.getHeader();case 5:if(i=e.sent,a=i.chrAliasTable.hasOwnProperty(t)?i.chrAliasTable[t]:t,o=i.chrToIndex[a],s=new IC(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),void 0!==o){e.next=13;break}return e.abrupt("return",s);case 13:return e.prev=13,e.next=16,this.indexedCramFile.getRecordsForRange(o,n,r);case 16:c=e.sent,u=go(c),e.prev=18,u.s();case 20:if((l=u.n()).done){e.next=41;break}if(h=l.value,f=h.sequenceId,d=h.alignmentStart,p=d+h.lengthOnRef,!(f<0)){e.next=29;break}return e.abrupt("continue",39);case 29:if(!(f>o||d>r)){e.next=33;break}return e.abrupt("return");case 33:if(!(f<o)){e.next=35;break}return e.abrupt("continue",39);case 35:if(!(p<n)){e.next=37;break}return e.abrupt("continue",39);case 37:g=m(h,i.chrNames),this.filter.pass(g)&&s.push(g);case 39:e.next=20;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(18),u.e(e.t0);case 46:return e.prev=46,u.f(),e.finish(46);case 49:return s.finish(),e.abrupt("return",s);case 53:throw e.prev=53,e.t1=e.catch(13),(v=e.t1.message)&&v.indexOf("MD5")>=0&&(v="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),Ld.presentAlert(new Error(v)),e.t1;case 59:case"end":return e.stop()}}),e,this,[[13,53],[18,43,46,49]])}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),BE=function(){function e(t,n){var r=this;eo(this,e),this.position=0,this.url=t,this.config=n,this.cache=new zE({fetch:function(e,t){return r._fetch(e,t)}})}var t,n,r,i;return no(e,[{key:"_fetch",value:(i=Ja(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={start:t,size:n},this._stat={size:void 0},e.next=4,$f.loadArrayBuffer(this.url,db(this.config,{range:r}));case 4:return i=e.sent,e.abrupt("return",Buffer.from(i));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"read",value:(r=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2&&void 0!==a[2]?a[2]:1/0,null===(i=a.length>3&&void 0!==a[3]?a[3]:0)&&(this.position,this.position+=r),e.abrupt("return",this.cache.get(t,n,r,i));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f.loadArrayBuffer(this.url,db(this.config));case 2:return t=e.sent,e.abrupt("return",Buffer.from(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return t=Buffer.allocUnsafe(10),e.next=4,this.read(t,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),zE=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,a=t.chunkSize,o=void 0===a?32768:a;eo(this,e),this.fetch=n,this.chunkSize=o,this.lruCache=new HE({maxSize:Math.floor(i/o)})}return no(e,[{key:"get",value:function(){var e=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,c,u,l,h,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),o=Math.floor((i+r)/this.chunkSize),s=new Array(o-a+1),c=function(e){s[e-a]=f._getChunk(e).then((function(t){return{data:t,chunkNumber:e}}))},u=a;u<=o;u+=1)c(u);return e.next=9,Promise.all(s);case 9:l=e.sent,h=i-l[0].chunkNumber*this.chunkSize,l.forEach((function(e){var s=e.data,c=e.chunkNumber,u=c*f.chunkSize,l=0,d=f.chunkSize,p=n+(c-a)*f.chunkSize-h;c===a&&(p=n,l=h),c===o&&(d=i+r-u),s.copy(t,p,l,d)}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}(),HE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(eo(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return no(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=lo(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=lo(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=go(this.oldCache),e.prev=18,i.s();case 20:if((a=i.n()).done){e.next=28;break}if(o=a.value,s=lo(o,1),c=s[0],this.cache.has(c)){e.next=26;break}return e.next=26,o;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=go(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(e){n.e(e)}finally{n.f()}return this._size+t}}]),e}(),jE={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},VE=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new $C(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,e.viewAsPairs?this.pairsSupported=!0:this.pairsSupported=void 0===e.pairsSupported||e.pairsSupported};VE.prototype.readAlignments=function(e,t,n){var r=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then((function(e){if(i.chrAliasTable={},r&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?Hx({url:i.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then((function(e){return e.forEach((function(e){var t=e.name,n=r.getChromosomeName(t);i.chrAliasTable[n]=t})),i.chrAliasTable})):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable}))).then((function(r){var o=r.hasOwnProperty(e)?r[e]:e;return Hx({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:o,start:t,end:n,pageSize:"10000"},decode:a,results:new IC(e,t,n,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})}));function a(e){var t,n,a,o,s,c=e.alignments,u=c.length,l=[];for(t=0;t<u;t++){var h=c[t];(n=new zC).readName=h.fragmentName,n.properPlacement=h.properPlacement,n.duplicateFragment=h.duplicateFragment,n.numberReads=h.numberReads,n.fragmentLength=h.fragmentLength,n.readNumber=h.readNumber,n.failedVendorQualityChecks=h.failedVendorQualityChecks,n.secondaryAlignment=h.secondaryAlignment,n.supplementaryAlignment=h.supplementaryAlignment,n.seq=h.alignedSequence,n.qual=h.alignedQuality,n.matePos=h.nextMatePosition,n.tagDict=h.info,n.flags=0,h.alignment?(n.mapped=!0,n.chr=h.alignment.position.referenceName,r&&(n.chr=r.getChromosomeName(n.chr)),n.start=parseInt(h.alignment.position.position),n.strand=!h.alignment.position.reverseStrand,n.mq=h.alignment.mappingQuality,n.cigar=f(h.alignment.cigar),a=d(h.alignment.cigar),n.lengthOnRef=a.lengthOnRef,s=p(n,a.array),n.blocks=s.blocks,n.insertions=s.insertions):n.mapped=!1,(o=h.nextMatePosition)&&(n.mate={chr:o.referenceFrame,position:parseInt(o.position),strand:!o.reverseStrand}),i.filter.pass(n)&&l.push(n)}return l;function f(e){var t="";return e.forEach((function(e){var n=jE[e.operation],r=e.operationLength;t+=r+n})),t}function d(e){var t,n,r,i,a=0,o=[];for(i=0;i<e.length;i++)t=e[i],r=jE[t.operation],n=parseInt(t.operationLength),"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(a+=n),o.push({len:n,ltr:r});return{lengthOnRef:a,array:o}}function p(e,t){for(var n,r,i,a=[],o=0,s=e.start,c=t.length,u=0;u<c;u++){var l=t[u];switch(l.ltr){case"H":case"P":break;case"S":o+=l.len,i="S";break;case"N":case"D":void 0===n&&(n=[]),n.push({start:s,len:l.len,type:l.ltr}),s+=l.len;break;case"I":void 0===r&&(r=[]),r.push(new GC({start:s,len:l.len,seqOffset:o})),o+=l.len;break;case"M":case"EQ":case"=":case"X":a.push(new GC({start:s,len:l.len,seqOffset:o,gapType:i})),o+=l.len,s+=l.len;break;default:console.log("Error processing cigar element: "+l.len+l.ltr)}}return{blocks:a,insertions:r,gaps:n}}}},VE.prototype.readMetadata=function(){return zx({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var UE=function(){function e(t,n){eo(this,e);var r=n.genome;if(this.config=t,this.genome=r,this.alignmentContainer=void 0,bb(t.url)){if("cram"===t.format)throw"CRAM data uris are not supported";this.config.indexed=!1}if("ga4gh"===t.sourceType)this.bamReader=new VE(t,r);else if("pysam"===t.sourceType)this.bamReader=new sE(t,r);else if("htsget"===t.sourceType)this.bamReader=new uE(t,r);else if("shardedBam"===t.sourceType)this.bamReader=new oE(t,r);else if("cram"===t.format)this.bamReader=new DE(t,r,n);else{if(!this.config.indexURL&&!1!==t.indexed)if(zc(this.config.url)){var i=function(e,t){if(zc(e)){if(e.includes("?")){var n=e.indexOf("?");return e.substring(0,n)+"."+t+e.substring(n)}return e+"."+t}}(this.config.url,"bai");i?(console.error("Warning: no indexURL specified for ".concat(this.config.url,".  Guessing ").concat(this.baiPath)),this.config.indexURL=i):(console.error("Warning: no indexURL specified for ".concat(this.config.url,".")),this.config.indexed=!1)}else console.error("Warning: no indexURL specified for ".concat(this.config.name,".")),this.config.indexed=!1;!1!==this.config.indexed?this.bamReader=new aE(t,r):this.bamReader=new rE(t,r)}this.viewAsPairs=t.viewAsPairs,this.showSoftClips=t.showSoftClips}var t;return no(e,[{key:"setViewAsPairs",value:function(e){this.viewAsPairs!==e&&(this.viewAsPairs=e)}},{key:"setShowSoftClips",value:function(e){this.showSoftClips!==e&&(this.showSoftClips=e)}},{key:"getAlignments",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.genome,a=this.showSoftClips,!this.alignmentContainer||!this.alignmentContainer.contains(t,n,r)){e.next=6;break}return e.abrupt("return",this.alignmentContainer);case 6:return e.next=8,this.bamReader.readAlignments(t,n,r);case 8:if(o=e.sent,s=o.alignments,this.viewAsPairs||(s=LC([{alignments:s}])),c=s.length>0,o.packedAlignmentRows=MC(s,o.start,o.end,a),o.alignments=void 0,this.alignmentContainer=o,!c){e.next=26;break}return e.next=18,i.sequence.getSequence(t,o.start,o.end);case 18:if(!(u=e.sent)){e.next=25;break}return o.coverageMap.refSeq=u,o.sequence=u,e.abrupt("return",o);case 25:console.error("No sequence for: "+t+":"+o.start+"-"+o.end);case 26:return e.abrupt("return",o);case 27:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),qE="rgb(185, 185, 185)",WE=function(e){ro(r,e);var t,n=co(r);function r(e,t){return eo(this,r),n.call(this,e,t)}return no(r,[{key:"init",value:function(e){uo(io(r.prototype),"init",this).call(this,e),this.type="alignment",void 0===e.alleleFreqThreshold&&(e.alleleFreqThreshold=.2),this.featureSource=new UE(e,this.browser),this.showCoverage=void 0===e.showCoverage||e.showCoverage,this.showAlignments=void 0===e.showAlignments||e.showAlignments,this.coverageTrack=new GE(e,this),this.alignmentTrack=new $E(e,this),this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.visibilityWindow=e.visibilityWindow||3e4,this.viewAsPairs=e.viewAsPairs,this.pairsSupported=!1!==e.pairsSupported,this.showSoftClips=e.showSoftClips,this.showAllBases=e.showAllBases,this.showMismatches=!1!==e.showMismatches,this.color=e.color,this.coverageColor=e.coverageColor,this.minFragmentLength=e.minFragmentLength,this.maxFragmentLength=e.maxFragmentLength,e.sort&&(Array.isArray(e.sort)?this.assignSort(e.sort[0]):this.assignSort(e.sort)),this.height=void 0!==e.height?e.height:300}},{key:"sort",value:function(e){e=this.assignSort(e);var t,n=go(this.trackView.viewports);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.containsPosition(e.chr,e.position)){var i=r.getCachedFeatures();i&&(ZE(e,i),r.repaint())}}}catch(e){n.e(e)}finally{n.f()}}},{key:"assignSort",value:function(e){if(e.locus){var t=function(e){const t=e.split(":"),n=t[1].split("-"),r={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return n.length>1?r.end=Number.parseInt(n[1].replace(/,/g,"")):r.end=r.start+1,r}(e.locus);e.chr=t.chr,e.position=t.start}else e.position--;return e.direction="ASC"===e.direction||!0===e.direction,e.chr=this.browser.genome.getChromosomeName(e.chr),this.sortObject=e,this.sortObject}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i,a){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getAlignments(t,n,r);case 2:return(o=e.sent).alignments&&o.alignments.length>99&&(void 0===this.minFragmentLength&&(this.minFragmentLength=o.pairedEndStats.lowerFragmentLength),void 0===this.maxFragmentLength&&(this.maxFragmentLength=o.pairedEndStats.upperFragmentLength)),(s=this.sortObject)&&s.chr===t&&s.position>=n&&s.position<=r&&ZE(s,o),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,a){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return(this.showCoverage?this.coverageTrack.height:0)+(this.showAlignments?this.alignmentTrack.computePixelHeight(e):0)+15}},{key:"draw",value:function(e){Vd.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),!0===this.showCoverage&&this.coverageTrack.height>0?(this.trackView.axisCanvas.style.display="block",this.coverageTrack.draw(e)):this.trackView.axisCanvas.style.display="none",!0===this.showAlignments&&(this.alignmentTrack.setTop(this.coverageTrack,this.showCoverage),this.alignmentTrack.draw(e))}},{key:"paintAxis",value:function(e,t,n){this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)}},{key:"contextMenuItemList",value:function(e){return this.alignmentTrack.contextMenuItemList(e)}},{key:"popupData",value:function(e){return!0===this.showCoverage&&e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)}},{key:"menuItemList",value:function(){var e=this,t=[];(t=t.concat(dd.numericDataMenuItems(this.trackView))).push("<hr/>");var n=Lc('<div class="igv-track-menu-category">');n.text("Color by:"),t.push({name:void 0,object:n,click:void 0,init:void 0});var r=[{key:"strand",label:"read strand"}];this.alignmentTrack.hasPairs&&(r.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),r.push({key:"pairOrientation",label:"pair orientation"}),r.push({key:"fragmentLength",label:"insert size (TLEN)"}));var i="tag"+(this.alignmentTrack.colorByTag?" ("+this.alignmentTrack.colorByTag+")":"");r.push({key:"tag",label:i});for(var a=0,o=r;a<o.length;a++){var s=o[a],c=this.alignmentTrack.colorBy===s.key;t.push(this.colorByCB(s,c))}var u=function(){if(!e.autoHeight){var t=15+(e.showCoverage?e.coverageTrack.height:0)+(e.showAlignments?e.alignmentTrack.height:0);e.trackView.setTrackHeight(t)}};t.push("<hr/>"),t.push({object:Lc(fd("Show Coverage",this.showCoverage)),click:function(){e.showCoverage=!e.showCoverage,u(),e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t.push({object:Lc(fd("Show Alignments",this.showAlignments)),click:function(){e.showAlignments=!e.showAlignments,u(),e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t.push("<hr/>"),t.push({object:Lc(fd("Show all bases",this.showAllBases)),click:function(){e.showAllBases=!e.showAllBases,e.config.showAllBases=e.showAllBases,e.trackView.repaintViews()}}),t.push({object:Lc(fd("Show soft clips",this.showSoftClips)),click:function(){e.showSoftClips=!e.showSoftClips,e.config.showSoftClips=e.showSoftClips,e.featureSource.setShowSoftClips(e.showSoftClips);var t,n=go(e.getCachedAlignmentContainers());try{for(n.s();!(t=n.n()).done;){t.value.setShowSoftClips(e.showSoftClips)}}catch(e){n.e(e)}finally{n.f()}e.trackView.repaintViews()}}),this.pairsSupported&&this.alignmentTrack.hasPairs&&(t.push("<hr/>"),t.push({object:Lc(fd("View as pairs",this.viewAsPairs)),click:function(){e.viewAsPairs=!e.viewAsPairs,e.config.viewAsPairs=e.viewAsPairs,e.featureSource.setViewAsPairs(e.viewAsPairs);var t,n=go(e.getCachedAlignmentContainers());try{for(n.s();!(t=n.n()).done;){t.value.setViewAsPairs(e.viewAsPairs)}}catch(e){n.e(e)}finally{n.f()}e.trackView.repaintViews()}})),t.push("<hr/>");var l=Lc('<div class="igv-track-menu-category">');return l.text("Display mode:"),t.push({name:void 0,object:l,click:void 0,init:void 0}),t.push({object:Lc(fd("expand","EXPANDED"===this.alignmentTrack.displayMode)),click:function(){e.alignmentTrack.displayMode="EXPANDED",e.config.displayMode="EXPANDED",e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t.push({object:Lc(fd("squish","SQUISHED"===this.alignmentTrack.displayMode)),click:function(){e.alignmentTrack.displayMode="SQUISHED",e.config.displayMode="SQUISHED",e.trackView.checkContentHeight(),e.trackView.repaintViews()}}),t}},{key:"colorByCB",value:function(e,t){var n=this;return{name:void 0,object:Lc(fd(e.label,t)),click:function(t){e.key===n.alignmentTrack.colorBy?(n.alignmentTrack.colorBy="none",n.config.colorBy="none",n.trackView.repaintViews()):"tag"===e.key?n.browser.inputDialog.present({label:"Tag Name",value:n.alignmentTrack.colorByTag?n.alignmentTrack.colorByTag:"",callback:function(e){n.alignmentTrack.colorBy="tag",n.config.colorBy="tag",e!==n.alignmentTrack.colorByTag&&(n.alignmentTrack.colorByTag=e,n.config.colorByTag=e,n.alignmentTrack.tagColors=new ly("Set1"),Lc("#color-by-tag").text(self.alignmentTrack.colorByTag)),n.trackView.repaintViews()}},t):(n.alignmentTrack.colorBy=e.key,n.config.colorBy=e.key,n.trackView.repaintViews())},init:void 0}}},{key:"dispose",value:function(){this.trackView=void 0}},{key:"getState",value:function(){var e=uo(io(r.prototype),"getState",this).call(this);return this.sortObject&&(e.sort={chr:this.sortObject.chr,position:this.sortObject.position+1,option:this.sortObject.option,direction:this.sortObject.direction?"ASC":"DESC"}),e}},{key:"getCachedAlignmentContainers",value:function(){return this.trackView.viewports.map((function(e){return e.getCachedFeatures()}))}},{key:"height",set:function(e){this._height=e,this.coverageTrack&&this.showAlignments&&(this.alignmentTrack.height=this.showCoverage?e-this.coverageTrack.height:e)},get:function(){return this._height}},{key:"dataRange",get:function(){return this.coverageTrack.dataRange},set:function(e){this.coverageTrack.dataRange=e}},{key:"logScale",get:function(){return this.coverageTrack.logScale},set:function(e){this.coverageTrack.logScale=e}},{key:"autoscale",get:function(){return this.coverageTrack.autoscale},set:function(e){this.coverageTrack.autoscale=e}}]),r}(Fw),GE=function(){function e(t,n){eo(this,e),this.parent=n,this.featureSource=n.featureSource,this.height=void 0!==t.coverageTrackHeight?t.coverageTrackHeight:50,this.paintAxis=pC,this.top=0,this.autoscale=t.autoscale||void 0===t.max,this.autoscale||(this.dataRange={min:t.min||0,max:t.max})}return no(e,[{key:"draw",value:function(e){var t=e.pixelTop;e.pixelHeight;var n=this.parent.browser.nucleotideColors;if(!(t>this.height)){var r,i=e.context,a=e.features.coverageMap;a.refSeq&&(r=a.refSeq.toUpperCase());var o=e.bpPerPixel,s=e.bpStart,c=s+e.pixelWidth*o+1,u=this.parent.coverageColor||"rgb(150, 150, 150)";void 0!==this.parent.color&&(u=Nf.darkenLighten(this.parent.color,-35)),Vd.setProperties(i,{fillStyle:u,strokeStyle:u});for(var l=Math.max(1,Math.ceil(1/o)),h=0,f=a.coverage.length;h<f;h++){var d=a.bpStart+h;if(!(d<s)){if(d>c)break;var p=a.coverage[h];if(p){var g=Math.round(p.total/this.dataRange.max*this.height),v=this.height-g,m=Math.floor((d-s)/o);Vd.fillRect(i,m,v,l,g)}}}if(r)for(var y=0,b=a.coverage.length;y<b;y++){var w=a.bpStart+y;if(!(w<s)){if(w>c)break;var x=a.coverage[y];if(x){var k=x.total/this.dataRange.max*this.height,_=this.height-k,S=Math.floor((w-s)/o),C=r[y];if(x.isMismatch(C)){Vd.setProperties(i,{fillStyle:n[C]}),Vd.fillRect(i,S,_,l,k);for(var E=0,A=0,R=["A","C","T","G"];A<R.length;A++){var T=R[A],L=(x["pos"+T]+x["neg"+T])/this.dataRange.max*this.height;_=this.height-L-E,E+=L,Vd.setProperties(i,{fillStyle:n[T]}),Vd.fillRect(i,S,_,l,L)}}}}}}}},{key:"popupData",value:function(e){var t=e.viewport.getCachedFeatures();if(t&&0!==t.length){var n=Math.floor(e.genomicLocation),r=e.viewport.referenceFrame,i=t.coverageMap,a=[],o=Math.floor(n-i.bpStart),s=i.coverage[o];if(s){a.push(r.chr+":"+Hc(1+n)),a.push({name:"Total Count",value:s.total});var c=s.posA+s.negA;c>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posA+"+, "+s.negA+"- )"),a.push({name:"A",value:c}),(c=s.posC+s.negC)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posC+"+, "+s.negC+"- )"),a.push({name:"C",value:c}),(c=s.posG+s.negG)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posG+"+, "+s.negG+"- )"),a.push({name:"G",value:c}),(c=s.posT+s.negT)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posT+"+, "+s.negT+"- )"),a.push({name:"T",value:c}),(c=s.posN+s.negN)>0&&(c=c.toString()+" ("+Math.round(c/s.total*100)+"%, "+s.posN+"+, "+s.negN+"- )"),a.push({name:"N",value:c}),a.push("<HR/>"),a.push({name:"DEL",value:s.del.toString()}),a.push({name:"INS",value:s.ins.toString()})}return a}}}]),e}(),$E=function(){function e(t,n){eo(this,e),this.parent=n,this.browser=n.browser,this.featureSource=n.featureSource,this.top=0===t.coverageTrackHeight?0:t.coverageTrackHeight+5,this.displayMode=t.displayMode||"EXPANDED",this.alignmentRowHeight=t.alignmentRowHeight||14,this.squishedRowHeight=t.squishedRowHeight||3,this.negStrandColor=t.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=t.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=t.insertionColor||"rgb(138, 94, 161)",this.deletionColor=t.deletionColor||"black",this.skippedColor=t.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=t.pairConnectorColor,this.smallFragmentLengthColor=t.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=t.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=t.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=t.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=t.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=t.llColor||"rgb(0, 150, 150)",this.colorBy=t.colorBy||"pairOrientation",this.colorByTag=t.colorByTag?t.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===t.bamColorTag?"YC":t.bamColorTag,this.hideSmallIndels=t.hideSmallIndels,this.indelSizeThreshold=t.indelSizeThreshold||1,this.hasPairs=!1}return no(e,[{key:"setTop",value:function(e,t){this.top=0===e.height||!1===t?0:5+e.height}},{key:"computePixelHeight",value:function(e){return e.packedAlignmentRows?(e.hasDownsampledIntervals()?10:0)+("SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight)*e.packedAlignmentRows.length+5:0}},{key:"draw",value:function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,a=e.pixelWidth,o=i+a*r+1,s=t.packedAlignmentRows,c=this.parent.showSoftClips,u=this.parent.showAllBases,l=this.browser.nucleotideColors;n.save();var h=t.sequence;h&&(h=h.toUpperCase());var f=0,d=e.pixelTop;this.top&&n.translate(0,this.top);var p=d+e.pixelHeight;t.hasDownsampledIntervals()?(f=10,t.downsampledIntervals.forEach((function(e){var t=(e.start-i)/r,a=(e.end-i)/r;a-t>5&&(t+=1,a-=1),Vd.fillRect(n,t,2,a-t,3,{fillStyle:"black"})}))):f=0,this.alignmentsYOffset=f;var g="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight;if(s)for(var v=s.length,m=0;m<v;m++){var y=s[m],b=f+g*m,w=g<=4?g:g-2;if(b>p)break;if(!(b+w<d)){var x,k=go(y.alignments);try{for(k.s();!(x=k.n()).done;){var _=x.value;if(this.hasPairs=this.hasPairs||_.isPaired(),!(_.start+_.lengthOnRef<i)){if(_.start>o)break;!0!==_.hidden&&(_ instanceof CC?(S.call(this,_,b,w),C.call(this,_.firstAlignment,b,w),_.secondAlignment&&C.call(this,_.secondAlignment,b,w)):C.call(this,_,b,w))}}}catch(e){k.e(e)}finally{k.f()}}}function S(e,t,a){var s=this.getConnectorColor(e.firstAlignment),c=(e.connectingStart-i)/r,u=(e.connectingEnd-i)/r,l=t+a/2;e.connectingEnd<i||e.connectingStart>o||(e.mq<=0&&(s=Nf.addAlpha(s,.15)),Vd.setProperties(n,{fillStyle:s,strokeStyle:s}),Vd.strokeLine(n,c,l,u,l))}function C(e,a,s){if(!(e.start+e.lengthOnRef<i||e.start>o)){var f=c?e.blocks:e.blocks.filter((function(e){return"S"!==e.type})),d=this.getAlignmentColor(e),p=d;e.mq<=0&&(d=Nf.addAlpha(d,.15)),Vd.setProperties(n,{fillStyle:d,strokeStyle:p});for(var v=0;v<f.length;v++){var m=f[v];if(!(v!==f.length-1&&f[v+1].start<i)&&(L.call(this,m,v),m.start+m.len>o))break}if(e.insertions){var y,b=-1,w=go(e.insertions);try{for(w.s();!(y=w.n()).done;){var x=y.value;if(!(this.hideSmallIndels&&x.len<=this.indelSizeThreshold)&&!(x.start<i)){if(x.start>o)break;var k=(x.start-i)/r-1;if(k-b>2){Vd.fillRect(n,k,a-1,3,s+2,{fillStyle:this.insertionColor}),b=k}}}}catch(e){w.e(e)}finally{w.f()}}if(e.gaps){var _,S=a+s/2,C=go(e.gaps);try{for(C.s();!(_=C.n()).done;){var E=_.value,A=(E.start-i)/r,R=(E.start+E.len-i)/r,T="D"===E.type?this.deletionColor:this.skippedColor;Vd.strokeLine(n,A,S,R,S,{strokeStyle:T})}}catch(e){C.e(e)}finally{C.f()}}}function L(o,c){var v=o.start-t.start,m=(o.start-i)/r,y=(o.start+o.len-i)/r,b=Math.max(1,y-m),w=g/2,x="S"===o.type,k=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||x,_=p;this.highlightedAlignmentReadNamed===e.readName?_="red":x&&(_="rgb(50,50,50)");var S,C,E=!0===e.strand&&c===f.length-1,A=!1===e.strand&&0===c;E|A?(E?(S=[m,y,y+w,y,m,m],C=[a,a,a+s/2,a+s,a+s,a]):A&&(S=[y,m,m-w,m,y,y],C=[a,a,a+s/2,a+s,a+s,a]),Vd.fillPolygon(n,S,C,{fillStyle:d}),k&&Vd.strokePolygon(n,S,C,{strokeStyle:_})):(Vd.fillRect(n,m,a,b,s,{fillStyle:d}),k&&(n.save(),n.strokeStyle=_,n.strokeRect(m,a,b,s),n.restore()));if(this.parent.showMismatches&&(x||u||h&&e.seq&&"*"!==e.seq))for(var R=e.seq?e.seq.toUpperCase():void 0,T=e.qual,L=o.seqOffset,I=0,O=o.len;I<O;I++)if(!(v+I<0)){var P=R?R.charAt(L+I):"",N=h.charAt(v+I);if("="===P&&(P=N),"X"===P||N!==P||x||u){var F=void 0;if(!x&&void 0!==T&&T.length>L+I)F=YE(T[L+I],l[P]);else F=l[P];if(F){var D=(o.start+I-i)/r,B=Math.max(1,1/r);M(n,r,{x:D,y:a,width:B,height:s},F,P)}}}}function M(e,t,n,r,i){var a;if(.1,t<=.1&&n.height>=8){var o=Math.min(10,n.height);e.font=o+"px sans-serif",a=n.x+n.width/2,Vd.strokeText(e,i,a-e.measureText(i).width/2,o-1+n.y,{strokeStyle:r})}else Vd.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:r})}}n.restore()}},{key:"popupData",value:function(e){var t=this.getClickedObject(e.viewport,e.y,e.genomicLocation);return t?t.popupData(e.genomicLocation):void 0}},{key:"contextMenuItemList",value:function(e){var t=this,n=e.viewport,r=[],i=function(r){var i=t.parent.sortObject,a=!i||i.position!==Math.floor(e.genomicLocation)||!i.direction,o={chr:n.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:r,direction:a};t.parent.sortObject=o,ZE(o,n.getCachedFeatures()),n.repaint()};r.push("<b>Sort by...</b>"),r.push({label:"&nbsp; base",click:function(){return i("BASE")}}),r.push({label:"&nbsp; read strand",click:function(){return i("STRAND")}}),r.push({label:"&nbsp; insert size",click:function(){return i("INSERT_SIZE")}}),r.push({label:"&nbsp; gap size",click:function(){return i("GAP_SIZE")}}),r.push({label:"&nbsp; chromosome of mate",click:function(){return i("MATE_CHR")}}),r.push({label:"&nbsp; mapping quality",click:function(){return i("MQ")}}),r.push({label:"&nbsp; read name",click:function(){return i("READ_NAME")}}),r.push({label:"&nbsp; tag",click:function(){var r=t.parent.sortObject,i=!r||r.position!==Math.floor(e.genomicLocation)||!r.direction,a={label:"Tag Name",value:t.sortByTag?t.sortByTag:"",callback:function(r){if(r){var a={chr:n.referenceFrame.chr,position:Math.floor(e.genomicLocation),option:"TAG",tag:r,direction:i};t.sortByTag=r,t.parent.sortObject=a,ZE(a,n.getCachedFeatures()),n.repaint()}}};t.browser.inputDialog.present(a,e.event)}}),r.push("<hr/>");var a=this.getClickedObject(n,e.y,e.genomicLocation);if(a){var o=this.parent.showSoftClips,s="function"==typeof a.alignmentContaining?a.alignmentContaining(e.genomicLocation,o):a;s.isPaired()&&s.isMateMapped()&&r.push({label:"View mate in split screen",click:function(){if(s.mate){var n=e.viewport.referenceFrame;t.browser.genome.getChromosome(s.mate.chr)?(t.highlightedAlignmentReadNamed=s.readName,t.browser.presentMultiLocusPanel(s,n)):Ld.presentAlert("Reference does not contain chromosome: ".concat(s.mate.chr))}},init:void 0}),r.push({label:"View read sequence",click:function(){if(s){var e=s.seq;e&&"*"!==e?Ld.presentAlert(e):Ld.presentAlert("Read sequence: *")}}}),r.push({label:"Copy read sequence",click:function(){if(s){var e=s.seq;navigator.clipboard.writeText(e)}}}),r.push("<hr/>")}return r}},{key:"getClickedObject",value:function(e,t,n){var r=this.parent.showSoftClips,i=e.getCachedFeatures();if(i&&0!==i.length){var a=i.packedAlignmentRows,o=i.downsampledIntervals,s="SQUISHED"===this.displayMode?this.squishedRowHeight:this.alignmentRowHeight,c=Math.floor((t-this.top-this.alignmentsYOffset)/s);if(c<0){for(var u=0;u<o.length;u++)if(o[u].start<=n&&o[u].end>=n)return o[u]}else if(c<a.length){var l=a[c].alignments.filter((function(e){return e.containsLocation(n,r)}));if(l.length>0)return l[0]}}}},{key:"getConnectorColor",value:function(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}}},{key:"getAlignmentColor",value:function(e){var t=this.parent.color||qE;switch(this.colorBy){case"strand":t=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof CC?t=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?t=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?t=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr)t=KE(e.mate.chr);else if(this.pairOrientation&&e.pairOrientation){var n=XE[this.pairOrientation];if(n){var r=this.pairColors[n[e.pairOrientation]];r&&(t=r)}}break;case"fragmentLength":e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr?t=KE(e.mate.chr):this.parent.minFragmentLength&&Math.abs(e.fragmentLength)<this.parent.minFragmentLength?t=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(e.fragmentLength)>this.parent.maxFragmentLength&&(t=this.largeFragmentLengthColor);break;case"tag":var i=e.tags()[this.colorByTag];void 0!==i&&(this.bamColorTag===this.colorByTag?t="rgb("+i+")":(this.tagColors||(this.tagColors=new ly("Set1")),t=this.tagColors.getColor(i)));break;default:t=this.parent.color||qE}return t}}]),e}();function ZE(e,t){var n,r=e.direction,i=go(t.packedAlignmentRows);try{for(i.s();!(n=i.n()).done;){n.value.updateScore(e,t)}}catch(e){i.e(e)}finally{i.f()}t.packedAlignmentRows.sort((function(e,t){var n=e.score>t.score?1:e.score<t.score?-1:0;return!0===r?n:-n}))}function YE(e,t){var n;return n=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),(n=Math.round(10*n)/10)<1&&(t=Nf.addAlpha(t,n)),t}var XE={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function KE(e){if(QE[e])return QE[e];if(QE["chr"+e]){var t=QE["chr"+e];return QE[e]=t,t}var n=Nf.randomRGB();return QE[e]=n,n}var QE={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},JE=function(e){ro(i,e);var t,n,r=co(i);function i(e,t){return eo(this,i),r.call(this,e,t)}return no(i,[{key:"init",value:function(e){uo(io(i.prototype),"init",this).call(this,e),this.theta=e.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=e.height||250,this.arcType=e.arcType||"nested",this.arcOrientation=void 0===e.arcOrientation||e.arcOrientation,this.showBlocks=void 0===e.showBlocks||e.showBlocks,this.blockHeight=e.blockHeight||3,this.thickness=e.thickness||1,this.color=e.color||"rgb(180,25,137)",this.alpha=e.alpha||.15,e.valueColumn?(this.valueColumn=e.valueColumn,this.hasValue=!0):e.useScore&&(this.hasValue=!0,this.valueColumn="score"),this.logScale=!1!==e.logScale,e.max?(this.dataRange={min:e.min||0,max:e.max},this.autoscale=!1):this.autoscale=!0,this.featureSource=ZS(e,this.browser.genome),this.featureSource.getWGFeatures=iA}},{key:"postInit",value:(n=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getHeader){e.next=4;break}return e.next=3,this.featureSource.getHeader();case 3:this.header=e.sent;case 4:if(this.header&&this.setTrackProperties(this.header),void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){e.next=10;break}return e.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!0}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.visibilityWindow,e.next=3,this.featureSource.getFeatures({chr:t,start:n,end:r,visibilityWindow:i});case 3:return a=e.sent,void 0===this.hasValue&&a&&a.length>0&&(this.hasValue=void 0!==a[0].score),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){"proportional"===this.arcType?this.drawProportional(e):this.drawNested(e)}},{key:"drawNested",value:function(e){var t=e.context,n=e.pixelWidth,r=e.pixelHeight,i=e.viewportWidth,a=e.bpPerPixel,o=e.bpStart,s=a;Vd.fillRect(t,0,e.pixelTop,n,r,{fillStyle:"rgb(255, 255, 255)"});var c,u=e.features;if(u){(function(){var e,t=0,a=go(u);try{for(a.s();!(e=a.n()).done;){var c=e.value,l=(c.start-o)/s,h=(c.end-o)/s;h>=0&&l<=n&&(t=Math.max(t,h-l))}}catch(e){a.e(e)}finally{a.f()}var f=Math.min(i,t)/2;if(t>0){var d=(r-10)/f;this.theta=function(e){var t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],r=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);var i=0===t?0:n[t-1],a=t<n.length?n[t]:1,o=(e-i)/(a-i),s=0===t?0:r[t-1],c=t<r.length?r[t]:Math.PI/2;return s+o*(c-s)}(d),this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta)}}).call(this);var l=this.arcOrientation?e.pixelHeight:0,h=this.arcOrientation;t.font="8px sans-serif",t.textAlign="center";var f,d=go(u);try{for(d.s();!(f=d.n()).done;){var p=f.value,g=p.color||this.color;if(g&&this.config.useScore&&(g=rA(g,(c=p.score,Math.min(1,.11+c/779*.89).toString()))),t.lineWidth=p.thickness||this.thickness||1,p.chr1===p.chr2||"all"===p.chr){var v=eA(p,this.browser.genome),m=v.m1,y=v.m2,b=Math.round((m-o)/s),w=Math.round((y-o)/s);if(w<0||b>n)continue;var x=w-b;x<3&&(x=3,b--);var k=x/2,_=k/this.sinTheta,S=this.cosTheta*_,C=b+k,E=void 0,A=void 0,R=void 0;if(h?(E=this.height+S,A=Math.PI+Math.PI/2-this.theta,R=Math.PI+Math.PI/2+this.theta):(E=-S,A=Math.PI/2-this.theta,R=Math.PI/2+this.theta),this.showBlocks&&"all"!==p.chr){var T=(p.start1-o)/s,L=(p.end1-o)/s,M=(p.start2-o)/s,I=(p.end2-o)/s,O=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(T,l,L-T,O),t.fillRect(M,l,I-M,O)}g&&!this.config.useScore&&x>i&&(g=rA(g,this.alpha)),t.strokeStyle=g,t.fillStyle=g,t.beginPath(),t.arc(C,E,_,A,R,!1),t.stroke(),p.drawState={xc:C,yc:E,r:_}}else{var P=Math.round((p.start-o)/s),N=Math.round((p.end-o)/s);if(N<0||P>n)continue;var F=N-P;F<3&&(F=3,P--);var D=p.chr===p.chr1?p.chr2:p.chr1;t.strokeStyle=g,t.fillStyle=g,h?(t.fillRect(P,this.height/2,F,this.height/2),t.fillText(D,P+F/2,this.height/2-5),p.drawState={x:P,y:this.height/2,w:F,h:this.height/2}):(t.fillRect(P,0,F,this.height/2),t.fillText(D,P+F/2,this.height/2+13),p.drawState={x:P,y:0,w:F,h:this.height/2})}}}catch(e){d.e(e)}finally{d.f()}}}},{key:"drawProportional",value:function(e){var t=e.context,n=e.pixelWidth,r=e.pixelHeight,i=e.bpPerPixel,a=e.bpStart,o=i;if("function"==typeof t.ellipse){Vd.fillRect(t,0,e.pixelTop,n,r,{fillStyle:"rgb(255, 255, 255)"});var s=e.features;if(s&&s.length>0){var c,u=this.logScale?e.pixelHeight/Math.log10(this.dataRange.max+1):e.pixelHeight/(this.dataRange.max-this.dataRange.min),l=this.arcOrientation?e.pixelHeight:0,h=go(s);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=this.valueColumn?f[this.valueColumn]:f.score;if(void 0!==d&&!Number.isNaN(d)){var p=this.logScale?Math.log10(d+1)*u:d*u;if(f.chr1===f.chr2||"all"===f.chr){var g=eA(f,this.browser.genome),v=g.m1,m=g.m2,y=(v-a)/o,b=(m-a)/o,w=b-y;if(w<3&&(w=3,y--),b<0||y>n||d<this.dataRange.min)continue;var x=w/2,k=y+w/2,_=!!this.arcOrientation,S=f.color||this.color;if(t.strokeStyle=S,t.lineWidth=f.thickness||this.thickness||1,t.beginPath(),t.ellipse(k,l,x,p,0,0,Math.PI,_),t.stroke(),this.showBlocks&&"all"!==f.chr){t.fillStyle=S;var C=(f.start1-a)/o,E=(f.end1-a)/o,A=(f.start2-a)/o,R=(f.end2-a)/o,T=this.arcOrientation?-this.blockHeight:this.blockHeight;t.fillRect(C,l,E-C,T),t.fillRect(A,l,R-A,T)}if(this.alpha){var L=rA(S,this.alpha);t.fillStyle=L,t.fill()}f.drawState={xc:k,yc:l,radiusX:x,radiusY:p}}else{var M=Math.round((f.start-a)/o),I=Math.round((f.end-a)/o);if(I<0||M>n||d<this.dataRange.min)continue;var O=Math.min(p,this.height-13),P=I-M;P<3&&(P=3,M--);var N=f.chr===f.chr1?f.chr2:f.chr1;if(t.font="8px",t.textAlign="center",this.arcOrientation){var F=this.height-O;t.fillRect(M,F,P,O),t.fillText(N,M+P/2,F-5),f.drawState={x:M,y:F,w:P,h:O}}else t.fillRect(M,0,P,O),t.fillText(N,M+P/2,O+13),f.drawState={x:M,y:0,w:P,h:O}}}}}catch(e){h.e(e)}finally{h.f()}}}else Ld.presentAlert("SVG output of proportional arcs is currently not supported.")}},{key:"menuItemList",value:function(){var e=this,t=[{name:"Set track color",click:function(){e.trackView.presentColorPicker()}},"<HR/>"];if(this.hasValue)for(var n={nested:"Nested Arcs",proportional:"Proportional Arcs"},r=function(){var r=a[i];t.push({object:Lc(fd(n[r],r===e.arcType)),click:function(){e.arcType=r,e.trackView.repaintViews()}})},i=0,a=["nested","proportional"];i<a.length;i++)r();return t.push({object:Lc(fd("Show Blocks",this.showBlocks)),click:function(){e.showBlocks=!e.showBlocks,e.trackView.repaintViews()}}),t.push({name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}),"proportional"===this.arcType&&(t.push("<HR>"),t=t.concat(dd.numericDataMenuItems(this.trackView))),t}},{key:"doAutoscale",value:function(e){var t=0;if(e){var n,r=go(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.valueColumn?i[this.valueColumn]:i.score;Number.isNaN(a)||(t=Math.max(t,a))}}catch(e){r.e(e)}finally{r.f()}}return{min:0,max:t}}},{key:"popupData",value:function(e,t){var n,r=[],i=go(this.clickedFeatures(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a._||a;if(r.push({name:"Region 1",value:tA(o.chr1,o.start1,o.end1,o.strand1)}),r.push({name:"Region 2",value:tA(o.chr2,o.start2,o.end2,o.strand2)}),o.name&&r.push({name:"Name",value:o.name}),void 0!==o.value&&r.push({name:"Value",value:o.value}),void 0!==o.score&&r.push({name:"Score",value:o.score}),o.extras&&this.header&&this.header.columnNames)for(var s=this.header.columnNames,c=10;c<s.length;c++)"info"===s[c]?aA(r,o.extras[c-10]):r.push({name:s[c],value:o.extras[c-10]});break}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"clickedFeatures",value:function(e,t){var n=t||e.viewport.getCachedFeatures(),r=[];if(n){var i,a="proportional"===this.arcType,o=go(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.drawState)if(s.chr1===s.chr2||"all"===s.chr)if(a){var c=s.drawState,u=c.xc,l=c.yc,h=c.radiusX,f=c.radiusY,d=e.canvasX-u,p=e.canvasY-l,g=d/h*(d/h)+p/f*(p/f);g<=1&&r.push({score:1/g,feature:s})}else{var v=s.drawState,m=v.xc,y=v.yc,b=v.r,w=e.canvasX-m,x=e.canvasY-y,k=Math.abs(Math.sqrt(w*w+x*x)-b);k<5&&r.push({score:k,feature:s})}else{var _=s.drawState,S=_.x,C=_.y,E=_.w,A=_.h;if(e.canvasX>=S-5&&e.canvasX<=S+E+5&&e.canvasY>=C&&e.canvasY<=C+A){var R=-Math.abs(e.canvasX-(S+E/2));r.push({score:R,feature:s});break}}}}catch(e){o.e(e)}finally{o.f()}}return r.length>1&&r.sort((function(e,t){return e.score-t.score})),r.map((function(e){return e.feature}))}}]),i}(Fw);function eA(e,t){var n=(e.start1+e.end1)/2,r=(e.start2+e.end2)/2;if("all"===e.chr&&(n=t.getGenomeCoordinate(e.chr1,n),r=t.getGenomeCoordinate(e.chr2,r)),n>r){var i=n;n=r,r=i}return{m1:n,m2:r}}function tA(e,t,n,r){return r&&"."!==r?"".concat(e,":").concat(Hc(t+1),"-").concat(Hc(n)," (").concat(r,")"):"".concat(e,":").concat(Hc(t+1),"-").concat(Hc(n))}var nA=new Map;function rA(e,t){var n="".concat(e,"_").concat(t),r=nA.get(n);return r||(r=Nf.addAlpha(e,t),nA.set(n,r)),r}function iA(e){var t,n=this.genome,r=[],i=go(n.wgChromosomeNames);try{for(i.s();!(t=i.n()).done;){var a=e[t.value];if(a){var o,s=go(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(!c.dup){var u=Object.assign({},c);u.chr="all",u.start=n.getGenomeCoordinate(c.chr1,c.start1),u.end=n.getGenomeCoordinate(c.chr2,c.end2),r.push(u)}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){i.e(e)}finally{i.f()}return r}function aA(e,t){var n,r=go(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value.split("=");2===i.length&&e.push({name:i[0],value:i[1]})}}catch(e){r.e(e)}finally{r.f()}}for(var oA=zc,sA=1e6,cA=function(e){ro(a,e);var t,n,r,i=co(a);function a(e,t){return eo(this,a),i.call(this,e,t)}return no(a,[{key:"init",value:function(e){uo(io(a.prototype),"init",this).call(this,e),this.visibilityWindow=e.visibilityWindow,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,this.expandedVariantHeight=e.expandedVariantHeight||e.variantHeight||10,this.squishedVariantHeight=e.squishedVariantHeight||2,this.squishedCallHeight=e.squishedCallHeight||1,this.expandedCallHeight=e.expandedCallHeight||10,this.expandedVGap=void 0!==e.expandedVGap?e.expandedVGap:2,this.squishedVGap=void 0!==e.squishedVGap?e.squishedVGap:1,this.expandedGroupGap=e.expandedGroupGap||10,this.squishedGroupGap=e.squishedGroupGap||5,this.featureHeight=e.featureHeight||14,this.visibilityWindow=e.visibilityWindow,this.featureSource=ZS(e,this.browser.genome),this.noGenotypeColor=e.noGenotypeColor||"rgb(200,180,180)",this.noCallColor=e.noCallColor||"rgb(225, 225, 225)",this.nonRefColor=e.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=e.mixedColor||"rgb(200, 220, 200)",this.homrefColor=e.homrefColor||"rgb(200, 200, 200)",this.homvarColor=e.homvarColor||"rgb(17,248,254)",this.hetvarColor=e.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.type=e.type||"variant",this.colorBy=e.colorBy,this._initColorBy=e.colorBy,e.colorTable&&(this.colorTables=new Map,this.colorTables.set(e.colorBy,new hy(e.colorTable))),this._color=e.color,this.showGenotypes=void 0===e.showGenotypes||e.showGenotypes,this.variantRowCount(1)}},{key:"postInit",value:(r=Ja(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return this.header=e.sent,void 0===this.visibilityWindow&&!1!==this.config.indexed&&(t=this.config.url instanceof File?this.config.url.name:this.config.url,oA(t)&&t.toLowerCase().includes("gnomad")?this.visibilityWindow=1e3:this.callSets?(n=this.callSets.length,this.visibilityWindow=Math.max(1e3,sA-1e4*n)):this.visibilityWindow=sA),e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome}},{key:"getHeader",value:(n=Ja(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=8;break}if("function"!=typeof this.featureSource.getHeader){e.next=7;break}return e.next=4,this.featureSource.getHeader();case 4:(t=e.sent)&&(this.callSets=t.callSets||[]),this.header=t;case 7:this.sampleNames=this.callSets?this.callSets.map((function(e){return e.name})):[];case 8:return e.abrupt("return",this.header);case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getCallsetsLength",value:function(){return this.callSets?this.callSets.length:0}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.header){e.next=4;break}return e.next=3,this.getHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:r,bpPerPixel:i,visibilityWindow:this.visibilityWindow}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"hasSamples",value:function(){return this.getCallsetsLength()>0}},{key:"getSamples",value:function(){return{yOffset:this.sampleYOffset,names:this.sampleNames,height:this.sampleHeight}}},{key:"computePixelHeight",value:function(e){if(!e||0==e.length)return 10;var t="COLLAPSED"===this.displayMode?1:this.nVariantRows,n="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,r="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,i="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight;return 10+t*(r+n)+n+((!1===this.showGenotypes?0:this.getCallsetsLength()*t)+1)*(i+n)}},{key:"variantRowCount",value:function(e){this.nVariantRows=e}},{key:"draw",value:function(e){var t=e.context,n=e.pixelWidth,r=e.pixelHeight,i=e.bpPerPixel,a=e.bpStart,o=e.pixelTop,s=e.features;Vd.fillRect(t,0,o,n,r,{fillStyle:"rgb(255, 255, 255)"});var c="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,u="COLLAPSED"===this.displayMode?1:this.nVariantRows,l="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight;this.variantBandHeight=10+u*(l+c);var h=this.callSets,f=this.getCallsetsLength();if(h&&f>0&&!1!==this.showGenotypes&&Vd.strokeLine(t,0,this.variantBandHeight,n,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "}),s){var d,p="SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight,g="SQUISHED"===this.displayMode?this.squishedVGap:this.expandedVGap,v=a+n*i+1,m=go(s);try{for(m.s();!(d=m.n()).done;){var y=d.value;if(!(y.end<a)){if(y.start>v)break;var b="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight,w=10+("COLLAPSED"===this.displayMode?0:y.row*(b+g)),x=b,k=Math.round((y.start-a)/i),_=Math.round((y.end-a)/i),S=Math.max(1,_-k);if(S<3?(S=3,k-=1):S>5&&(k+=1,S-=2),t.fillStyle=this.getVariantColor(y),t.fillRect(k,w,S,x),y.pixelRect={x:k,y:w,w:S,h:x},f>0&&!1!==this.showGenotypes){var C="COLLAPSED"===this.displayMode?1:this.nVariantRows;this.sampleYOffset=this.variantBandHeight+g,this.sampleHeight=C*(p+g);var E,A=0,R=go(h);try{for(R.s();!(E=R.n()).done;){var T=E.value,L=y.calls[T.id];if(L){var M="COLLAPSED"===this.displayMode?0:y.row,I=this.sampleYOffset+A*this.sampleHeight+M*(p+g),O=!0,P=!0,N=!1;if(L.genotype){var F,D=go(L.genotype);try{for(D.s();!(F=D.n()).done;){var B=F.value;if("."===B){N=!0;break}0!==B&&(P=!1),0===B&&(O=!1)}}catch(e){D.e(e)}finally{D.f()}}L.genotype?t.fillStyle=N?this.noCallColor:P?this.homrefColor:O?this.homvarColor:this.hetvarColor:t.fillStyle=this.noGenotypeColor,t.fillRect(k,I,S,p),T.pixelRect={x:k,y:I,w:S,h:p}}A++}}catch(e){R.e(e)}finally{R.f()}}}}}catch(e){m.e(e)}finally{m.f()}}else console.log("No feature list")}},{key:"getVariantColor",value:function(e){var t;if(this.colorBy){var n=e.info[this.colorBy];(t=this.getVariantColorTable(this.colorBy).getColor(n))||(t="gray")}else t=this._color?"function"==typeof this._color?this._color(e):this._color:"NONVARIANT"===e.type?this.nonRefColor:"MIXED"===e.type?this.mixedColor:this.defaultColor;return t}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n,r,i=e.genomicLocation,a=this.browser.genome.id,o=this.browser.sampleInformation,s="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap,c=s+("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),u=e.y;if(u<=this.variantBandHeight){var l="SQUISHED"===this.displayMode?this.squishedVariantHeight:this.expandedVariantHeight;n=Math.floor((u-10)/(l+s)),r=-1}else{var h=u-this.variantBandHeight;r=Math.floor(h/this.sampleHeight),n=Math.floor((h-r*this.sampleHeight)/c)}var f,d=t.filter((function(e){return e.row===n})),p=[],g=go(d);try{for(g.s();!(f=g.n()).done;){var v=f.value;if(p.length>0&&p.push({html:'<hr style="border-top-width:2px ;border-color: #c9c3ba" />'}),u<=this.variantBandHeight){var m=v.popupData(i);Array.prototype.push.apply(p,m)}else{var y=this.callSets;if(y&&v.calls&&r>=0&&r<y.length){var b=y[r],w=v.calls[b.id];Array.prototype.push.apply(p,x(w,v,a,o))}}}}catch(e){g.e(e)}finally{g.f()}return p;function x(e,t,n,r){var i=[];if(void 0!==e.callSetName&&i.push({name:"Name",value:e.callSetName}),e.genotype){var a="";if("."===t.alternateBases)a="No Call";else{var o,s=t.alternateBases.split(","),c=go(e.genotype);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(a.length>0&&(a+="|"),"."===u)a+=".";else if(0===u)a+=t.referenceBases;else{a+=s[u-1].replace("<","&lt;")}}}catch(e){c.e(e)}finally{c.f()}}i.push({name:"Genotype",value:a})}if(void 0!==e.phaseset&&i.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&i.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),r){var l=r.getAttributes(e.callSetName);l&&Object.keys(l).forEach((function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),i.push({name:t,value:l[e]})}))}var h=Object.keys(e.info);return h.length&&i.push("<hr/>"),h.forEach((function(t){i.push({name:t,value:decodeURIComponent(e.info[t])})})),i}}},{key:"menuItemList",value:function(){var e=this,t=[];if(this.header.INFO&&this.header.INFO){var n=this.header.INFO.SVTYPE?["SVTYPE"]:[];if(this._initColorBy&&"SVTYPE"!==this._initColorBy&&n.push(this._initColorBy),n.length>0){t.push("<hr/>");var r=Lc('<div class="igv-track-menu-category igv-track-menu-border-top">');r.text("Color by:"),t.push({name:void 0,object:r,click:void 0,init:void 0}),n.sort();var i,a=go(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=this.colorBy===o,c=o||"None";t.push(this.colorByCB({key:o,label:c},s))}}catch(e){a.e(e)}finally{a.f()}t.push(this.colorByCB({key:void 0,label:"None"},void 0===this.colorBy)),t.push("<hr/>")}}this.getCallsetsLength()>0&&(t.push({object:Lc('<div class="igv-track-menu-border-top">')}),t.push({object:Lc(fd("Show Genotypes",this.showGenotypes)),click:function(){e.showGenotypes=!e.showGenotypes,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})),t.push({object:Lc('<div class="igv-track-menu-border-top">')});for(var u=function(){var n=h[l];f={COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"},t.push({object:Lc(fd(f[n],n===e.displayMode)),click:function(){e.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})},l=0,h=["COLLAPSED","SQUISHED","EXPANDED"];l<h.length;l++){var f;u()}return t}},{key:"colorByCB",value:function(e,t){var n=this;return{name:void 0,object:Lc(fd(e.label,t)),click:function(){e.key===n.colorBy?(n.colorBy=void 0,delete n.config.colorBy,n.trackView.repaintViews()):(n.colorBy=e.key,n.config.colorBy=e.key,n.trackView.repaintViews())},init:void 0}}},{key:"getState",value:function(){var e=uo(io(a.prototype),"getState",this).call(this);return this._color&&"function"!=typeof this._color&&(e.color=this._color),e}},{key:"getVariantColorTable",value:function(e){if(this.colorTables||(this.colorTables=new Map),!this.colorTables.has(e)){var t;if("SVTYPE"===e)t=uA;else t=new ly("Set1");this.colorTables.set(e,t)}return this.colorTables.get(e)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.colorBy=void 0}}]),a}(Fw),uA=new hy({DEL:"#ff2101",INS:"#001888",DUP:"#028401",INV:"#008688",CNV:"#8931ff",BND:"#891100","*":"#002eff"}),lA=function(e){ro(r,e);var t,n=co(r);function r(e,t){return eo(this,r),n.call(this,e,t)}return no(r,[{key:"init",value:function(e){uo(io(r.prototype),"init",this).call(this,e),this.name=e.name,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";var t=e.minLogP||e.min,n=e.maxLogP||e.max;this.dataRange={min:t||3.5,max:n||25},this.autoscale=!n||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=ZS(e,this.browser.genome),nC.gtexLoaded=!0}},{key:"paintAxis",value:function(e,t,n){var r=(this.dataRange.max-this.dataRange.min)/n,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};Vd.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var a=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),o=4;o<=this.dataRange.max;o+=a){var s=.85*t,c=s-5,u=s,l=n-(o-this.dataRange.min)/r;Vd.strokeLine(e,c,l,u,l,i),l>8&&Vd.fillText(e,o,c-1,l+2,i)}i.textAlign="center",Vd.fillText(e,"-log10(pvalue)",t/4,n/2,i,{rotate:{angle:-90}})}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.pValueField,e.next=3,this.featureSource.getFeatures({chr:t,start:n,end:r});case 3:return(a=e.sent).forEach((function(e){e.value=e[i]})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=this,n=e.context,r=e.pixelWidth,i=e.pixelHeight;this.background&&Vd.fillRect(n,0,0,r,i,{fillStyle:this.background}),Vd.strokeLine(n,0,i-1,r,i-1,{strokeStyle:this.divider});var a=function(a){var o,s=a?2*t.dotSize:t.dotSize,c=e.bpStart,u=(t.dataRange.max-t.dataRange.min)/i,l=e.referenceFrame.selection,h=go(e.features);try{for(h.s();!(o=h.n()).done;){var f=o.value,d=(f.start-c+.5)/e.bpPerPixel;if(!(d<0)){if(d>r)break;var p=f.snp.toUpperCase(),g=f[t.geneField].toUpperCase(),v=l&&(l.snp===p||l.gene===g);if(!a||v){l&&l.snp===p&&l.addGene(g);var m=-Math.log(f[t.pValueField])/Math.LN10;if(m>=t.dataRange.min){var y=void 0;m>t.dataRange.max?(m=t.dataRange.max,y=!0):y=!1;var b=Math.max(0+s,i-Math.round((m-t.dataRange.min)/u));f.px=d,f.py=b,f.radius=s;var w=void 0;a&&l?(w=l.colorForGene(g),Vd.setProperties(n,{fillStyle:w,strokeStyle:"black"})):(w=y?"rgb(150, 150, 150)":"rgb(180, 180, 180)",Vd.setProperties(n,{fillStyle:w,strokeStyle:w})),Vd.fillCircle(n,d,b,s),Vd.strokeCircle(n,d,b,s)}}}}}catch(e){h.e(e)}finally{h.f()}};a(!1),a(!0)}},{key:"popupData",value:function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n,r=this.name,i=[],a=go(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;Math.abs(o.px-e.canvasX)<o.radius+3&&Math.abs(o.py-e.canvasY)<o.radius+3&&(i.length>0&&i.push("<hr/>"),i.push({name:"snp id",value:o.snp},{name:"gene id",value:o.geneId},{name:"gene name",value:o.geneName},{name:"p value",value:o.pValue},{name:"tissue",value:r}))}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"menuItemList",value:function(){return dd.numericDataMenuItems(this.trackView)}},{key:"doAutoscale",value:function(e){if(e.length>0){var t=e.map((function(e){return-Math.log(e.value)/Math.LN10}));this.dataRange.max=Lf(t,this.autoscalePercentile)}else{var n=this.config.maxLogP||this.config.max;this.dataRange.max=n||25}return this.dataRange}}]),r}(Fw),hA={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",I:"rgb(139, 155, 187)",2:"rgb(206, 61, 50)",II:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",III:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",IV:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"},fA=0,dA=Object.keys(hA);fA<dA.length;fA++){var pA=dA[fA];hA["chr"+pA]=hA[pA]}var gA=function(e){ro(r,e);var t,n=co(r);function r(e,t){return eo(this,r),n.call(this,e,t)}return no(r,[{key:"init",value:function(e){uo(io(r.prototype),"init",this).call(this,e),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.valueProperty="bed"===e.format?"score":"value",this.height=e.height||100,e.autoscale||(e.posteriorProbability?this.dataRange={min:void 0===e.min?0:e.min,max:void 0===e.max?1:e.max}:this.dataRange={min:void 0===e.min?0:e.min,max:void 0===e.max?25:e.max}),this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.description=e.description,this.colorScales=e.color?new yC(e.color):{"*":new vC(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]})},this.featureSource=ZS(e,this.browser.genome)}},{key:"supportsWholeGenome",value:function(){return!0}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:r}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.features,n=e.context,r=e.pixelWidth,i=e.pixelHeight;if(this.background&&Vd.fillRect(n,0,0,r,i,{fillStyle:this.background}),Vd.strokeLine(n,0,i-1,r,i-1,{strokeStyle:this.divider}),t){var a,o=e.bpPerPixel,s=e.bpStart,c=s+r*o+1,u=go(t);try{for(u.s();!(a=u.n()).done;){var l=a.value,h=l.start;if(!(h<s)){if(h>c)break;var f=this.getColorScale(l._f?l._f.chr:l.chr),d=void 0,p=void 0;if(this.posteriorProbability)p=l[this.valueProperty],d=f.getColor(p);else{var g=l[this.valueProperty];if(!g)continue;p=-Math.log10(g),d=f.getColor(p)}var v=(this.dataRange.max-this.dataRange.min)/i,m=Math.round((h-s)/o),y=Math.max(this.dotSize,i-Math.round((p-this.dataRange.min)/v));d&&Vd.setProperties(n,{fillStyle:d,strokeStyle:"black"}),Vd.fillCircle(n,m,y,this.dotSize),l.px=m,l.py=y}}}catch(e){u.e(e)}finally{u.f()}}}},{key:"getColorScale",value:function(e){if(this.useChrColors){var t=this.colorScales[e];if(!t){var n=hA[e]||dy.get();t=new yC(n),this.colorScales[e]=t}return t}return this.colorScales("*")}},{key:"paintAxis",value:function(e,t,n){Vd.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});var r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"},i=(this.dataRange.max-this.dataRange.min)/n;if(this.posteriorProbability)for(var a=this.dataRange.min;a<this.dataRange.max;a+=.1){var o=n-Math.round((a-this.dataRange.min)/i);Vd.strokeLine(e,45,o-2,50,o-2,r),Vd.fillText(e,a.toFixed(1),44,o+2,r)}else for(var s=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),c=this.dataRange.min;c<this.dataRange.max;c+=s){var u=n-Math.round((c-this.dataRange.min)/i);Vd.strokeLine(e,45,u,50,u,r),Vd.fillText(e,Math.floor(c),44,u+4,r)}r.textAlign="center",this.posteriorProbability?Vd.fillText(e,"PPA",t/2,n/2,r,{rotate:{angle:-90}}):Vd.fillText(e,"-log10(pvalue)",t/2,n/2,r,{rotate:{angle:-90}})}},{key:"popupData",value:function(e){var t=[],n=e.viewport.trackView.track,r=e.viewport.getCachedFeatures();if(r){var i,a=0,o=go(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=Math.abs(e.canvasX-s.px),u=Math.abs(e.canvasY-s.py),l=s[this.valueProperty];if(c<this.dotSize&&u<this.dotSize){if(a>0&&t.push("<HR/>"),5==a){t.push("...");break}if("function"==typeof s.popupData)t=t.concat(s.popupData());else{var h=s.realChr||s.chr,f=(s.realStart||s.start)+1;t.push({name:"chromosome",value:h}),t.push({name:"position",value:f}),t.push({name:"name",value:s.name}),n.posteriorProbability?t.push({name:"posterior probability",value:l}):t.push({name:"pValue",value:l})}a++}}}catch(e){o.e(e)}finally{o.f()}}return t}},{key:"menuItemList",value:function(){return dd.numericDataMenuItems(this.trackView)}},{key:"doAutoscale",value:function(e){if(e.length>0){var t=this.valueProperty,n=this.posteriorProbability,r=e.map((function(e){var r=e[t];return{value:n?r:-Math.log(r)/Math.LN10}}));this.dataRange=pb(r)}else this.posteriorProbability?(this.dataRange.min=this.config.min||0,this.dataRange.max=this.config.max||1):(this.dataRange.max=this.config.max||25,this.dataRange.min=this.config.min||0);return this.dataRange}}]),r}(Fw),vA=function(e){ro(i,e);var t,n,r=co(i);function i(e,t){return eo(this,i),r.call(this,e,t)}return no(i,[{key:"init",value:function(e){uo(io(i.prototype),"init",this).call(this,e),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=pC,this.graphType=e.graphType||"bar",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=ZS(this.config,this.browser.genome)}},{key:"postInit",value:(n=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getHeader){e.next=7;break}return e.next=3,this.featureSource.getHeader();case 3:if(this.header=e.sent,this.sampleNames=this.header.columnNames.slice(3),this.setTrackProperties(this.header),this.header.hasOwnProperty("highlight")){this.config.highlightSamples={},t=this.header.highlight,Array.isArray(t)||(t=[t]),n=go(t);try{for(n.s();!(r=n.n()).done;)i=r.value,2===(a=i.split(";")).length&&(this.config.highlightSamples[a[0]]=a[1])}catch(e){n.e(e)}finally{n.f()}}case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"menuItemList",value:function(){return dd.numericDataMenuItems(this.trackView)}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures({chr:t,start:0,end:Number.MAX_VALUE});case 2:i=e.sent,a=void 0,o=void 0,s=1;case 6:if(!(s<i.length-1)){e.next=14;break}if(void 0===a&&i[s].end>n&&(a=s-1),!(void 0===o&&i[s].start>r)){e.next=11;break}return o=s+1,e.abrupt("break",14);case 11:s++,e.next=6;break;case 14:return void 0===a&&(a=0),void 0===o&&(o=i.length),e.abrupt("return",i.slice(a,o));case 17:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,a=e.bpStart;e.pixelWidth;var o=e.pixelHeight,s=function(e){return(t.dataRange.max-e)/(t.dataRange.max-t.dataRange.min)*o},c=function(e){var t=Math.floor((e-a)/i);return isNaN(t)&&console.warn("isNaN(x). feature start "+Hc(e)+" bp start "+Hc(a)),t};if(n&&n.length>0&&(void 0===this.dataRange.min&&(this.dataRange.min=0),this.dataRange.max>this.dataRange.min)){var u=this.config.highlightSamples,l=this.config.onlyHandleClicksForHighlightedSamples,h=-1,f={},d=[],p=[];this.clickDetectorCache={};var g,v=go(n);try{for(v.s();!(g=v.n()).done;){var m=g.value,y=c(m.start),b=c(m.end),w=h>=0?c(h):y;if(!isNaN(y)&&!isNaN(b)&&!(y-w<1&&b-y<1)){this.clickDetectorCache[y]=[],this.clickDetectorCache[b]=[];for(var x=0;x<m.values.length;x++){var k=this.sampleNames[x],_=m.values[x],S=s(_);if(y-w>=1){var C=f[k],E=s(C),A=u&&u[k];A?d.push([w,E,y,S,A]):Vd.strokeLine(r,w,E,y,S,{strokeStyle:"#D9D9D9"}),l&&!(k in u)||this.clickDetectorCache[y].push([w,E,y,S,k,A||"gray"])}if(b-y>=1){var R=u&&u[k];R?p.push([y,S,b,S,R]):Vd.strokeLine(r,y,S,b,S,{strokeStyle:"gray"}),l&&!(k in u)||this.clickDetectorCache[b].push([y,S,b,S,k,R||"gray"])}f[k]=_}h=m.end}}}catch(e){v.e(e)}finally{v.f()}for(var T=0,L=d;T<L.length;T++){var M=L[T];Vd.strokeLine(r,M[0],M[1],M[2],M[3],{strokeStyle:M[4],lineWidth:1.3})}for(var I=0,O=p;I<O.length;I++){var P=O[I];Vd.strokeLine(r,P[0],P[1],P[2],P[3],{strokeStyle:P[4],lineWidth:2})}}!function(e){if(t.config.hasOwnProperty("guideLines")){var n,r=go(t.config.guideLines);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.hasOwnProperty("color")&&i.hasOwnProperty("y")&&i.hasOwnProperty("dotted")){var a=s(i.y),o={strokeStyle:i.color,strokeWidth:2};i.dotted?Vd.dashedLine(e.context,0,a,e.pixelWidth,a,5,o):Vd.strokeLine(e.context,0,a,e.pixelWidth,a,o)}}}catch(e){r.e(e)}finally{r.f()}}}(e)}},{key:"doAutoscale",value:function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach((function(e){t=Math.min.apply(Math,[t].concat(ho(e.values))),n=Math.max.apply(Math,[n].concat(ho(e.values)))})),t-=.01,n+=.01):(t=0,n=100),{min:t,max:n}}},{key:"clickedFeatures",value:function(e){for(var t=e.canvasX,n=e.canvasY,r=null,i=0,a=Object.keys(this.clickDetectorCache);i<a.length&&(r=a[i],!((r=parseInt(r))>=t));i++);if(r){var o,s=Number.MAX_VALUE,c=[],u=go(this.clickDetectorCache[r]);try{for(u.s();!(o=u.n()).done;){var l=o.value,h=l[0],f=l[2];if(t<h||t>f)return[];var d=l[1],p=l[3];if(!(n<Math.min(d,p)-10||n>Math.max(d,p)+10)){var g=mA(t,n,h,d,f,p);g<s&&(c=[{name:l[4],color:l[5]}],s=g)}}}catch(e){u.e(e)}finally{u.f()}if(s<5)return c}return[]}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n=[];return t.forEach((function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];fb(e[i])&&n.push({name:i,value:e[i]})}})),n}},{key:"supportsWholeGenome",value:function(){return!1}}]),i}(Fw);function mA(e,t,n,r,i,a){var o=i-n,s=a-r,c=Math.abs(o*(r-t)-(n-e)*s),u=Math.sqrt(o*o+s*s);return u>0?c/u:0}var yA=function(e){ro(r,e);var t,n=co(r);function r(e,t){var i;return eo(this,r),i=n.call(this,e,t),e.height||(i.height=300),i.arcOrientation=!1,i.theta=Math.PI/2,"bp"===e.format?i.featureSource=new wA(e,t.genome):i.featureSource=new bS(e,t.genome),i}return no(r,[{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:r}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t=e.context,n=Math.PI/2,r=e.pixelWidth,i=e.pixelHeight;e.viewportWidth;var a=e.bpPerPixel,o=e.bpStart,s=a,c=this.arcOrientation;Vd.fillRect(t,0,e.pixelTop,r,i,{fillStyle:"rgb(255, 255, 255)"});var u=e.features;if(u){bA(u,1);var l,h=go(u);try{for(h.s();!(l=h.n()).done;){var f=l.value;if(f.startLeft){var d=Math.round((f.startLeft-o)/s),p=Math.round((f.startRight-o)/s),g=Math.round((f.endLeft-o)/s),v=Math.round((f.endRight-o)/s);t.fillStyle=f.color,t.strokeStyle=f.color,t.beginPath();var m=(d+v)/2,y=(v-d)/2,b=this.height,w=Math.PI+(Math.PI/2-n),x=2*Math.PI-(Math.PI/2-n);c?(b=0,t.arc(m,b,y,x,w),t.lineTo(v,b)):(t.arc(m,b,y,w,x),t.lineTo(g,b));var k=(p+g)/2,_=(g-p)/2,S=b;c?(t.arc(k,S,_,w,x,!0),t.lineTo(g,S)):(t.arc(k,S,_,x,w,!0),t.lineTo(d,S)),t.stroke(),t.fill(),f.drawState={x1:m,y1:b,r1:y,x2:k,y2:S,r2:_,sa:w,ea:x}}else{var C=Math.round((f.start-o)/s),E=Math.round((f.end-o)/s);t.strokeStyle=f.color,t.beginPath();var A=(C+E)/2,R=(E-C)/2,T=this.height,L=Math.PI+(Math.PI/2-n),M=2*Math.PI-(Math.PI/2-n);c?(T=0,t.arc(A,T,R,M,L)):t.arc(A,T,R,L,M),t.stroke(),f.drawState={x1:A,y1:T,r1:R,sa:L,ea:M}}}}catch(e){h.e(e)}finally{h.f()}}}},{key:"clickedFeatures",value:function(e,t){var n=[];bA(t=uo(io(r.prototype),"clickedFeatures",this).call(this,e,t),-1);var i,a=go(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.drawState,c=e.canvasX-s.x1,u=e.canvasY-s.y1,l=Math.sqrt(c*c+u*u),h=s.r1+3,f=void 0,d=void 0;if(void 0===s.x2)f=l,d=s.r1-3;else{var p=e.canvasX-s.x2,g=e.canvasY-s.y2;f=Math.sqrt(p*p+g*g),d=s.r2-3}if(l<h&&f>d){n.push(o);break}}}catch(e){a.e(e)}finally{a.f()}return n}},{key:"popupData",value:function(e,t){if((t=this.clickedFeatures(e,t))&&t.length>0)return Fw.extractPopupData(t[0],this.getGenomeId())}},{key:"menuItemList",value:function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]}}]),r}(Fw);function bA(e,t){e.sort((function(e,n){var r=void 0===e.score?-Number.MAX_VALUE:e.score,i=void 0===n.score?-Number.MAX_VALUE:n.score;return(void 0===t?1:t)*(r-i)}))}var wA=function(){function e(t,n){eo(this,e),this.config=t,this.genome=n}var t;return no(e,[{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){if(!e)return null;for(var t,n=Ww(e),r=!0,i=[],a=[],o=[];void 0!==(t=n.nextLine());){var s=t.split("\t");if(r&&t.startsWith("color:")){var c="rgb("+s[1]+","+s[2]+","+s[3]+")";i.push(c),s.length>4&&a.push(s[4])}else{r=!1;var u=s[0],l=Number.parseInt(s[1])-1,h=Number.parseInt(s[2])-1,f=Number.parseInt(s[3]),d=Number.parseInt(s[4]),p=Number.parseInt(s[5]),g=i[p],v=void 0;(v=l<=d?{chr:u,startLeft:Math.min(l,h),startRight:Math.max(l,h),endLeft:Math.min(f,d),endRight:Math.max(f,d),color:g,score:p}:{chr:u,startLeft:Math.min(f,d),startRight:Math.max(f,d),endLeft:Math.min(l,h),endRight:Math.max(l,h),color:g,score:p}).start=v.startLeft,v.end=v.endRight,a.length>p&&(v.description=a[p]),o.push(v)}}return o},n=t.chr,r=t.start,i=t.end,a=this.genome,this.featureCache){e.next=12;break}return o=db(this.config),e.next=7,$f.loadString(this.config.url,o);case 7:return s=e.sent,this.featureCache=new cd(c(s),a),e.abrupt("return",this.featureCache.queryFeatures(n,r,i));case 12:return e.abrupt("return",this.featureCache.queryFeatures(n,r,i));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),xA=function(){function e(t){eo(this,e),this.browser=t,this.type="ideogram",this.id=this.type,this.height=16,this.order=Number.MIN_SAFE_INTEGER,this.disableButtons=!0,this.ignoreTrackMenu=!0}var t;return no(e,[{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return this.height}},{key:"draw",value:function(e){var t=e.context,n=e.referenceFrame,r=e.pixelWidth,i=e.pixelHeight,a=n.chr,o=n.genome.getChromosome(a);if(!(void 0===o||r<=0||i<=0||"all"===a.toLowerCase())){!function(e){var t=e.ctx,n=e.chr;e.referenceFrame;var r=e.genome,i=e.width,a=e.height,o=e.stainColors,s=1,c=.5*s,u=0;if(void 0===r)return;Vd.fillRect(t,0,0,i,a,{fillStyle:Nf.greyScale(255)});var l=r.getCytobands(n);if(l){var h=u+a/2,f=[],d=[];if(0===l.length)return;var p=i/l[l.length-1].end;t.beginPath(),Vd.roundRect(t,c,c+u,i-2*c,a-2*c,(a-2*c)/2,0,1),t.clip();for(var g=0;g<l.length;g++){var v=l[g],m=p*v.start,y=p*v.end;"c"===v.type?("p"===v.name.charAt(0)?(f[0]=m,d[0]=a+u,f[1]=m,d[1]=u,f[2]=y,d[2]=h):(f[0]=y,d[0]=a+u,f[1]=y,d[1]=u,f[2]=m,d[2]=h),t.fillStyle="rgb(150, 0, 0)",t.strokeStyle="rgb(150, 0, 0)",Vd.polygon(t,f,d,1,0)):(t.fillStyle=kA(o,v),Vd.fillRect(t,m,s+u,y-m,a-2*s))}}t.strokeStyle=Nf.greyScale(41),Vd.roundRect(t,c,c+u,i-2*c,a-2*c,(a-2*c)/2,0,1)}({ctx:t,chr:a,referenceFrame:n,genome:n.genome,width:r,height:i,stainColors:[]});var s=Math.round(n.bpPerPixel*r),c=n.start,u=o.bpLength,l=n.genome.getCytobands(a);if(l&&l.length>0&&l[l.length-1].end&&(u=Math.max(u,l[l.length-1].end),o.bpLength=u),s<u){var h=s/u,f=c/u,d=Math.floor(f*r),p=Math.floor(h*r);d=Math.max(0,d),d=Math.min(r-p,d),t.save(),t.strokeStyle="red",t.lineWidth=p<2?1:2;var g=d+t.lineWidth/2;p=p<2?1:p-t.lineWidth;var v=t.lineWidth/2,m=i-t.lineWidth;t.strokeRect(g,v,p,m),t.restore()}}}},{key:"dispose",value:function(){this.trackView=void 0}}]),e}();function kA(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=t.stain,r=230;"p"===t.type&&(r=Math.floor(230-n/100*230));var i=e[r];return i||(i="rgb("+r+","+r+","+r+")",e[r]=i),i}var _A=new ly("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach((function(e){_A.getColor(e)}));var SA={},CA=function(e){ro(i,e);var t,n,r=co(i);function i(e,t){return eo(this,i),r.call(this,e,t)}return no(i,[{key:"init",value:function(e){uo(io(i.prototype),"init",this).call(this,e),this.type=e.type||"junctions",e._featureSource?(this.featureSource=e._featureSource,delete e._featureSource):this.featureSource=e.featureSource?e.featureSource:ZS(e,this.browser.genome),this.margin=void 0===e.margin?10:e.margin,this.height||(this.height=100),void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5)}},{key:"postInit",value:(n=Ja(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getHeader){e.next=4;break}return e.next=3,this.featureSource.getHeader();case 3:this.header=e.sent;case 4:if(this.header&&this.setTrackProperties(this.header),void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){e.next=10;break}return e.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"supportsWholeGenome",value:function(){return!1}},{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.visibilityWindow,e.abrupt("return",this.featureSource.getFeatures({chr:t,start:n,end:r,bpPerPixel:i,visibilityWindow:a}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return this.height}},{key:"draw",value:function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,a=e.pixelWidth,o=e.pixelHeight,s=i+a*r+1;if(this.config.isMergedTrack||Vd.fillRect(n,0,e.pixelTop,a,o,{fillStyle:"rgb(255, 255, 255)"}),t){var c,u=[],l=go(t);try{for(l.s();!(c=l.n()).done;){c.value;SA.referenceFrame=e.viewport.referenceFrame,SA.referenceFrameStart=SA.referenceFrame.start,SA.referenceFrameEnd=SA.referenceFrameStart+SA.referenceFrame.toBP(Lc(e.viewport.contentDiv).width()),SA.featureZoomOutTracker={};var h,f=go(t);try{for(f.s();!(h=f.n()).done;){var d=h.value;if(!(d.end<i)){if(d.start>s)break;var p=a/u["COLLAPSED"===this.displayMode?0:d.row];e.drawLabel=e.labelAllFeatures||p>10,this.renderJunction(d,i,r,o,n,e)}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){l.e(e)}finally{l.f()}}else console.log("No feature list")}},{key:"renderJunction",value:function(e,t,n,r,i){e.isVisible=!1;var a=Math.round((e.start-t)/n),o=Math.round((e.end-t)/n),s=(a+o)/2;if(o-a<=3){if(s in SA.featureZoomOutTracker)return;SA.featureZoomOutTracker[s]=!0}if(!(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction||this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction||this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif)||this.config.hideStrand===e.strand)){if(this.config.minJunctionEndsVisible){var c=0;if(e.start>=SA.referenceFrameStart&&e.start<=SA.referenceFrameEnd&&(c+=1),e.end>=SA.referenceFrameStart&&e.end<=SA.referenceFrameEnd&&(c+=1),c<this.config.minJunctionEndsVisible)return}var u,l,h,f;if(e.attributes.uniquely_mapped){if((u=parseInt(e.attributes.uniquely_mapped))<this.config.minUniquelyMappedReads)return;if((h=u+(l=parseInt(e.attributes.multi_mapped)))<this.config.minTotalReads)return;if(h>0&&l/h>this.config.maxFractionMultiMappedReads)return;if(e.attributes.maximum_spliced_alignment_overhang&&parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)return}if(e.attributes.num_samples_with_this_junction){if(f=parseInt(e.attributes.num_samples_with_this_junction),this.config.minSamplesWithThisJunction&&f<this.config.minSamplesWithThisJunction)return;if(this.config.maxSamplesWithThisJunction&&f>this.config.maxSamplesWithThisJunction)return;if(e.attributes.num_samples_total&&(e.attributes.percent_samples_with_this_junction=100*f/parseFloat(e.attributes.num_samples_total),this.config.minPercentSamplesWithThisJunction&&(e.attributes.percent_samples_with_this_junction<this.config.minPercentSamplesWithThisJunction||e.attributes.percent_samples_with_this_junction>this.config.maxPercentSamplesWithThisJunction)))return}var d,p,g=this.margin,v=this.height,m=g+.5*v,y=g,b=g+v-10,w=(a+s)/2,x=(s+o)/2,k=1;e.attributes.line_width?k=parseFloat(e.attributes.line_width):(void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?k=u:"numReads"===this.config.thicknessBasedOn?k=h:"numSamplesWithThisJunction"===this.config.thicknessBasedOn&&void 0!==f&&(k=f),k=1+Math.log(k+1)/Math.log(12)),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?d=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?d=6*(e.end-e.start)/(SA.referenceFrameEnd-SA.referenceFrameStart):"thickness"===this.config.bounceHeightBasedOn&&(d=2*k),y+=v*Math.max(7-d,0)/10,p=e.attributes.color?e.attributes.color:void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?u>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?h>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?"true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?"+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy?_A.getColor(e.attributes.motif):"#AAAAAA";var _="";e.attributes.label?_=e.attributes.label.replace(/_/g," "):void 0===this.config.labelWith||"uniqueReadCount"===this.config.labelWith?_=u:"totalReadCount"===this.config.labelWith?_=h:"numSamplesWithThisJunction"===this.config.labelWith?void 0!==f&&(_=f):"percentSamplesWithThisJunction"===this.config.labelWith?void 0!==e.attributes.percent_samples_with_this_junction&&(_=e.attributes.percent_samples_with_this_junction.toFixed(0)+"%"):"motif"===this.config.labelWith&&void 0!==e.attributes.motif&&(_+=e.attributes.motif),"uniqueReadCount"===this.config.labelWithInParen?_+=" ("+u+")":"totalReadCount"===this.config.labelWithInParen?_+=" ("+h+")":"multiMappedReadCount"===this.config.labelWithInParen?l>0&&(_+=" (+"+l+")"):"numSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==f&&(_+=" ("+f+")"):"percentSamplesWithThisJunction"===this.config.labelWithInParen?void 0!==e.attributes.percent_samples_with_this_junction&&(_+=" ("+e.attributes.percent_samples_with_this_junction.toFixed(0)+"%)"):"motif"===this.config.labelWithInParen&&void 0!==e.attributes.motif&&(_+=" ".concat(e.attributes.motif)),e.isVisible=!0,i.beginPath(),i.moveTo(a,b),i.bezierCurveTo(w,y,x,y,o,b),i.lineWidth=k,i.strokeStyle=p,i.stroke();var S=function(e,t,n,r){e.beginPath(),e.moveTo(t,n),e.lineTo(t-r/2,n-r),e.lineTo(t+r/2,n-r),e.lineTo(t,n),e.closePath(),e.fill()};if(e.attributes.left_shape||e.attributes.right_shape){i.fillStyle=p;var C=i.lineWidth>2?10:7;e.attributes.left_shape&&S(i,a,b,C),e.attributes.right_shape&&S(i,o,b,C)}i.fillText(_,s-i.measureText(_).width/2,(7*y+m)/8)}}},{key:"clickedFeatures",value:function(e,t){return uo(io(i.prototype),"clickedFeatures",this).call(this,e,t).filter((function(e){return e.isVisible&&e.attributes}))}},{key:"popupData",value:function(e,t){t=this.clickedFeatures(e,t);var n,r=e.genomicLocation,i=[],a=go(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s="function"==typeof o.popupData?o.popupData(r):this.extractPopupData(o._f||o,this.getGenomeId());s&&(i.length>0&&i.push("<hr/><hr/>"),Array.prototype.push.apply(i,s))}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"description",value:function(){return this.name}},{key:"dispose",value:function(){this.trackView=void 0}}]),i}(Fw),EA=new Map([["ideogram",function(e,t){return new xA(e,t)}],["sequence",function(e,t){return new wy(e,t)}],["feature",function(e,t){return new dC(e,t)}],["seg",function(e,t){return new bC(e,t)}],["mut",function(e,t){return new bC(e,t)}],["maf",function(e,t){return new bC(e,t)}],["wig",function(e,t){return new gC(e,t)}],["merged",function(e,t){return new SC(e,t)}],["alignment",function(e,t){return new WE(e,t)}],["interaction",function(e,t){return new JE(e,t)}],["interact",function(e,t){return new JE(e,t)}],["variant",function(e,t){return new cA(e,t)}],["eqtl",function(e,t){return new lA(e,t)}],["gwas",function(e,t){return new gA(e,t)}],["arc",function(e,t){return new yA(e,t)}],["gcnv",function(e,t){return new vA(e,t)}],["junction",function(e,t){return new CA(e,t)}]]),AA=function(e,t){EA.set(e,t)},RA=function(e,t,n){var r;switch(e){case"annotation":case"genes":case"fusionjuncspan":case"snp":r="feature";break;case"seg":case"maf":case"mut":r="seg";break;case"junctions":case"splicejunctions":r="junction";break;default:r=e}return EA.has(r)?EA.get(r)(t,n):void 0},TA=function(){function e(t,n){eo(this,e),this.config=t,this.name=t.name,this.roiSource=ZS(t,n),this.color=t.color||"rgba(68, 134, 247, 0.25)"}var t;return no(e,[{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.roiSource.getFeatures({chr:t,start:n,end:r}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"draw",value:function(e){var t,n,r,i;if(i=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var a=0,o=i.length;a<o;a++)if(!((n=i[a]).end<e.bpStart)){if(n.start>t)break;r=LA(n,e.bpStart,e.bpPerPixel),Vd.fillRect(e.context,r.x,e.pixelTop,r.width,e.pixelHeight,{fillStyle:this.color})}}}}]),e}();function LA(e,t,n){var r,i;return r=Math.round((e.start-t)/n),(i=Math.round((e.end-t)/n)-r)<3&&(i=3,r-=1),{x:r,width:i}}var MA=function(){function e(t,n){eo(this,e);var r=(new DOMParser).parseFromString(t,"text/xml");this.processRootNode(r,n);var i=r.getElementsByTagName("Resource"),a=r.getElementsByTagName("Track"),o=a&&a.length>0,s=[];this.tracks=s;var c=new Map;Array.from(i).forEach((function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};c.set(n.url,n),o||s.push(n)})),o&&Array.from(a).forEach((function(e){var t=e.getElementsByTagName("Track");if(t&&t.length>0){var n={type:"merged",tracks:[]};IA(e,n),s.push(n),Array.from(t).forEach((function(e){e.processed=!0;var t=e.getAttribute("id"),r=c.get(t);r&&(n.tracks.push(r),IA(e,r),r.autoscale=!1,n.height=r.height)}))}else if(!e.processed){var r=e.getAttribute("id"),i=c.get(r);i&&(s.push(i),IA(e,i))}}))}return no(e,[{key:"processRootNode",value:function(e,t){var n=e.getElementsByTagName("Session");!n||n.length;var r=n.item(0),i=r.getAttribute("genome"),a=r.getAttribute("locus"),o=r.getAttribute("ucscID");t&&t.hasOwnProperty(i)?this.genome=i:(this.reference={fastaURL:i},o&&(this.reference.id=o)),a&&(this.locus=a)}}]),e}();function IA(e,t){t.name=e.getAttribute("name");var n=e.getAttribute("color");n&&(t.color="rgb("+n+")");var r=e.getAttribute("altColor");n&&(t.altColor="rgb("+r+")");var i=e.getAttribute("height");i&&(t.height=parseInt(i));var a=e.getAttribute("autoScale");a&&(t.autoscale="true"===a);var o=e.getAttribute("autoscaleGroup");o&&(t.autoscaleGroup=o);var s=e.getAttribute("windowFunction");s&&(t.windowFunction=s);var c=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow");c&&(t.visibilityWindow=c);var u=e.getAttribute("indexed");u&&(t.indexed="true"===u);var l=e.getAttribute("normalize");l&&(t.normalize="true"===l);var h=e.getElementsByTagName("DataRange");if(h.length>0){var f=h.item(0);t.min=Number.parseFloat(f.getAttribute("minimum")),t.max=Number.parseFloat(f.getAttribute("maximum")),t.logScale="LOG"===f.getAttribute("type")}}var OA=jc,PA=function(){function e(){eo(this,e),this.attributes={},this.plinkLoaded=!1}var t;return no(e,[{key:"loadPlinkFile",value:(t=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),r=db(n),e.next=4,$f.loadString(t,r);case 4:i=e.sent,a=OA(i),o=go(a);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.split(" "),this.attributes[u[1]]={familyId:u[0],fatherId:u[2],motherId:u[3],sex:u[4],phenotype:u[5]}}catch(e){o.e(e)}finally{o.f()}return this.plinkLoaded=!0,e.abrupt("return",this);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getAttributes",value:function(e){return this.attributes[e]}},{key:"getAttributeNames",value:function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]}},{key:"hasAttributes",value:function(){return Object.keys(this.attributes).length>0}}]),e}();function NA(e,t){return(new PA).loadPlinkFile(e,t)}var FA=function(){function e(t,n){eo(this,e),this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,t&&(this.gene=t.toUpperCase(),this.geneColors[this.gene]=DA[this.genesCount++]),n&&(this.snp=n.toUpperCase())}return no(e,[{key:"addGene",value:function(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=DA[this.genesCount++])}},{key:"colorForGene",value:function(e){return this.geneColors[e.toUpperCase()]}}]),e}(),DA=new Array;DA.push("rgb(228,26,28)"),DA.push("rgb(55,126,184)"),DA.push("rgb(77,175,74)"),DA.push("rgb(166,86,40)"),DA.push("rgb(152,78,163)"),DA.push("rgb(255,127,0)"),DA.push("rgb(247,129,191)"),DA.push("rgb(153,153,153)"),DA.push("rgb(255,255,51)"),DA.push("rgb(102, 194, 165"),DA.push("rgb(252, 141, 98"),DA.push("rgb(141, 160, 203"),DA.push("rgb(231, 138, 195"),DA.push("rgb(166, 216, 84"),DA.push("rgb(255, 217, 47"),DA.push("rgb(229, 196, 148"),DA.push("rgb(179, 179, 179"),DA.push("rgb( 141, 211, 199"),DA.push("rgb(255, 255, 179"),DA.push("rgb(190, 186, 218"),DA.push("rgb(251, 128, 114"),DA.push("rgb(128, 177, 211"),DA.push("rgb(253, 180, 98"),DA.push("rgb(179, 222, 105"),DA.push("rgb(252, 205, 229"),DA.push("rgb(217, 217, 217"),DA.push("rgb(188, 128, 189"),DA.push("rgb(204, 235, 197"),DA.push("rgb(255, 237, 111");var BA=function(){function e(t,n,r,i,a){eo(this,e),this.genome=t,this.chr=n,this.start=r,this.end=i,this.bpPerPixel=a,this.id=Pc()}var t;return no(e,[{key:"calculateEnd",value:function(e){return this.start+this.bpPerPixel*e}},{key:"calculateBPP",value:function(e,t){return(e-this.start)/t}},{key:"set",value:function(e){this.chr=e.chr,this.start=e.start,this.bpPerPixel=e.bpPerPixel}},{key:"toPixels",value:function(e){return e/this.bpPerPixel}},{key:"toBP",value:function(e){return this.bpPerPixel*e}},{key:"shiftPixels",value:function(e,t){var n=this.start,r=e*this.bpPerPixel;this.start+=r,this.clampStart(t),this.end+=r;var i=this.genome.getChromosome(this.chr).bpLength;return this.end=Math.min(i,this.end),n!==this.start}},{key:"clampStart",value:function(e){var t=this.genome.getChromosome(this.chr).bpStart||0;if(this.start=Math.max(t,this.start),e){var n=this.genome.getChromosome(this.chr).bpLength-e*this.bpPerPixel;this.start>n&&(this.start=n)}}},{key:"zoomWithScaleFactor",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===i?this.start+this.toBP(r/2):i,o=this.start,s=o.start,c=o.bpPerPixel,u=this.getChromosome(),l=u.bpLength,h=n<1?t.minimumBases()/r:l/r,this.bpPerPixel=n<1?Math.max(this.bpPerPixel*n,h):Math.min(this.bpPerPixel*n,h),f=this.bpPerPixel*r,this.start=a-.5*f,this.clampStart(r),this.end=this.start+f,s===this.start&&c===this.bpPerPixel){e.next=13;break}return e.next=13,t.updateViews(this);case 13:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"getChromosome",value:function(){return this.genome.getChromosome(this.chr)}},{key:"getMultiLocusLabel",value:function(e){var t=Math.floor(this.start)+1,n=Math.round(this.start+this.bpPerPixel*e);return"".concat(this.chr).concat("&nbsp &nbsp &nbsp").concat(yb(n-t))}},{key:"getPresentationLocusComponents",value:function(e){if("all"===this.chr)return{chr:this.chr};var t=Hc(Math.floor(this.start)+1),n=Hc(Math.round(this.start+this.bpPerPixel*e));return{chr:this.chr,start:t,end:n}}},{key:"getLocusString",value:function(){if("all"===this.chr)return"all";var e=Hc(Math.floor(this.start)+1),t=Hc(Math.round(this.end));return"".concat(this.chr,":").concat(e,"-").concat(t)}},{key:"description",value:function(e){console.log(" ".concat(e||""," referenceFrame - ").concat(this.chr," bpp ").concat(this.bpPerPixel.toFixed(3)," start ").concat(Hc(Math.round(this.start))," end ").concat(Hc(Math.round(this.end))," "))}}]),e}();function zA(e,t,n,r,i){return e.map((function(e){n&&e.gene&&(e.start=Math.max(0,e.start-n),e.end+=n);var a=t.getChromosome(e.chr);gb(a.bpLength,e,r);var o=new BA(t,e.chr,e.start,e.end,(e.end-e.start)/i);return o.locusSearchString=e.locusSearchString,(e.gene||e.snp)&&(o.selection=new FA(e.gene,e.snp)),o}))}function HA(e,t,n,r,i){t.bpPerPixel*=e;var a=(r+(r+i))/2;t.start=a-t.bpPerPixel*(n/2),t.end=t.start+t.bpPerPixel*n,t.locusSearchString=t.getLocusString()}function jA(e,t,n,r,i,a){var o=(i+(i+a))/2-n*(r/2);return new BA(e,t,o,o+n*r,n)}var VA={A:"rgb(  0, 200,   0)",C:"rgb(  0,0,200)",T:"rgb(255,0,0)",G:"rgb(209,113,  5)",N:"rgb(80,80,80)"},UA={timeout:5e3,type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"};function qA(e,t){return WA.apply(this,arguments)}function WA(){return WA=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&""!==n.trim()){e.next=2;break}return e.abrupt("return");case 2:(n&&"all"===n.trim().toLowerCase()||"*"===n)&&(n="all"),r=n.split(" "),i=t.searchConfig||UA,a=[],o=function(){var e=Ja(regeneratorRuntime.mark((function e(r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=GA(t,r))||(o=t.genome.featureDB[r.toUpperCase()])&&(a={chr:o.chr,start:o.start,end:o.end,gene:o.name,locusSearchString:n}),a||!t.config||!1===t.config.search){e.next=13;break}return e.prev=3,e.next=6,$A(t,r,i);case 6:a=e.sent,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.error(e.t0),Error("Search service currently unavailable.");case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),s=go(r),e.prev=8,s.s();case 10:if((c=s.n()).done){e.next=18;break}return u=c.value,e.next=14,o(u);case 14:(l=e.sent)&&(l.locusSearchString=u,a.push(l));case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),s.e(e.t0);case 23:return e.prev=23,s.f(),e.finish(23);case 26:if(0!==a.length){e.next=31;break}return e.next=29,o(n);case 29:(h=e.sent)&&(h.locusSearchString=n,a.push(h));case 31:return e.abrupt("return",0===a.length?void 0:a);case 32:case"end":return e.stop()}}),e,null,[[8,20,23,26]])}))),WA.apply(this,arguments)}function GA(e,t){var n=t.split(":"),r=n[0];if("all"===r&&e.genome.getChromosome(r))return{chr:r,start:0,end:e.genome.getChromosome(r).bpLength};if(void 0!==e.genome.getChromosome(r)){var i={chr:e.genome.getChromosomeName(r),start:0,end:e.genome.getChromosome(r).bpLength};if(n.length>1){var a,o=n[1].split("-");if(o.length>2)return;if(a=o[0].replace(/,/g,""),isNaN(a))return;if(i.start=parseInt(a,10)-1,i.end=i.start+1,1===o.length&&(i.start-=20,i.end+=20),2===o.length){if(a=o[1].replace(/,/g,""),isNaN(a))return;i.end=parseInt(a,10)}}return i}}function $A(e,t,n){return ZA.apply(this,arguments)}function ZA(){return ZA=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=r.url.replace("$FEATURE$",n.toUpperCase())).indexOf("$GENOME$")>-1&&(i=i.replace("$GENOME$",t.genome.id?t.genome.id:"hg19")),a=r.timeout?{timeout:r.timeout}:void 0,e.next=5,$f.loadString(i,a);case 5:return o=e.sent,(s=YA(t,o,r))&&(s.locusSearchString=n),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}function YA(e,t,n){var r;if(r="plain"===n.type?function(e,t){var n=[],r=[];return jc(t).forEach((function(e){""===e||n.push(e)})),n.forEach((function(t){var n,i,a,o,s=t.split("\t");s.length>=3&&(a=(i=s[1].split(":"))[1].split("-"),n=s[2].trim(),o={gene:s[0],chromosome:e.genome.getChromosomeName(i[0].trim()),start:parseInt(a[0].replace(/,/g,"")),end:parseInt(a[1].replace(/,/g,"")),type:"gtex"===n?"snp":"gene"},r.push(o))})),r}(e,t):JSON.parse(t),n.resultsField&&(r=r[n.resultsField]),r&&0!==r.length){var i,a=n.chromosomeField||"chromosome",o=n.startField||"start",s=n.endField||"end",c=n.coords||1;(i=Array.isArray(r)?r[0]:r).hasOwnProperty(a)&&i.hasOwnProperty(o)||console.error("Search service results must include chromosome and start fields: "+i);var u=i[a],l=e.genome.getChromosome(u);if(!l)return;var h=l.name,f=i[o]-c,d=i[s];void 0===d&&(d=f+1);var p={chr:h,start:f,end:d},g=i.type?i.type:"gene";return n.geneField&&"gene"===g&&(p.gene=i[n.geneField]),n.snpField&&"snp"===g&&(p.snp=i[n.snpField]),p}}var XA=function(){function e(t){eo(this,e),this.browser=t}return no(e,[{key:"navbarDidResize",value:function(e,t){this.updateNavbar(this.createResponsiveClassSchedule(e,t))}},{key:"updateNavbar",value:function(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),Lc(this.browser.zoomWidget.zoomContainer).removeClass(),Lc(this.browser.zoomWidget.zoomContainer).addClass(e.zoomContainer)}},{key:"createResponsiveClassSchedule",value:function(e,t){var n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-navbar-toggle-button-container",n.zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-navbar-toggle-button-container",n.zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-navbar-toggle-button-container-750",n.zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-navbar-toggle-button-container-750",n.zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.zoomContainer="igv-zoom-widget-hidden"),n}}]),e}(),KA=function(e,t){var n=this;this.container=Mc({class:"igv-chromosome-select-widget-container"}),t.appendChild(this.container),this.select=document.createElement("select"),this.select.setAttribute("name","chromosome-select-widget"),this.container.appendChild(this.select),this.select.addEventListener("change",(function(){n.select.blur(),""!==n.select.value&&e.search(n.select.value)})),this.showAllChromosomes=!1!==e.config.showAllChromosomes};KA.prototype.show=function(){this.container.style.display="flex"},KA.prototype.hide=function(){this.container.style.display="none"},KA.prototype.update=function(e){var t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift("")),this.select.innerHTML="";var n,r=go(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=document.createElement("option");a.setAttribute("value",i),a.innerText=i,this.select.appendChild(a)}}catch(e){r.e(e)}finally{r.f()}};var QA=function(){function e(t,n){var r=this;eo(this,e),this.container=Mc({class:"igv-windowsize-panel-container"}),t.appendChild(this.container),n.on("locuschange",(function(e){r.updatePanel(e)})),this.browser=n}return no(e,[{key:"show",value:function(){this.container.style.display="block"}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"updatePanel",value:function(e){var t=this.browser.calculateViewportWidth(this.browser.referenceFrameList.length);this.container.innerText=1===e.length?yb(Math.round(t*e[0].bpPerPixel)):""}}]),e}(),JA=function(){function e(t,n){eo(this,e),this.browser=n,this.columnContainer=t,this.horizontalGuide=Mc({class:"igv-cursor-guide-horizontal"}),t.appendChild(this.horizontalGuide),this.verticalGuide=Mc({class:"igv-cursor-guide-vertical"}),t.appendChild(this.verticalGuide),this.addMouseHandler(n),this.setVisibility(n.config.showCursorTrackingGuide)}return no(e,[{key:"addMouseHandler",value:function(e){this.boundMouseMoveHandler=function(t){var n=Nc(t,this.columnContainer),r=n.x,i=n.y;this.horizontalGuide.style.top="".concat(i,"px");var a=document.elementFromPoint(t.clientX,t.clientY),o=void 0;a.parentElement.classList.contains("igv-viewport-content")?o=a.parentElement.parentElement:a.parentElement.classList.contains("igv-viewport")&&a.classList.contains("igv-viewport-content")&&(o=a.parentElement);if(o&&e.getRulerTrackView()){this.verticalGuide.style.left="".concat(r,"px");for(var s=e.root.querySelectorAll(".igv-column"),c=void 0,u=o.parentElement,l=0;l<s.length;l++)void 0===c&&u===s[l]&&(c=l);var h=e.getRulerTrackView().viewports[c].mouseMove(t);if(h){var f=h.start,d=h.bp,p=h.end,g=(d-f)/(p-f);this.customMouseHandler&&this.customMouseHandler({start:f,bp:d,end:p,interpolant:g})}}}.bind(this),this.columnContainer.addEventListener("mousemove",this.boundMouseMoveHandler)}},{key:"removeMouseHandler",value:function(){this.columnContainer.removeEventListener("mousemove",this.boundMouseMoveHandler)}},{key:"setVisibility",value:function(e){!0===e?this.show():this.hide()}},{key:"show",value:function(){this.verticalGuide.style.display="block",this.horizontalGuide.style.display="block"}},{key:"hide",value:function(){if(this.verticalGuide.style.display="none",this.horizontalGuide.style.display="none",this.browser.getRulerTrackView()){var e,t=go(this.browser.getRulerTrackView().viewports);try{for(t.s();!(e=t.n()).done;){e.value.$tooltip.hide()}}catch(e){t.e(e)}finally{t.f()}}}}]),e}(),eR=function(){function e(t,n){var r=this;eo(this,e),this.browser=t,this.button=Mc({class:"igv-navbar-button"}),n.appendChild(this.button),this.button.textContent="cursor guide",this.button.addEventListener("click",(function(){t.cursorGuideVisible=!t.cursorGuideVisible,t.setCursorGuideVisibility(t.cursorGuideVisible),r.setButtonState(t.cursorGuideVisible)})),this.setButtonState(t.cursorGuideVisible),t.config.showCursorTrackingGuideButton?this.show():this.hide()}return no(e,[{key:"setButtonState",value:function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}},{key:"show",value:function(){this.button.style.display="block",this.setButtonState(this.browser.cursorGuideVisible)}},{key:"hide",value:function(){this.button.style.display="none"}}]),e}(),tR=function(){function e(t,n){var r=this;eo(this,e),this.browser=t,this.button=Mc({class:"igv-navbar-button"}),n.appendChild(this.button),this.button.textContent="center line",this.button.addEventListener("click",(function(){t.isCenterLineVisible=!t.isCenterLineVisible,t.setCenterLineVisibility(t.isCenterLineVisible),r.setButtonState(t.isCenterLineVisible)})),this.setButtonState(t.isCenterLineVisible),t.config.showCenterGuideButton?this.show():this.hide()}return no(e,[{key:"setButtonState",value:function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}},{key:"show",value:function(){this.isVisible=!0,this.button.style.display="block",this.setButtonState(this.browser.isCenterLineVisible)}},{key:"hide",value:function(){this.isVisible=!1,this.button.style.display="none"}}]),e}(),nR=function(e,t){var n=this;this.button=Mc({class:"igv-navbar-button"}),e.appendChild(this.button),this.button.textContent="track labels",this.button.addEventListener("click",(function(){t.trackLabelsVisible=!t.trackLabelsVisible,n.setState(t.trackLabelsVisible),t.setTrackLabelVisibility(t.trackLabelsVisible)})),this.browser=t,this.setVisibility(t.config.showTrackLabelButton),this.setState(t.trackLabelsVisible)};nR.prototype.setVisibility=function(e){!0===e?this.show():this.hide()},nR.prototype.setState=function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")},nR.prototype.show=function(){this.button.style.display="block",this.setState(this.browser.trackLabelsVisible)},nR.prototype.hide=function(){this.button.style.display="none"};var rR=function(){function e(t,n){var r=this;eo(this,e),this.button=Mc({class:"igv-navbar-button"}),t.appendChild(this.button),this.button.innerText="Sample Names",this.setState(n.showSampleNames),this.setVisibility(n.showSampleNameButton),this.button.addEventListener("click",(function(){n.showSampleNames=!n.showSampleNames,r.setState(n.showSampleNames);var e,t=go(n.trackViews);try{for(t.s();!(e=t.n()).done;){var i=e.value.sampleNameViewport;!1===n.showSampleNames?i.hide():i.show()}}catch(e){t.e(e)}finally{t.f()}n.resize()}))}return no(e,[{key:"setVisibility",value:function(e){!0===e?this.show():this.hide()}},{key:"setState",value:function(e){!0===e?this.button.classList.add("igv-navbar-button-clicked"):this.button.classList.remove("igv-navbar-button-clicked")}},{key:"hide",value:function(){this.button.style.display="none"}},{key:"show",value:function(){this.button.style.display="block"}}]),e}(),iR=Math.log,aR=Math.LN2;Oe({target:"Math",stat:!0},{log2:function(e){return iR(e)/aR}});var oR=23,sR=0,cR=function(e,t){var n=this;this.browser=e,this.zoomContainer=Mc({class:"igv-zoom-widget"}),t.appendChild(this.zoomContainer),this.zoomOutButton=Mc(),this.zoomContainer.appendChild(this.zoomOutButton),this.zoomOutButton.appendChild(Fc("minus-circle")),this.zoomOutButton.addEventListener("click",(function(){e.zoomOut()}));var r=Mc();this.zoomContainer.appendChild(r),this.slider=document.createElement("input"),this.slider.type="range",this.slider.min="".concat(0),this.slider.max="".concat(oR),r.appendChild(this.slider),this.slider.addEventListener("change",(function(t){t.preventDefault(),t.stopPropagation();var n=e.referenceFrameList[0],r=n.genome.getChromosome(n.chr).bpLength,i=n.end-n.start,a=r/Math.pow(2,t.target.valueAsNumber);e.zoomWithScaleFactor(a/i)})),this.zoomInButton=Mc(),this.zoomContainer.appendChild(this.zoomInButton),this.zoomInButton.appendChild(Fc("plus-circle")),this.zoomInButton.addEventListener("click",(function(){e.zoomIn()})),e.on("locuschange",(function(e){n.browser.isMultiLocusMode()?n.disable():(n.enable(),n.update(e))}))};cR.prototype.update=function(e){var t=e[0],n=t.genome.getChromosome(t.chr).bpLength,r=t.start,i=t.end;oR=Math.ceil(Math.log2(n/this.browser.minimumBases())),this.slider.max="".concat(oR);var a=n/(i-r);sR=Math.log2(a),this.slider.value="".concat(Math.round(sR))},cR.prototype.enable=function(){this.slider.disabled=!1},cR.prototype.disable=function(){this.slider.disabled=!0},cR.prototype.hide=function(){this.zoomContainer.style.display="none"},cR.prototype.show=function(){this.zoomContainer.style.display="block"},cR.prototype.hideSlider=function(){this.slider.style.display="none"},cR.prototype.showSlider=function(){this.slider.style.display="block"};var uR=function(e,t){var n=Mc({class:"igv-navbar-button"});e.append(n),n.textContent="Save SVG",n.addEventListener("click",(function(){return t.saveSVGtoFile({})}))},lR=function(e,t){var n=0===e?t.nextElementSibling:t.previousElementSibling;t.remove(),n.remove()},hR=function(e){var t=Mc({class:"igv-column-shim"});kb(t,e);var n=Mc({class:"igv-column"});return kb(n,t),n},fR=function(e,t){for(var n=0;n<t;n++){var r=Mc({class:"igv-column"});if(xb(r,e),t>1&&n>0)xb(Mc({class:"igv-column-shim"}),r)}},dR=function(){function e(t,n,r){eo(this,e),this.browser=t,this.referenceFrame=n,this.column=r,this.container=Mc({class:"igv-center-line"}),r.appendChild(this.container),t.isCenterLineVisible?this.show():this.hide()}return no(e,[{key:"repaint",value:function(){var e=this.column.getBoundingClientRect().x,t=Math.floor(e+.5*this.browser.calculateViewportWidth(this.browser.referenceFrameList.length));this.referenceFrame&&(1/this.referenceFrame.bpPerPixel>1?(this.container.style.left="".concat(t,"px"),this.container.style.width="".concat(Math.floor(this.referenceFrame.toPixels(1)),"px"),this.container.classList.remove("igv-center-line-thin"),this.container.classList.add("igv-center-line-wide")):(this.container.style.left="".concat(t,"px"),this.container.style.width="1px",this.container.classList.remove("igv-center-line-wide"),this.container.classList.add("igv-center-line-thin")))}},{key:"show",value:function(){this.isVisible=!0,this.container.style.display="block",this.repaint()}},{key:"hide",value:function(){this.isVisible=!1,this.container.style.display="none"}},{key:"resize",value:function(){this.repaint()}}]),e}(),pR=Hc,gR=function(){function e(t){eo(this,e),this.browser=t,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=.01*Number.MIN_SAFE_INTEGER,this.removable=!1,this.type="ruler"}var t;return no(e,[{key:"getFeatures",value:(t=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"computePixelHeight",value:function(e){return this.height}},{key:"draw",value:function(e){var t=e.context,n=e.referenceFrame,r=e.pixelWidth,i=e.pixelHeight,a=e.bpPerPixel,o=e.bpStart;$y.isWholeGenomeView(n.chr)?this.drawWholeGenome({context:t,pixelWidth:r,pixelHeight:i,bpPerPixel:a}):this.doDraw({context:t,referenceFrame:n,pixelWidth:r,pixelHeight:i,bpStart:o})}},{key:"drawWholeGenome",value:function(e){var t=e.context,n=e.pixelWidth,r=e.pixelHeight,i=e.bpPerPixel;t.save(),Vd.fillRect(t,0,0,n,r,{fillStyle:"white"});var a,o=go(this.browser.genome.wgChromosomeNames);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=this.browser.genome.getCumulativeOffset(s),u=this.browser.genome.getChromosome(s).bpLength,l=Math.round(c/i),h=Math.round(u/i);this.renderChromosomeRect(t,l,0,h,r,s)}}catch(e){o.e(e)}finally{o.f()}t.restore()}},{key:"doDraw",value:function(e){var t=e.context,n=e.referenceFrame,r=e.pixelWidth,i=e.pixelHeight,a=e.bpStart;t.clearRect(0,0,r,i);var o,s,c=function(e,t){if(e<10)return new vR(1,"bp",1);var n=Math.floor(Math.log10(e)),r="bp",i=1;n>9?(r="gb",i=1e9):n>6?(r="mb",i=1e6):n>3&&(r="kb",i=1e3);var a=Math.pow(10,n-1),o=e/a,s=75,c=Math.pow(10,n-1),u=Math.pow(10,n)/2;return new vR(o<s&&!0!==t?c:u,r,i)}(Math.floor(n.toBP(r)),t.isSVG),u=Math.floor(a/c.majorTick)-1,l=function(e,t,n,r,i){var a=u(t,c(1+r,i),n)-u(t,c(r,i),n),o="".concat(Hc(Math.floor(c(r,i)/i.unitMultiplier))," ").concat(i.majorUnit),s=Math.floor(e.measureText(o).width);return{tickDelta:a,labelLength:s};function c(e,t){return Math.floor(e*t.majorTick)}function u(e,t,n){return Math.round(e.toPixels(t-1-n+.5))}}(t,n,a,u,c),h=l.tickDelta,f=l.labelLength;this.browser.referenceFrameList.indexOf(n);var d=h,p=.25*f;do{s=Math.floor(u*c.majorTick);var g="".concat(Hc(Math.floor(s/c.unitMultiplier))," ").concat(c.majorUnit);o=Math.round(n.toPixels(s-1-a+.5));var v=Math.round(o-t.measureText(g).width/2);v>0&&p+f<=d&&(Vd.fillText(t,g,v,this.height-8),d=0),o>0&&Vd.strokeLine(t,o,this.height-6,o,this.height-2),s=Math.floor((1+u)*c.majorTick);var m=o+(Math.round(n.toPixels(s-1-a+.5))-o)/2;m>0&&Vd.strokeLine(t,m,this.height-6,m,this.height-2),++u,d+=h}while(o<r);Vd.strokeLine(t,0,this.height-2,r,this.height-2)}},{key:"renderChromosomeRect",value:function(e,t,n,r,i,a){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",Vd.strokeLine(e,t+r,n,t+r,n+i,{strokeStyle:Nf.greyScale(191)});var o=a.startsWith("chr")?a.substring(3):a;r>e.measureText(o).width&&Vd.fillText(e,o,t+r/2,n+i/2,{fillStyle:Nf.greyScale(68)})}},{key:"supportsWholeGenome",value:function(){return!0}},{key:"dispose",value:function(){}}]),e}();var vR=function(){function e(t,n,r){eo(this,e),this.majorTick=t,this.minorTick=t/10,this.majorUnit=n,this.unitMultiplier=r}return no(e,[{key:"description",value:function(e){console.log((e||"")+" tick "+pR(this.majorTick)+" label width "+pR(this.labelWidthBP)+" multiplier "+this.unitMultiplier)}}]),e}(),mR=function(){function e(t,n){eo(this,e),this.config=t,this.guid=Pc(),this.namespace=".browser_"+this.guid,this.parent=n,this.root=Mc({class:"igv-container"}),n.appendChild(this.root),Ld.init(this.root),this.columnContainer=Mc({class:"igv-column-container"}),this.root.appendChild(this.columnContainer),this.menuPopup=new Rb(this.columnContainer),this.initialize(t),this.trackViews=[],this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:t.doubleClickDelay||500},this.eventHandlers={},this.addMouseHandlers(),this.setControls(t)}var t,n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m;return no(e,[{key:"initialize",value:function(e){e.gtex&&(nC.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,this.nucleotideColors=e.nucleotideColors||VA;for(var t=0,n=Object.keys(this.nucleotideColors);t<n.length;t++){var r=n[t];this.nucleotideColors[r.toLowerCase()]=this.nucleotideColors[r]}this.trackLabelsVisible=e.showTrackLabels,this.isCenterLineVisible=e.showCenterGuide,this.cursorGuideVisible=e.showCursorTrackingGuide,this.showSampleNames=e.showSampleNames,this.showSampleNameButton=e.showSampleNameButton,this.sampleNameViewportWidth=e.sampleNameViewportWidth||200,e.search&&(this.searchConfig={type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField})}},{key:"setControls",value:function(e){var t=this.createStandardControls(e);t.insertBefore(Lc(this.columnContainer)),this.$navigation=t,!1===e.showControls&&t.hide()}},{key:"createStandardControls",value:function(e){var t=this;this.navbarManager=new XA(this);var n=Lc("<div>",{class:"igv-navbar"});this.$navigation=n;var r=Lc("<div>",{class:"igv-navbar-left-container"});n.append(r);var i=Lc("<div>",{class:"igv-logo"});r.append(i);var a=Lc('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>');a.css("width","34px"),a.css("height","32px"),i.append(a),this.$current_genome=Lc("<div>",{class:"igv-current-genome"}),r.append(this.$current_genome),this.$current_genome.text("");var o=Lc("<div>",{class:"igv-navbar-genomic-location"});r.append(o),this.chromosomeSelectWidget=new KA(this,o.get(0)),void 0===e.showChromosomeWidget&&(e.showChromosomeWidget=!0),!0===e.showChromosomeWidget?this.chromosomeSelectWidget.show():this.chromosomeSelectWidget.hide();var s=Lc("<div>",{class:"igv-locus-size-group"});o.append(s);var c=Lc("<div>",{class:"igv-search-container"});s.append(c),this.$searchInput=Lc("<input>",{class:"igv-search-input",type:"text",placeholder:"Locus Search"}),c.append(this.$searchInput),this.$searchInput.change((function(){return t.doSearch(t.$searchInput.val())}));var u=Mc({class:"igv-search-icon-container"});c.append(Lc(u)),u.appendChild(Fc("search")),u.addEventListener("click",(function(){return t.doSearch(t.$searchInput.val())})),this.windowSizePanel=new QA(s.get(0),this);var l=Lc("<div>",{class:"igv-navbar-right-container"});n.append(l);var h=Lc('<div class="igv-navbar-toggle-button-container">');return l.append(h),this.$toggle_button_container=h,this.cursorGuide=new JA(this.columnContainer,this),this.cursorGuideButton=new eR(this,h.get(0)),this.centerLineButton=new tR(this,h.get(0)),this.setTrackLabelVisibility(e.showTrackLabels),this.trackLabelControl=new nR(h.get(0),this),this.sampleNameControl=new rR(h.get(0),this),!0===e.showSVGButton&&(this.svgSaveControl=new uR(h.get(0),this)),this.zoomWidget=new cR(this,l.get(0)),!1===e.showNavigation&&this.$navigation.hide(),this.inputDialog=new Md(this.root),this.inputDialog.container.id="igv-input-dialog-".concat(Pc()),this.dataRangeDialog=new Hd(Lc(this.root)),this.dataRangeDialog.$container.get(0).id="igv-data-range-dialog-".concat(Pc()),this.genericColorPicker=new Ab({parent:this.columnContainer,width:432}),this.genericColorPicker.container.id="igv-track-color-picker-".concat(Pc()),n}},{key:"getSampleNameViewportWidth",value:function(){return!1===this.showSampleNames?0:this.sampleNameViewportWidth}},{key:"isMultiLocusMode",value:function(){return this.referenceFrameList&&this.referenceFrameList.length>1}},{key:"addTrackToFactory",value:function(e,t){AA(e,t)}},{key:"isMultiLocusWholeGenomeView",value:function(){if(void 0===this.referenceFrameList||1===this.referenceFrameList.length)return!1;var e,t=go(this.referenceFrameList);try{for(t.s();!(e=t.n()).done;){if("all"===e.value.chr.toLowerCase())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"toSVG",value:function(){var e=this.columnContainer.getBoundingClientRect();e.x;var t,n=e.y,r=e.width,i=e.height,a=new Ly({width:r,height:8e3,backdropColor:"white",multiLocusGap:0,viewbox:{x:0,y:0,width:r,height:8e3}}),o=go(this.trackViews);try{for(o.s();!(t=o.n()).done;){t.value.renderSVGContext(a,{deltaX:0,deltaY:-n})}}catch(e){o.e(e)}finally{o.f()}return a.setHeight(i),a.getSerializedSvg(!0)}},{key:"renderSVG",value:function(e){var t=this.toSVG();return e.empty(),e.append(t),t}},{key:"saveSVGtoFile",value:function(e){var t=this.toSVG();e.$container&&(e.$container.empty(),e.$container.append(t)),cu(e.filename||"igvjs.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))}},{key:"loadSession",value:(m=Ja(regeneratorRuntime.mark((function t(n){var r,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){return a=Ja(regeneratorRuntime.mark((function t(n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.url||n.file,!n.url||!n.url.startsWith("blob:")&&!n.url.startsWith("data:")){t.next=6;break}return i=e.uncompressSession(n.url),t.abrupt("return",JSON.parse(i));case 6:if(a=n.filename){t.next=16;break}if(!n.url){t.next=14;break}return t.next=11,vb(n.url);case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=n.file.name;case 15:a=t.t0;case 16:if(!a.endsWith(".xml")){t.next=24;break}return o=$y.KNOWN_GENOMES,t.next=20,$f.loadString(r);case 20:return s=t.sent,t.abrupt("return",new MA(s,o));case 24:if(!a.endsWith(".json")){t.next=28;break}return t.abrupt("return",$f.loadJson(r));case 28:return t.abrupt("return",void 0);case 29:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},i=function(e){return a.apply(this,arguments)},this.roi=[],!n.url&&!n.file){t.next=9;break}return t.next=6,i(n);case 6:r=t.sent,t.next=10;break;case 9:r=n;case 10:return t.abrupt("return",this.loadSessionObject(r));case 11:case"end":return t.stop()}}),t,this)}))),function(e){return m.apply(this,arguments)})},{key:"loadSessionObject",value:(v=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cleanHouseForSession(),this.showSampleNames=t.showSampleNames||!1,this.sampleNameControl.setState(!0===this.showSampleNames),t.sampleNameViewportWidth&&(this.sampleNameViewportWidth=t.sampleNameViewportWidth),wb(this.columnContainer,"igv-axis-column"),wb(this.columnContainer,"igv-sample-name-column"),wb(this.columnContainer,"igv-scrollbar-column"),wb(this.columnContainer,"igv-track-drag-column"),wb(this.columnContainer,"igv-gear-menu-column"),e.next=11,$y.expandReference(t.reference||t.genome);case 11:return n=e.sent,e.next=14,this.loadReference(n,t.locus);case 14:if(this.centerLineList=this.createCenterLineList(this.columnContainer),!1!==t.showIdeogram&&this.trackViews.push(new Ib(this,this.columnContainer,new xA(this))),!1!==t.showRuler&&this.trackViews.push(new Ib(this,this.columnContainer,new gR(this))),t.gtexSelections){r=go(this.referenceFrameList);try{for(r.s();!(i=r.n()).done;)for(a=i.value,o=0,s=Object.keys(t.gtexSelections);o<s.length;o++)c=s[o],u=t.gtexSelections[c].gene,l=t.gtexSelections[c].snp,a.selection=new FA(u,l)}catch(e){r.e(e)}finally{r.f()}}if(t.roi){this.roi=[],h=go(t.roi);try{for(h.s();!(f=h.n()).done;)d=f.value,this.roi.push(new TA(d,this.genome))}catch(e){h.e(e)}finally{h.f()}}p=n.tracks||[],0===(g=t.tracks?p.concat(t.tracks):p).filter((function(e){return"sequence"===e.type})).length&&g.push({type:"sequence",order:py}),v=1,m=go(g);try{for(m.s();!(y=m.n()).done;)void 0===(b=y.value).order&&(b.order=v++)}catch(e){m.e(e)}finally{m.f()}return e.next=28,this.loadTrackList(g);case 28:this.updateUIWithReferenceFrameList();case 29:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"createCenterLineList",value:function(e){for(var t=e.querySelectorAll(".igv-center-line"),n=0;n<t.length;n++)t[n].remove();for(var r=[],i=e.querySelectorAll(".igv-column"),a=0;a<i.length;a++)r.push(new dR(this,this.referenceFrameList[a],i[a]));return r}},{key:"loadReference",value:(g=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$y.loadGenome(t);case 2:return r=e.sent,i=void 0===this.genome||this.genome.id!==r.id,this.genome=r,this.updateNavbarDOMWithGenome(r),i&&this.removeAllTracks(),a=wR(n,r),e.next=10,this.search(a,!0);case 10:if(e.sent){e.next=19;break}return console.log("Initial locus not found: "+a),a=r.getHomeChromosomeName(),e.next=16,this.search(a,!0);case 16:if(e.sent){e.next=19;break}throw new Error("Cannot set initial locus");case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"cleanHouseForSession",value:function(){var e,t=go(this.trackViews);try{for(t.s();!(e=t.n()).done;){e.value.removeDOMFromColumnContainer()}}catch(e){t.e(e)}finally{t.f()}this.columnContainer.querySelectorAll(".igv-axis-column, .igv-column-shim, .igv-column, .igv-sample-name-column, .igv-scrollbar-column, .igv-track-drag-column, .igv-gear-menu-column").forEach((function(e){return e.remove()})),this.trackViews=[]}},{key:"updateNavbarDOMWithGenome",value:function(e){this.$current_genome.text(e.id||""),this.$current_genome.attr("title",e.id||""),this.chromosomeSelectWidget.update(e)}},{key:"loadGenome",value:function(){var e=Ja(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$y.expandReference(t);case 2:return n=e.sent,e.next=5,this.loadReference(n,void 0);case 5:return r=n.tracks||[],0===r.filter((function(e){return"sequence"===e.type})).length&&r.push({type:"sequence",order:py}),e.next=10,this.loadTrackList(r);case 10:return e.next=12,this.updateViews();case 12:return e.abrupt("return",this.genome);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUIWithReferenceFrameList",value:function(){var e=this.referenceFrameList;this.updateLocusSearchWidget();var t=this.isMultiLocusWholeGenomeView()||$y.isWholeGenomeView(e[0].chr);this.navbarManager.navbarDidResize(this.$navigation.width(),t),xR(this.trackViews,this.trackLabelsVisible),this.setCenterLineAndCenterLineButtonVisibility(!$y.isWholeGenomeView(e[0].chr))}},{key:"setTrackLabelVisibility",value:function(e){xR(this.trackViews,e)}},{key:"setCursorGuideVisibility",value:function(e){e?this.cursorGuide.show():this.cursorGuide.hide()}},{key:"setCustomCursorGuideMouseHandler",value:function(e){this.cursorGuide.customMouseHandler=e}},{key:"setCenterLineVisibility",value:function(e){var t,n=go(this.centerLineList);try{for(n.s();!(t=n.n()).done;){var r=t.value;!0===e?(r.show(),r.repaint()):r.hide()}}catch(e){n.e(e)}finally{n.f()}}},{key:"setCenterLineAndCenterLineButtonVisibility",value:function(e){var t,n=go(this.centerLineList);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&r.isVisible?r.show():r.container.style.display="none"}}catch(e){n.e(e)}finally{n.f()}e&&this.centerLineButton.isVisible?this.centerLineButton.show():this.centerLineButton.button.style.display="none"}},{key:"loadTrackList",value:(p=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],r=go(t);try{for(r.s();!(i=r.n()).done;)a=i.value,n.push(this.loadTrack(a,!1))}catch(e){r.e(e)}finally{r.f()}return e.next=6,Promise.all(n);case 6:return o=e.sent,(s=this.trackViews.filter((function(e){return e.track.autoscaleGroup}))).length>0&&this.updateViews(s),e.abrupt("return",o);case 10:return e.prev=10,e.next=13,this.resize();case 13:return e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,,10,14]])}))),function(e){return p.apply(this,arguments)})},{key:"loadROI",value:(d=Ja(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.roi||(this.roi=[]),Array.isArray(t)){n=go(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.roi.push(new TA(i,this.genome))}catch(e){n.e(e)}finally{n.f()}}else this.roi.push(new TA(t,this.genome));return e.next=4,this.updateViews(!0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"removeROI",value:function(e){for(var t=0;t<this.roi.length;t++)if(this.roi[t].name===e.name){this.roi.splice(t,1);break}var n,r=go(this.trackViews);try{for(r.s();!(n=r.n()).done;){n.value.updateViews(!0)}}catch(e){r.e(e)}finally{r.f()}}},{key:"clearROIs",value:function(){this.roi=[];var e,t=go(this.trackViews);try{for(t.s();!(e=t.n()).done;){e.value.updateViews(!0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"getRulerTrackView",value:function(){var e=this.trackViews.filter((function(e){return"ruler"===e.track.id}));return e.length>0?e[0]:void 0}},{key:"loadTrack",value:(f=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zc(t)&&(t=JSON.parse(t)),e.prev=1,e.next=4,this.createTrack(t);case 4:if(void 0!==(r=e.sent)){e.next=8;break}return Ld.presentAlert(new Error("Unknown file type: ".concat(t.url||t)),void 0),e.abrupt("return",r);case 8:if(void 0===r.order&&(r.order=this.trackViews.length),i=new Ib(this,this.columnContainer,r),this.trackViews.push(i),xR(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),"function"!=typeof r.postInit){e.next=22;break}return e.prev=15,i.startSpinner(),e.next=19,r.postInit();case 19:return e.prev=19,i.stopSpinner(),e.finish(19);case 22:if(r.autoscaleGroup){e.next=29;break}if(!t.sync){e.next=28;break}return e.next=26,i.updateViews();case 26:e.next=29;break;case 28:i.updateViews();case 29:return"function"==typeof r.hasSamples&&r.hasSamples()&&!1!==this.config.showSampleNameButton&&this.sampleNameControl.show(),e.abrupt("return",r);case 33:e.prev=33,e.t0=e.catch(1),a={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},console.error(e.t0),o=e.t0.message||e.t0.error||e.t0.toString(),a.hasOwnProperty(o)&&(o=a[o]),o+=": "+t.url,Ld.presentAlert(new Error(o),void 0);case 41:if(e.prev=41,!1!==n){e.next=45;break}e.next=47;break;case 45:return e.next=47,this.resize();case 47:return e.finish(41);case 48:case"end":return e.stop()}}),e,this,[[1,33,41,48],[15,,19,22]])}))),function(e,t){return f.apply(this,arguments)})},{key:"createTrack",value:function(){var e=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,au(t.url);case 2:if(zc(n=e.sent)&&(n=n.trim()),!n){e.next=18;break}if(!t.format){e.next=9;break}t.format=t.format.toLowerCase(),e.next=18;break;case 9:if(r=t.filename){e.next=14;break}return e.next=13,vb(n);case 13:r=e.sent;case 14:if(t.format=Zm(r),t.format||void 0!==t.sourceType&&"htsget"!==t.sourceType){e.next=18;break}return e.next=18,pS.inferFormat(t);case 18:if(i=t.type?t.type.toLowerCase():void 0){e.next=29;break}if("bedtype"!==(i=Ym(t))){e.next=28;break}return a=ZS(t,this.genome),t._featureSource=a,e.next=26,a.trackType();case 26:o=e.sent,i=o||"annotation";case 28:t.type=i;case 29:if(this.trackDefaults&&i&&(s=this.trackDefaults[i]))for(c in s)s.hasOwnProperty(c)&&void 0===t[c]&&(t[c]=s[c]);if((u=RA(i,t,this))&&t.roi){u.roi=[],l=go(t.roi);try{for(l.s();!(h=l.n()).done;)f=h.value,u.roi.push(new TA(f,this.genome))}catch(e){l.e(e)}finally{l.f()}}return e.abrupt("return",u);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reorderTracks",value:function(){this.trackViews.sort((function(e,t){var n=function(e){return"ideogram"===e.track.id?1:"ruler"===e.track.id?2:3},r=n(e),i=n(t);return r===i?(e.track.order||0)-(t.track.order||0):r-i}));var e,t=go(this.trackViews);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.axis,i=n.viewports,a=n.sampleNameViewport,o=n.outerScroll,s=n.dragHandle,c=n.gearContainer;r.remove();var u,l=go(i);try{for(l.s();!(u=l.n()).done;){u.value.$viewport.detach()}}catch(e){l.e(e)}finally{l.f()}a.viewport.remove(),o.remove(),s.remove(),c.remove()}}catch(e){t.e(e)}finally{t.f()}var h,f=this.columnContainer.querySelectorAll(".igv-column"),d=go(this.trackViews);try{for(d.s();!(h=d.n()).done;){var p=h.value,g=p.axis,v=p.viewports,m=p.sampleNameViewport,y=p.outerScroll,b=p.dragHandle,w=p.gearContainer;this.columnContainer.querySelector(".igv-axis-column").appendChild(g);for(var x=0;x<f.length;x++){var k=v[x].$viewport;f[x].appendChild(k.get(0))}this.columnContainer.querySelector(".igv-sample-name-column").appendChild(m.viewport),this.columnContainer.querySelector(".igv-scrollbar-column").appendChild(y),this.columnContainer.querySelector(".igv-track-drag-column").appendChild(b),this.columnContainer.querySelector(".igv-gear-menu-column").appendChild(w)}}catch(e){d.e(e)}finally{d.f()}}},{key:"getTrackOrder",value:function(){return this.trackViews.filter((function(e){return e.track&&e.track.name})).map((function(e){return e.track.name}))}},{key:"removeTrackByName",value:function(e){var t,n=go(this.trackViews.slice());try{for(n.s();!(t=n.n()).done;){var r=t.value;e===r.track.name&&this.removeTrack(r.track)}}catch(e){n.e(e)}finally{n.f()}}},{key:"removeTrack",value:function(e){this.trackViews.splice(this.trackViews.indexOf(e.trackView),1),this.fireEvent("trackremoved",[e]),this.fireEvent("trackorderchanged",[this.getTrackOrder()]),e.trackView.dispose()}},{key:"removeAllTracks",value:function(){var e,t=[],n=go(this.trackViews);try{for(n.s();!(e=n.n()).done;){var r=e.value;"ruler"!==r.track.id&&"ideogram"!==r.track.id?(this.fireEvent("trackremoved",[r.track]),r.dispose()):t.push(r)}}catch(e){n.e(e)}finally{n.f()}this.trackViews=t}},{key:"findTracks",value:function(e,t){var n="function"==typeof e?function(t){return e(t.track)}:function(n){return t===n.track[e]};return this.trackViews.filter(n).map((function(e){return e.track}))}},{key:"setTrackHeight",value:function(e){this.trackHeight=e,this.trackViews.forEach((function(t){t.setTrackHeight(e)}))}},{key:"visibilityChange",value:function(){var e=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.referenceFrameList.find((function(e){return e.bpPerPixel<0})),t){n=this.calculateViewportWidth(this.referenceFrameList.length),r=go(this.referenceFrameList);try{for(r.s();!(i=r.n()).done;)(a=i.value).bpPerPixel=(a.end-a.start)/n}catch(e){r.e(e)}finally{r.f()}}return this.referenceFrameList&&(o=this.isMultiLocusWholeGenomeView()||$y.isWholeGenomeView(this.referenceFrameList[0].chr),this.navbarManager.navbarDidResize(this.$navigation.width(),o)),e.next=5,this.resize();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resize",value:(h=Ja(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.calculateViewportWidth(this.referenceFrameList.length),n=go(this.referenceFrameList);try{for(n.s();!(r=n.n()).done;){i=r.value,a=this.referenceFrameList.indexOf(i),o=i.chr,s=i.genome,c=s.getChromosome(i.chr),u=c.bpLength,l=i.toBP(t),$y.isWholeGenomeView(o)||l>u?i.bpPerPixel=u/t:i.end=i.start+i.toBP(t),h=go(this.trackViews);try{for(h.s();!(f=h.n()).done;)f.value.viewports[a].setWidth(t)}catch(e){h.e(e)}finally{h.f()}}}catch(e){n.e(e)}finally{n.f()}return e.next=5,this.updateViews(!0);case 5:this.updateUIWithReferenceFrameList();case 6:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"updateViews",value:(l=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,h,f,d,p,g,v,m,y,b,w,x,k,_,S,C,E,A,R,T,L,M,I,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.trackViews,this.updateLocusSearchWidget(),r=go(this.centerLineList);try{for(r.s();!(i=r.n()).done;)i.value.repaint()}catch(e){r.e(e)}finally{r.f()}if(!this.dragObject){e.next=24;break}a=go(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=14;break}return s=o.value,e.next=12,s.updateViews(t);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=54;break;case 24:c={},u=[],l=go(n);try{for(l.s();!(h=l.n()).done;)f=h.value,(d=f.track.autoscaleGroup)?((p=c[d])||(p=[],c[d]=p),p.push(f)):u.push(f)}catch(e){l.e(e)}finally{l.f()}if(!(Object.entries(c).length>0)){e.next=52;break}g=Object.keys(c),v=0,m=g;case 31:if(!(v<m.length)){e.next=52;break}y=m[v],b=c[y],w=[],x=go(b);try{for(x.s();!(k=x.n()).done;)_=k.value,w.push(_.getInViewFeatures())}catch(e){x.e(e)}finally{x.f()}return e.next=39,Promise.all(w);case 39:S=e.sent,C=[],A=go(S);try{for(A.s();!(R=A.n()).done;)T=R.value,C=C.concat(T)}catch(e){A.e(e)}finally{A.f()}E=pb(C),L=[],M=go(b);try{for(M.s();!(I=M.n()).done;)(O=I.value).track.dataRange=E,O.track.autoscale=!1,L.push(O.updateViews(t))}catch(e){M.e(e)}finally{M.f()}return e.next=49,Promise.all(L);case 49:v++,e.next=31;break;case 52:return e.next=54,Promise.all(u.map((function(e){return e.updateViews(t)})));case 54:case"end":return e.stop()}}),e,this,[[6,16,19,22]])}))),function(e){return l.apply(this,arguments)})},{key:"updateLocusSearchWidget",value:function(){var e,t=this.referenceFrameList,n=this.calculateViewportWidth(this.referenceFrameList.length),r=go(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.end=i.start+i.bpPerPixel*n}}catch(e){r.e(e)}finally{r.f()}this.chromosomeSelectWidget.select.value=1===t.length?this.referenceFrameList[0].chr:"";var a=this.referenceFrameList.map((function(e){return e.getLocusString()})).join(" ");this.$searchInput.val(a),this.fireEvent("locuschange",[this.referenceFrameList])}},{key:"calculateViewportWidth",value:function(e){var t=this.columnContainer.getBoundingClientRect().width;return t-=50+this.getSampleNameViewportWidth()+14+12+28,t-=5*(e-1),Math.floor(t/e)}},{key:"getCenterLineXOffset",value:function(){var e=this.columnContainer.getBoundingClientRect().width;return e-=50+this.getSampleNameViewportWidth()+14+12+28,Math.floor(e/2+50)}},{key:"minimumBases",value:function(){return this.config.minimumBases}},{key:"zoomIn",value:function(){this.zoomWithScaleFactor(.5)}},{key:"zoomOut",value:function(){this.zoomWithScaleFactor(2)}},{key:"zoomWithScaleFactor",value:(u=Ja(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=this.calculateViewportWidth(this.referenceFrameList.length),a=r?[r]:this.referenceFrameList,o=go(a);try{for(o.s();!(s=o.n()).done;)s.value.zoomWithScaleFactor(this,t,i,n)}catch(e){o.e(e)}finally{o.f()}case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"presentMultiLocusPanel",value:(c=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,h,f,d,p,g,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.calculateViewportWidth(1+this.referenceFrameList.length),HA(this.calculateViewportWidth(this.referenceFrameList.length)/this.calculateViewportWidth(1+this.referenceFrameList.length),n,r,t.start,t.lengthOnRef),i=this.genome.getChromosomeName(t.mate.chr),a=jA(this.genome,i,n.bpPerPixel,r,t.mate.position,t.lengthOnRef),o=this.referenceFrameList.indexOf(n),s=1+this.referenceFrameList.indexOf(n),c=this.trackViews[0].viewports[o].$viewport,u=hR(c.get(0).parentElement),s===this.referenceFrameList.length){this.referenceFrameList.push(a),l=go(this.trackViews);try{for(l.s();!(h=l.n()).done;)f=h.value,d=_b(f,u,a),f.viewports.push(d)}catch(e){l.e(e)}finally{l.f()}}else{this.referenceFrameList.splice(s,0,a),p=go(this.trackViews);try{for(p.s();!(g=p.n()).done;)v=g.value,m=_b(v,u,a),v.viewports.splice(s,0,m)}catch(e){p.e(e)}finally{p.f()}}return this.centerLineList=this.createCenterLineList(this.columnContainer),e.next=13,this.resize();case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"removeMultiLocusPanel",value:(s=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.referenceFrameList.indexOf(t),r=this.trackViews[0].viewports[n].$viewport,lR(n,r.parent().get(0)),i=go(this.trackViews);try{for(i.s();!(a=i.n()).done;)(o=a.value.viewports)[n].dispose(),o.splice(n,1)}catch(e){i.e(e)}finally{i.f()}if(this.referenceFrameList.splice(n,1),1===this.referenceFrameList.length&&this.getRulerTrackView()){s=go(this.getRulerTrackView().viewports);try{for(s.s();!(c=s.n()).done;)c.value.dismissLocusLabel()}catch(e){s.e(e)}finally{s.f()}}return u=this.calculateViewportWidth(1+this.referenceFrameList.length)/this.calculateViewportWidth(this.referenceFrameList.length),e.next=10,this.rescaleForMultiLocus(u);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"rescaleForMultiLocus",value:(o=Ja(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.calculateViewportWidth(this.referenceFrameList.length),r=go(this.referenceFrameList);try{for(r.s();!(i=r.n()).done;)i.value.bpPerPixel*=t}catch(e){r.e(e)}finally{r.f()}a=go(this.trackViews);try{for(a.s();!(o=a.n()).done;){s=o.value.viewports,c=go(s);try{for(c.s();!(u=c.n()).done;)u.value.setWidth(n)}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return this.centerLineList=this.createCenterLineList(this.columnContainer),this.updateUIWithReferenceFrameList(),e.next=9,this.updateViews(!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"goto",value:(a=Ja(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.search(t+":"+n+"-"+r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"doSearch",value:(i=Ja(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.search(t,n);case 2:return(r=e.sent)||Ld.presentAlert(new Error("Unrecognized locus: <b> ".concat(t," </b>"))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"search",value:(r=Ja(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qA(this,t);case 2:if(!((r=e.sent)&&r.length>0)){e.next=19;break}this.referenceFrameList=zA(r,this.genome,this.flanking,this.minimumBases(),this.calculateViewportWidth(r.length)),i=go(this.trackViews);try{for(i.s();!(a=i.n()).done;)a.value.removeDOMFromColumnContainer()}catch(e){i.e(e)}finally{i.f()}this.columnContainer.querySelectorAll(".igv-column-shim, .igv-column").forEach((function(e){return e.remove()})),fR(this.columnContainer.querySelector(".igv-sample-name-column"),this.referenceFrameList.length),this.centerLineList=this.createCenterLineList(this.columnContainer),o=go(this.trackViews);try{for(o.s();!(s=o.n()).done;)s.value.addDOMToColumnContainer(this,this.columnContainer,this.referenceFrameList)}catch(e){o.e(e)}finally{o.f()}if(this.updateUIWithReferenceFrameList(),n){e.next=16;break}return e.next=16,this.updateViews();case 16:return e.abrupt("return",!0);case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"loadSampleInformation",value:(n=Ja(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,t instanceof File&&(n=t.name),"fam"!==n.substr(n.lastIndexOf(".")+1)){e.next=7;break}return e.next=6,NA(t);case 6:this.sampleInformation=e.sent;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"on",value:function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}},{key:"un",value:function(e,t){this.off(e,t)}},{key:"off",value:function(e,t){if(e)if(t){var n=this.eventHandlers[e];if(n&&0!==n.length){var r=n.indexOf(t);-1!==r&&this.eventHandlers[e].splice(r,1)}else console.warn("No handlers to remove for event: "+e)}else this.eventHandlers[e]=[];else this.eventHandlers={}}},{key:"fireEvent",value:function(e,t,n){var r=this.eventHandlers[e];if(void 0!==r&&0!==r.length){var i=n||window;return r.map((function(e){return e.apply(i,t)}))[0]}}},{key:"dispose",value:function(){this.removeMouseHandlers();var e,t=go(this.trackViews);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}}},{key:"toJSON",value:function(){var e={version:"2.10.1"};if(void 0!==this.showSampleNames&&(e.showSampleNames=this.showSampleNames),200!==this.sampleNameViewportWidth&&(e.sampleNameViewportWidth=this.sampleNameViewportWidth),e.reference=this.genome.toJSON(),su(e.reference.fastaURL))throw new Error("Error. Sessions cannot include local file references ".concat(e.reference.fastaURL.name,"."));if(su(e.reference.indexURL))throw new Error("Error. Sessions cannot include local file references ".concat(e.reference.indexURL.name,"."));var t,n=[],r={},i=go(this.trackViews[0].viewports);try{for(i.s();!(t=i.n()).done;){var a=t.value.referenceFrame,o=a.getLocusString();if(n.push(o),a.selection){var s={gene:a.selection.gene,snp:a.selection.snp};r[o]=s}}}catch(e){i.e(e)}finally{i.f()}e.locus=1===n.length?n[0]:n,Object.getOwnPropertyNames(r).length>0&&(e.gtexSelections=r);var c,u=[],l=[],h=go(this.trackViews);try{for(h.s();!(c=h.n()).done;){var f=c.value.track;try{var d=void 0;(d="function"==typeof f.getState?f.getState():f.config)&&(d.browser&&delete d.browser,d.order=f.order,u.push(d))}catch(y){l.push(y)}}}catch(e){h.e(e)}finally{h.f()}if(l.length>0){var p,g=1,v="Errors encountered saving session:",m=go(l);try{for(m.s();!(p=m.n()).done;){var y=p.value;v+=" (".concat(g++,") ").concat(y.toString(),".")}}catch(e){m.e(e)}finally{m.f()}throw Error(v)}var b=u.filter((function(e){e.url&&su(e.url)}));if(b.length>0)throw new Error("Error. Sessions cannot include local file references.");return e.tracks=u,e}},{key:"compressedSession",value:function(){return function(e){const t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e.charCodeAt(n);const r=new kf.deflateRaw(t),i=String.fromCharCode.apply(null,r);return btoa(i).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))}},{key:"sessionURL",value:function(){var e=window.location.href.slice(),t=e.indexOf("?");return(t>0?e.substring(0,t):e)+"?sessionURL=blob:"+this.compressedSession()}},{key:"currentLoci",value:function(){var e,t=[],n=go(this.trackViews[0].viewports);try{for(n.s();!(e=n.n()).done;){var r=e.value.referenceFrame.getLocusString();t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"mouseDownOnViewport",value:function(e,t){var n;n=Oc(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,referenceFrame:t.referenceFrame}}},{key:"cancelTrackPan",value:function(){var e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))}},{key:"startTrackDrag",value:function(e){this.dragTrack=e}},{key:"updateTrackDrag",value:function(e){if(e&&this.dragTrack){var t=this.dragTrack,n=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),i=this.trackViews;i[n]=t,i[r]=e;var a=this.trackViews[n].track.order;this.trackViews[r].track.order=a;var o=i.length,s=a;if(n<r)for(var c=n+1;c<o;c++){var u=i[c].track;if(!(u.order<=s))break;u.order=Math.min(Number.MAX_SAFE_INTEGER,s+1),s=u.order}else for(var l=n-1;l>0;l--){var h=i[l].track;if(!(h.order>=s))break;h.order=Math.max(-Number.MAX_SAFE_INTEGER,s-1),s=h.order}this.reorderTracks()}}},{key:"endTrackDrag",value:function(){this.dragTrack?(this.dragTrack=void 0,this.fireEvent("trackorderchanged",[this.getTrackOrder()])):this.dragTrack=void 0}},{key:"addMouseHandlers",value:function(){this.addWindowResizeHandler(),this.addRootMouseUpHandler(),this.addRootMouseLeaveHandler(),this.addColumnContainerEventHandlers()}},{key:"removeMouseHandlers",value:function(){this.removeWindowResizeHandler(),this.removeRootMouseUpHandler(),this.removeRootMouseLeaveHandler(),this.removeColumnContainerEventHandlers()}},{key:"addWindowResizeHandler",value:function(){this.boundWindowResizeHandler=function(){this.resize()}.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)}},{key:"removeWindowResizeHandler",value:function(){window.removeEventListener("resize",this.boundWindowResizeHandler)}},{key:"addRootMouseUpHandler",value:function(){this.boundRootMouseUpHandler=bR.bind(this),this.root.addEventListener("mouseup",this.boundRootMouseUpHandler)}},{key:"removeRootMouseUpHandler",value:function(){this.root.removeEventListener("mouseup",this.boundRootMouseUpHandler)}},{key:"addRootMouseLeaveHandler",value:function(){this.boundRootMouseLeaveHandler=bR.bind(this),this.root.addEventListener("mouseleave",this.boundRootMouseLeaveHandler)}},{key:"removeRootMouseLeaveHandler",value:function(){this.root.removeEventListener("mouseleave",this.boundRootMouseLeaveHandler)}},{key:"addColumnContainerEventHandlers",value:function(){this.boundColumnContainerMouseMoveHandler=yR.bind(this),this.boundColumnContainerTouchMoveHandler=yR.bind(this),this.boundColumnContainerMouseLeaveHandler=bR.bind(this),this.boundColumnContainerMouseUpHandler=bR.bind(this),this.boundColumnContainerTouchEndHandler=bR.bind(this),this.columnContainer.addEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.addEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.addEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.addEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.addEventListener("touchend",this.boundColumnContainerTouchEndHandler)}},{key:"removeColumnContainerEventHandlers",value:function(){this.columnContainer.removeEventListener("mousemove",this.boundColumnContainerMouseMoveHandler),this.columnContainer.removeEventListener("touchmove",this.boundColumnContainerTouchMoveHandler),this.columnContainer.removeEventListener("mouseleave",this.boundColumnContainerMouseLeaveHandler),this.columnContainer.removeEventListener("mouseup",this.boundColumnContainerMouseUpHandler),this.columnContainer.removeEventListener("touchend",this.boundColumnContainerTouchEndHandler)}},{key:"getDriveFileInfo",value:(t=Ja(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yc(t),r="https://www.googleapis.com/drive/v3/files/"+n+"?supportsTeamDrives=true",e.abrupt("return",$f.loadJson(r,db({})));case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}],[{key:"uncompressSession",value:function(e){if(e.indexOf("/gzip;base64")>0){var t,n="",r=go(Tf(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=String.fromCharCode(i)}}catch(e){r.e(e)}finally{r.f()}return n}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");const t=atob(e),n=[];for(let e=0;e<t.length;e++)n.push(t.charCodeAt(e));const r=kf.inflateRaw(n);let i="";for(let e of r)i+=String.fromCharCode(e);return i}(e.substring(5))}}]),e}();function yR(e){e.preventDefault();var t=Oc(e),n=t.x,r=t.y;if(this.vpMouseDown){var i=this.vpMouseDown,a=i.viewport,o=i.referenceFrame,s=Math.abs(n-this.vpMouseDown.mouseDownX)>Math.abs(r-this.vpMouseDown.mouseDownY);if(!this.dragObject&&!this.isScrolling)if(s)this.vpMouseDown.mouseDownX&&Math.abs(n-this.vpMouseDown.mouseDownX)>this.constants.dragThreshold&&(this.dragObject={viewport:a,start:o.start});else if(this.vpMouseDown.mouseDownY&&Math.abs(r-this.vpMouseDown.mouseDownY)>this.constants.scrollThreshold){this.isScrolling=!0;var c=a.$viewport.height(),u=Ob(a.trackView.viewports);this.vpMouseDown.r=c/u}if(this.dragObject)o.shiftPixels(this.vpMouseDown.lastMouseX-n,a.$viewport.width())&&this.updateViews(),this.fireEvent("trackdrag");if(this.isScrolling){var l=this.vpMouseDown.r*(this.vpMouseDown.lastMouseY-r);a.trackView.moveScroller(l)}this.vpMouseDown.lastMouseX=n,this.vpMouseDown.lastMouseY=r}}function bR(e){this.cancelTrackPan(),this.endTrackDrag()}function wR(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()}function xR(e,t){var n,r=go(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value.viewports,o=go(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.$trackLabel&&(0===a.indexOf(s)&&!0===t?s.$trackLabel.show():s.$trackLabel.hide())}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}}var kR=[];function _R(){return(_R=Ja(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),$y.KNOWN_GENOMES){e.next=4;break}return e.next=4,$y.initializeGenomes(n);case 4:if(CR(n),!1!==n.queryParametersSupported&&ER(n),n.apiKey&&$f.setApiKey(n.apiKey),n.oauthToken&&Uf.setToken(n.oauthToken),!n.clientId||Qc()){e.next=11;break}return e.next=11,Kc({clientId:n.clientId,apiKey:n.apiKey,scope:"https://www.googleapis.com/auth/userinfo.profile"});case 11:if(r=new mR(n,t),kR.push(r),!n.sessionURL){e.next=18;break}return e.next=16,r.loadSession({url:n.sessionURL});case 16:e.next=20;break;case 18:return e.next=20,r.loadSessionObject(n);case 20:return i=r.isMultiLocusWholeGenomeView()||$y.isWholeGenomeView(r.referenceFrameList[0].chr),r.navbarManager.navbarDidResize(r.$navigation.width(),i),e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SR(){return(SR=Ja(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=go(kR),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.visibilityChange();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function CR(e){void 0===e.promisified&&(e.promisified=!1),void 0===e.minimumBases&&(e.minimumBases=40),void 0===e.showIdeogram&&(e.showIdeogram=!0),void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0),void 0===e.showTrackLabels&&(e.showTrackLabels=!0),void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0),void 0===e.showCursorTrackingGuide&&(e.showCursorTrackingGuide=!1),void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0),void 0===e.showCenterGuide&&(e.showCenterGuide=!1),void 0===e.showSampleNames&&(e.showSampleNames=!1),void 0===e.showSVGButton&&(e.showSVGButton=!0),void 0===e.showControls&&(e.showControls=!0),void 0===e.showNavigation&&(e.showNavigation=!0),void 0===e.showRuler&&(e.showRuler=!0),void 0===e.flanking&&(e.flanking=1e3),void 0===e.pairsSupported&&(e.pairsSupported=!0),e.tracks||(e.tracks=[])}function ER(e){var t,n,r,i,a,o,s,c,u,l,h;if(a={},t=(s=window.location.href).indexOf("?"),n=s.lastIndexOf("#"),t>=0)for(n<0&&(n=s.length),r=t+1;r<n;)(i=s.indexOf("&",r))<0&&(i=n),2===(o=s.substring(r,i).split("=",2)).length&&(c=o[0],u=decodeURIComponent(o[1]),"file"===c?l=u.split(","):"index"===c?h=u.split(","):e[c]=u,r=i+1);if(l){e.tracks||(e.tracks=[]);for(var f=0;f<l.length;f++){if(l[f].endsWith(".xml")||l[f].endsWith(".json")){e.sessionURL=l[f];break}var d={url:l[f]};h&&h.length>f&&(d.indexURL=h[f]),e.tracks.push(d)}}return a}function AR(){return(AR=Ja(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mR.prototype.createTrack.call(n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var RR=$f.setApiKey;!function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='.igv-navbar {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  padding-left: 8px;\n  padding-right: 8px;\n  margin-top: 2px;\n  margin-bottom: 6px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n  .igv-navbar .igv-navbar-left-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 32px;\n    line-height: 32px; }\n    .igv-navbar .igv-navbar-left-container .igv-logo {\n      width: 34px;\n      height: 32px;\n      margin-right: 8px; }\n    .igv-navbar .igv-navbar-left-container .igv-current-genome {\n      height: 32px;\n      margin-left: 4px;\n      margin-right: 4px;\n      user-select: none;\n      line-height: 32px;\n      vertical-align: middle;\n      text-align: center; }\n    .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location {\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%; }\n      .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container {\n        display: flex;\n        flex-flow: column;\n        flex-wrap: nowrap;\n        justify-content: space-around;\n        align-items: center;\n        height: 100%;\n        width: 125px;\n        margin-right: 4px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-chromosome-select-widget-container select {\n          display: block;\n          cursor: pointer;\n          width: 100px;\n          height: 75%;\n          outline: none;\n          font-size: 12px;\n          font-family: "Open Sans", sans-serif;\n          font-weight: 400; }\n      .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group {\n        display: flex;\n        flex-flow: row;\n        flex-wrap: nowrap;\n        justify-content: space-between;\n        align-items: center;\n        margin-left: 8px;\n        height: 22px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container {\n          display: flex;\n          flex-flow: row;\n          flex-wrap: nowrap;\n          justify-content: flex-start;\n          align-items: center;\n          width: 210px;\n          height: 22px;\n          line-height: 22px; }\n          .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container input.igv-search-input {\n            cursor: text;\n            width: 85%;\n            height: 22px;\n            line-height: 22px;\n            font-size: 12px;\n            font-family: "Open Sans", sans-serif;\n            font-weight: 400;\n            text-align: left;\n            padding-left: 8px;\n            margin-right: 8px;\n            outline: none;\n            border-style: solid;\n            border-radius: 3px;\n            border-width: thin;\n            border-color: #bfbfbf;\n            background-color: white; }\n          .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-search-container .igv-search-icon-container {\n            cursor: pointer;\n            height: 16px;\n            width: 16px; }\n        .igv-navbar .igv-navbar-left-container .igv-navbar-genomic-location .igv-locus-size-group .igv-windowsize-panel-container {\n          margin-left: 4px;\n          user-select: none; }\n  .igv-navbar .igv-navbar-right-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 32px;\n    line-height: 32px; }\n    .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container {\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%; }\n      .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div {\n        margin-left: 0;\n        margin-right: 4px; }\n      .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container div:last-child {\n        margin-left: 0;\n        margin-right: 0; }\n    .igv-navbar .igv-navbar-right-container .igv-navbar-toggle-button-container-750 {\n      display: none; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget {\n      color: #737373;\n      font-size: 18px;\n      height: 32px;\n      line-height: 32px;\n      margin-left: 8px;\n      user-select: none;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-end;\n      align-items: center; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div {\n        cursor: pointer;\n        margin-left: unset;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:first-child {\n        height: 24px;\n        width: 24px;\n        margin-left: unset;\n        margin-right: 8px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:last-child {\n        height: 24px;\n        width: 24px;\n        margin-left: 8px;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget div:nth-child(even) {\n        display: block;\n        height: fit-content; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget input {\n        display: block;\n        width: 125px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget svg {\n        display: block; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 {\n      color: #737373;\n      font-size: 18px;\n      height: 32px;\n      line-height: 32px;\n      margin-left: 8px;\n      user-select: none;\n      display: flex;\n      flex-flow: row;\n      flex-wrap: nowrap;\n      justify-content: flex-end;\n      align-items: center; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div {\n        cursor: pointer;\n        margin-left: unset;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:first-child {\n        height: 24px;\n        width: 24px;\n        margin-left: unset;\n        margin-right: 8px; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:last-child {\n        height: 24px;\n        width: 24px;\n        margin-left: 8px;\n        margin-right: unset; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n        width: 0;\n        height: 0;\n        display: none; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 input {\n        width: 0;\n        height: 0;\n        display: none; }\n      .igv-navbar .igv-navbar-right-container .igv-zoom-widget-900 svg {\n        display: block; }\n    .igv-navbar .igv-navbar-right-container .igv-zoom-widget-hidden {\n      display: none; }\n\n.igv-navbar-button {\n  display: block;\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-navbar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-navbar-button:hover {\n  cursor: pointer; }\n\n.igv-zoom-in-notice-container {\n  z-index: 1024;\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  background-color: white; }\n  .igv-zoom-in-notice-container > div {\n    padding-left: 4px;\n    padding-right: 4px;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    width: 100%;\n    height: 100%;\n    font-family: "Open Sans", sans-serif;\n    font-size: 14px;\n    font-weight: 400;\n    color: #3f3f3f; }\n\n.igv-zoom-in-notice {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .igv-zoom-in-notice div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-multi-locus-close-button {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  width: 14px;\n  height: 14px;\n  color: #666666;\n  z-index: 1000; }\n  .igv-multi-locus-close-button > svg {\n    vertical-align: top; }\n\n.igv-multi-locus-close-button:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-ruler-label {\n  position: absolute;\n  left: 50%;\n  top: 5%;\n  transform: translate(-50%, 0%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  z-index: 64;\n  color: #444444;\n  background-color: white; }\n\n.igv-multi-locus-ruler-label:hover {\n  cursor: pointer; }\n\n.igv-ruler-sweeper {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-ruler-tooltip {\n  pointer-events: none;\n  z-index: 128;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 32px;\n  background-color: transparent;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-ruler-tooltip > div {\n    pointer-events: none;\n    width: 128px;\n    height: auto;\n    padding: 1px;\n    color: #373737;\n    font-size: 10px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400;\n    background-color: white;\n    border-style: solid;\n    border-width: thin;\n    border-color: #373737; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 8px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: #e8e8e8; }\n\n.igv-center-line {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 8;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-line-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-line-thin {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0); }\n\n.igv-cursor-guide-horizontal {\n  display: none;\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  height: 1px;\n  z-index: 1;\n  margin-left: 50px;\n  margin-right: 54px;\n  border-top-style: dotted;\n  border-top-width: thin;\n  border-top-color: rgba(127, 127, 127, 0.76); }\n\n.igv-cursor-guide-vertical {\n  pointer-events: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none; }\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-menu-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-menu-popup > div:not(:first-child) {\n    width: 100%; }\n    .igv-menu-popup > div:not(:first-child) > div {\n      background: white; }\n    .igv-menu-popup > div:not(:first-child) > div.context-menu {\n      padding-left: 4px;\n      padding-right: 4px; }\n    .igv-menu-popup > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-menu-popup > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-menu-popup-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-menu-popup-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-menu-popup-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-menu-popup-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-menu-popup-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-menu-popup-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-menu-popup-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-menu-popup-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-loading-spinner-container {\n  z-index: 1024;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center; }\n  .igv-loading-spinner-container > div {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    border: 4px solid rgba(128, 128, 128, 0.5);\n    border-top-color: white;\n    animation: spin 1s ease-in-out infinite;\n    -webkit-animation: spin 1s ease-in-out infinite; }\n\n@keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@-webkit-keyframes spin {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n.igv-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-top: 4px;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none; }\n\n.igv-viewport {\n  position: relative;\n  margin-top: 5px;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content {\n  position: relative;\n  width: 100%; }\n  .igv-viewport-content > canvas {\n    position: relative;\n    display: block; }\n\n.igv-column-container {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  width: 100%; }\n\n.igv-column-shim {\n  width: 1px;\n  margin-left: 2px;\n  margin-right: 2px;\n  background-color: #545453; }\n\n.igv-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%; }\n\n.igv-axis-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 50px; }\n  .igv-axis-column > div {\n    margin-top: 5px;\n    width: 100%; }\n\n.igv-sample-name-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%; }\n\n.igv-scrollbar-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 14px; }\n  .igv-scrollbar-column > div {\n    position: relative;\n    margin-top: 5px;\n    width: 14px; }\n    .igv-scrollbar-column > div > div {\n      cursor: pointer;\n      position: absolute;\n      top: 0;\n      left: 2px;\n      width: 8px;\n      border-width: 1px;\n      border-style: solid;\n      border-color: #c4c4c4;\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px; }\n    .igv-scrollbar-column > div > div:hover {\n      background-color: #c4c4c4; }\n\n.igv-track-drag-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 12px;\n  background-color: white; }\n  .igv-track-drag-column > .igv-track-drag-handle {\n    z-index: 512;\n    position: relative;\n    cursor: pointer;\n    margin-top: 5px;\n    width: 100%;\n    border-style: solid;\n    border-width: 0;\n    border-top-right-radius: 6px;\n    border-bottom-right-radius: 6px;\n    background-color: #c4c4c4; }\n  .igv-track-drag-column .igv-track-drag-handle-hover {\n    background-color: #787878; }\n  .igv-track-drag-column > .igv-track-drag-shim {\n    position: relative;\n    margin-top: 5px;\n    width: 100%;\n    border-style: solid;\n    border-width: 0; }\n\n.igv-gear-menu-column {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  box-sizing: border-box;\n  height: 100%;\n  width: 28px; }\n  .igv-gear-menu-column > div {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    margin-top: 5px;\n    width: 100%;\n    background: white; }\n    .igv-gear-menu-column > div > div {\n      position: relative;\n      margin-top: 4px;\n      width: 16px;\n      height: 16px;\n      color: #7F7F7F; }\n    .igv-gear-menu-column > div > div:hover {\n      cursor: pointer;\n      color: #444; }\n\n/*# sourceMappingURL=dom.css.map */\n',document.head.insertBefore(e,document.head.childNodes[document.head.childNodes.length-1])}();var TR={IGVGraphics:Vd,MenuUtils:dd,DataRangeDialog:Hd,createTrack:function(e,t){return AR.apply(this,arguments)},createBrowser:function(e,t){return _R.apply(this,arguments)},removeBrowser:function(e){e.dispose(),e.root.remove(),kR=kR.filter((function(t){return t!==e}))},removeAllBrowsers:function(){var e,t=go(kR);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.dispose(),n.root.remove()}}catch(e){t.e(e)}finally{t.f()}kR=[]},visibilityChange:function(){return SR.apply(this,arguments)},setGoogleOauthToken:function(e){return Uf.setToken(e)},setOauthToken:function(e,t){return Uf.setToken(e,t)},oauth:Uf,version:Uy,setApiKey:RR,doAutoscale:pb,TrackView:Ib};return TR}));
//# sourceMappingURL=igv.min.js.map
